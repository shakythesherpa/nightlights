require=function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){function i(t,e){return f.isUndefined(e)?""+e:f.isNumber(e)&&!isFinite(e)?e.toString():f.isFunction(e)||f.isRegExp(e)?e.toString():e}function r(t,e){return f.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return r(JSON.stringify(t.actual,i),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,i),128)}function a(t,e,n,i,r){throw new g.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:r})}function s(t,e){t||a(t,!0,e,"==",g.ok)}function u(t,e){if(t===e)return!0;if(f.isBuffer(t)&&f.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return f.isDate(t)&&f.isDate(e)?t.getTime()===e.getTime():f.isRegExp(t)&&f.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:f.isObject(t)||f.isObject(e)?c(t,e):t==e}function l(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,e){if(f.isNullOrUndefined(t)||f.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(f.isPrimitive(t)||f.isPrimitive(e))return t===e;var n=l(t),i=l(e);if(n&&!i||!n&&i)return!1;if(n)return t=d.call(t),e=d.call(e),u(t,e);var r,o,a=v(t),s=v(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(r=a[o],!u(t[r],e[r]))return!1;return!0}function h(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function p(t,e,n,i){var r;f.isString(n)&&(i=n,n=null);try{e()}catch(o){r=o}if(i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!r&&a(r,n,"Missing expected exception"+i),!t&&h(r,n)&&a(r,n,"Got unwanted exception"+i),t&&r&&n&&!h(r,n)||!t&&r)throw r}var f=t("util/"),d=Array.prototype.slice,m=Object.prototype.hasOwnProperty,g=e.exports=s;g.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,r=e.name,s=i.indexOf("\n"+r);if(s>=0){var u=i.indexOf("\n",s+1);i=i.substring(u+1)}this.stack=i}}},f.inherits(g.AssertionError,Error),g.fail=a,g.ok=s,g.equal=function(t,e,n){t!=e&&a(t,e,n,"==",g.equal)},g.notEqual=function(t,e,n){t==e&&a(t,e,n,"!=",g.notEqual)},g.deepEqual=function(t,e,n){u(t,e)||a(t,e,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(t,e,n){u(t,e)&&a(t,e,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(t,e,n){t!==e&&a(t,e,n,"===",g.strictEqual)},g.notStrictEqual=function(t,e,n){t===e&&a(t,e,n,"!==",g.notStrictEqual)},g["throws"]=function(t,e,n){p.apply(this,[!0].concat(d.call(arguments)))},g.doesNotThrow=function(t,e){p.apply(this,[!1].concat(d.call(arguments)))},g.ifError=function(t){if(t)throw t};var v=Object.keys||function(t){var e=[];for(var n in t)m.call(t,n)&&e.push(n);return e}},{"util/":10}],2:[function(t,e,n){(function(e){"use strict";function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function a(t,e){if(t=m(t,0>e?0:0|g(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|_(e,n);return t=m(t,i),t.write(e,n),t}function u(t,e){if(o.isBuffer(e))return l(t,e);if(K(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return h(t,e);if(e instanceof ArrayBuffer)return p(t,e)}return e.length?f(t,e):d(t,e)}function l(t,e){var n=0|g(e.length);return t=m(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|g(e.length);t=m(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function h(t,e){var n=0|g(e.length);t=m(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function p(t,e){return o.TYPED_ARRAY_SUPPORT?(e.byteLength,t=o._augment(new Uint8Array(e))):t=h(t,new Uint8Array(e)),t}function f(t,e){var n=0|g(e.length);t=m(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function d(t,e){var n,i=0;"Buffer"===e.type&&K(e.data)&&(n=e.data,i=0|g(n.length)),t=m(t,i);for(var r=0;i>r;r+=1)t[r]=255&n[r];return t}function m(t,e){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(e)),t.__proto__=o.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=o.poolSize>>>1;return n&&(t.parent=J),t}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t,e){if(!(this instanceof v))return new v(t,e);var n=new o(t,e);return delete n.parent,n}function _(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return V(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return S(this,e,n);case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;i>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function x(t,e,n,i){return W(V(e,t.length-n),t,n,i)}function w(t,e,n,i){return W(H(e),t,n,i)}function E(t,e,n,i){return w(t,e,n,i)}function M(t,e,n,i){return W(G(e),t,n,i)}function T(t,e,n,i){return W(Z(e,t.length-n),t,n,i)}function C(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=r+s){var u,l,c,h;switch(s){case 1:128>o&&(a=o);break;case 2:u=t[r+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(a=h));break;case 3:u=t[r+1],l=t[r+2],128===(192&u)&&128===(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:u=t[r+1],l=t[r+2],c=t[r+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return L(i)}function L(t){var e=t.length;if($>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=$));return n}function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(127&t[r]);return i}function R(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=q(t[o]);return r}function k(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,i,r,a){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>r||a>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function N(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function I(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function U(t,e,n,i,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function z(t,e,n,i,r){return r||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,r){return r||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,i,52,8),n+8}function j(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return 16>t?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],a=0;i>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function G(t){return Y.toByteArray(j(t))}function W(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var Y=t("base64-js"),X=t("ieee754"),K=t("isarray");n.Buffer=o,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var J={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,a=Math.min(n,i);a>r&&t[r]===e[r];)++r;return r!==a&&(n=t[r],i=e[r]),i>n?-1:n>i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new o(e),r=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(i,r),r+=a.length}return i},o.byteLength=_,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function n(t,e,n){for(var i=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===e.length)return n+i}else i=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return n(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=e,e=0|n,n=r}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"binary":return E(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(o.TYPED_ARRAY_SUPPORT)i=o._augment(this.subarray(t,e));else{var r=e-t;i=new o(r,void 0);for(var a=0;r>a;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},o.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),X.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),X.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),X.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),X.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||A(this,t,e,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||A(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||A(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,a=i-n;if(this===t&&e>n&&i>e)for(r=a-1;r>=0;r--)t[r+e]=this[r+n];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(r=0;a>r;r++)t[r+e]=this[r+n];else t._set(this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var r=V(t.toString()),o=r.length;for(i=e;n>i;i++)this[i]=r[i%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,isarray:5}],3:[function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===h?62:e===s||e===p?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:l+26>e?e-l+26:void 0}function n(t){function n(t){l[h++]=t}var i,r,a,s,u,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var h=0;for(i=0,r=0;a>i;i+=4,r+=3)s=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(s>>8&255),n(255&s)),l}function r(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,a,s=t.length%3,u="";for(r=0,a=t.length-s;a>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],u+=n(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),p="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],4:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?r-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,d=i?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?p/u:p*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=d,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+f]=255&a,f+=d,a/=256,l-=8);t[n+f-d]|=128*m}},{}],5:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],6:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],7:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===a(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),o=i(e.split("/")),a=Math.min(r.length,o.length),s=a,u=0;a>u;u++)if(r[u]!==o[u]){s=u;break}for(var l=[],u=s;u<r.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:8}],8:[function(t,e,n){function i(){c=!1,s.length?l=s.concat(l):h=-1,l.length&&r()}function r(){if(!c){var t=setTimeout(i);c=!0;for(var e=l.length;e;){for(s=l,l=[];++h<e;)s&&s[h].run();h=-1,e=l.length}s=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},l=[],c=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],9:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],10:[function(t,e,n){(function(e,i){function r(t,e){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(e)?i.showHidden=e:e&&n._extend(i,e),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),u(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,i){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(i,t);return y(r)||(r=u(t,r,i)),r}var o=l(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),T(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(C(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(M(e))return t.stylize(Date.prototype.toString.call(e),"date");if(T(e))return c(e)}var v="",_=!1,b=["{","}"];if(d(e)&&(_=!0,b=["[","]"]),C(e)){var x=e.name?": "+e.name:"";v=" [Function"+x+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),M(e)&&(v=" "+Date.prototype.toUTCString.call(e)),T(e)&&(v=" "+c(e)),0===a.length&&(!_||0==e.length))return b[0]+v+b[1];if(0>i)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=_?h(t,e,i,m,a):a.map(function(n){return p(t,e,i,m,n,_)}),t.seen.pop(),f(E,v,b)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return _(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],a=0,s=e.length;s>a;++a)D(e,String(a))?o.push(p(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(p(t,e,n,i,r,!0))}),o}function p(t,e,n,i,r,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),D(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function f(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function _(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===L(t)}function E(t){return"object"==typeof t&&null!==t}function M(t){return E(t)&&"[object Date]"===L(t)}function T(t){return E(t)&&("[object Error]"===L(t)||t instanceof Error)}function C(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t;
}function L(t){return Object.prototype.toString.call(t)}function S(t){return 10>t?"0"+t.toString(10):t.toString(10)}function R(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;n.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),s=i[n];o>n;s=i[++n])a+=g(s)||!E(s)?" "+s:" "+r(s);return a},n.deprecate=function(t,r){function o(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),a=!0}return t.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var O,A={};n.debuglog=function(t){if(x(O)&&(O=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!A[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var i=e.pid;A[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else A[t]=function(){};return A[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=_,n.isString=y,n.isSymbol=b,n.isUndefined=x,n.isRegExp=w,n.isObject=E,n.isDate=M,n.isError=T,n.isFunction=C,n.isPrimitive=P,n.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",R(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":9,_process:8,inherits:6}],11:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function o(t){return a(t)&&f.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:o(t)?d.test(h.call(t)):i(t)&&l.test(t)}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,p=c.hasOwnProperty,f=c.toString,d=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{}],12:[function(t,e,n){function i(t,e){var n=t?t.length:0,i=[];if(!n)return i;var u=-1,l=r,c=!0,h=c&&e.length>=s?a(e):null,p=e.length;h&&(l=o,c=!1,e=h);t:for(;++u<n;){var f=t[u];if(c&&f===f){for(var d=p;d--;)if(e[d]===f)continue t;i.push(f)}else l(e,f,0)<0&&i.push(f)}return i}var r=t("lodash._baseindexof"),o=t("lodash._cacheindexof"),a=t("lodash._createcache"),s=200;e.exports=i},{"lodash._baseindexof":13,"lodash._cacheindexof":14,"lodash._createcache":15}],13:[function(t,e,n){function i(t,e,n){if(e!==e)return r(t,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function r(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}e.exports=i},{}],14:[function(t,e,n){function i(t,e){var n=t.data,i="string"==typeof e||r(e)?n.set.has(e):n.hash[e];return i?0:-1}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=i},{}],15:[function(t,e,n){(function(n){function i(t){var e=t?t.length:0;for(this.data={hash:l(null),set:new u};e--;)this.push(t[e])}function r(t){var e=this.data;"string"==typeof t||a(t)?e.set.add(t):e.hash[t]=!0}function o(t){return l&&u?new i(t):null}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var s=t("lodash._getnative"),u=s(n,"Set"),l=s(Object,"create");i.prototype.push=r,e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._getnative":16}],16:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],17:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function o(t,e,n,a){a||(a=[]);for(var u=-1,h=t.length;++u<h;){var p=t[u];i(p)&&s(p)&&(n||c(p)||l(p))?e?o(p,e,n,a):r(a,p):n||(a[a.length]=p)}return a}function a(t){return function(e){return null==e?void 0:e[t]}}function s(t){return null!=t&&u(p(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}var l=t("lodash.isarguments"),c=t("lodash.isarray"),h=9007199254740991,p=a("length");e.exports=o},{"lodash.isarguments":18,"lodash.isarray":19}],18:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(p(t))}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function s(t){return i(t)&&o(t)&&l.call(t,"callee")&&!c.call(t,"callee")}var u=Object.prototype,l=u.hasOwnProperty,c=u.propertyIsEnumerable,h=9007199254740991,p=r("length");e.exports=s},{}],19:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&_>=t}function a(t){return s(t)&&m.call(t)==c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null==t?!1:a(t)?g.test(f.call(t)):i(t)&&h.test(t)}var l="[object Array]",c="[object Function]",h=/^\[object .+?Constructor\]$/,p=Object.prototype,f=Function.prototype.toString,d=p.hasOwnProperty,m=p.toString,g=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),_=9007199254740991,y=v||function(t){return i(t)&&o(t.length)&&m.call(t)==l};e.exports=y},{}],20:[function(t,e,n){function i(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=o(n.length-e,0),a=Array(r);++i<r;)a[i]=n[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=a,t.apply(this,s)}}var r="Expected a function",o=Math.max;e.exports=i},{}],21:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17,"lodash.isarguments":22,"lodash.isarray":23}],22:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],23:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],24:[function(t,e,n){function i(t,e){var n=-1,i=r,u=t.length,l=!0,c=l&&u>=s,h=c?a():null,p=[];h?(i=o,l=!1):(c=!1,h=e?[]:p);t:for(;++n<u;){var f=t[n],d=e?e(f,n,t):f;if(l&&f===f){for(var m=h.length;m--;)if(h[m]===d)continue t;e&&h.push(d),p.push(f)}else i(h,d,0)<0&&((e||c)&&h.push(d),p.push(f))}return p}var r=t("lodash._baseindexof"),o=t("lodash._cacheindexof"),a=t("lodash._createcache"),s=200;e.exports=i},{"lodash._baseindexof":25,"lodash._cacheindexof":26,"lodash._createcache":27}],25:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],26:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],27:[function(t,e,n){(function(n){function i(t){var e=t?t.length:0;for(this.data={hash:l(null),set:new u};e--;)this.push(t[e])}function r(t){var e=this.data;"string"==typeof t||a(t)?e.set.add(t):e.hash[t]=!0}function o(t){return l&&u?new i(t):null}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var s=t("lodash._getnative"),u=s(n,"Set"),l=s(Object,"create");i.prototype.push=r,e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._getnative":28}],28:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],29:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],30:[function(t,e,n){"use strict";function i(t){this.layer=t.layer,this.zoom=t.zoom,this.layers=[this.layer.id],this.type=this.layer.type,this.features=[],this.id=this.layer.id,this["source-layer"]=this.layer["source-layer"],this.interactive=this.layer.interactive,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.filter=l(this.layer.filter),this.layoutProperties=r(this.layer,this.zoom),this.resetBuffers(t.buffers);for(var e in this.shaders){var n=this.shaders[e];this[this.getAddMethodName(e,"vertex")]=o(e,n,this.getBufferName(e,"vertex"))}}function r(t,e){var n=new c("layout",t.type,t.layout,{}).values(),i={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0},r={};for(var o in n)r[o]=n[o].calculate(e,i);return"symbol"===t.type&&(n["text-size"]&&(r["text-max-size"]=n["text-size"].calculate(18,i),r["text-size"]=n["text-size"].calculate(e+1,i)),n["icon-size"]&&(r["icon-max-size"]=n["icon-size"].calculate(18,i),r["icon-size"]=n["icon-size"].calculate(e+1,i))),new h[t.type](r)}function o(t,e,n){for(var i=[],r=0;r<e.attributes.length;r++)i=i.concat(e.attributes[r].value);var o="return this.buffers."+n+".push("+i.join(", ")+");";return d[o]||(d[o]=new Function(e.attributeArgs,o)),d[o]}function a(t){return function(e,n,i){return t.push(e,n,i)}}function s(t){return new f({type:f.BufferType.ELEMENT,attributes:[{name:"vertices",components:t||3,type:f.ELEMENT_ATTRIBUTE_TYPE}]})}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}var l=t("feature-filter"),c=t("../style/style_declaration_set"),h=t("../style/layout_properties"),p=t("./element_groups"),f=t("./buffer");e.exports=i,i.create=function(e){var n={fill:t("./fill_bucket"),line:t("./line_bucket"),circle:t("./circle_bucket"),symbol:t("./symbol_bucket")};return new n[e.layer.type](e)},i.AttributeType=f.AttributeType,i.prototype.addFeatures=function(){for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t])},i.prototype.makeRoomFor=function(t,e){return this.elementGroups[t].makeRoomFor(e)},i.prototype.resetBuffers=function(t){this.buffers=t,this.elementGroups={};for(var e in this.shaders){var n=this.shaders[e],i=this.getBufferName(e,"vertex");if(n.vertexBuffer&&!t[i]&&(t[i]=new f({type:f.BufferType.VERTEX,attributes:n.attributes})),n.elementBuffer){var r=this.getBufferName(e,"element");t[r]||(t[r]=s(n.elementBufferComponents)),this[this.getAddMethodName(e,"element")]=a(this.buffers[r])}if(n.secondElementBuffer){var o=this.getBufferName(e,"secondElement");t[o]||(t[o]=s(n.secondElementBufferComponents)),this[this.getAddMethodName(e,"secondElement")]=a(this.buffers[o])}this.elementGroups[e]=new p(t[this.getBufferName(e,"vertex")],t[this.getBufferName(e,"element")],t[this.getBufferName(e,"secondElement")])}},i.prototype.getAddMethodName=function(t,e){return"add"+u(t)+u(e)},i.prototype.getBufferName=function(t,e){return t+u(e)};var d={}},{"../style/layout_properties":71,"../style/style_declaration_set":77,"./buffer":31,"./circle_bucket":32,"./element_groups":33,"./fill_bucket":35,"./line_bucket":36,"./symbol_bucket":37,"feature-filter":125}],31:[function(t,e,n){"use strict";function i(t){if(this.type=t.type,t.arrayBuffer)this.capacity=t.capacity,this.arrayBuffer=t.arrayBuffer,this.attributes=t.attributes,this.itemSize=t.itemSize,this.length=t.length;else{this.capacity=r(i.CAPACITY_DEFAULT,i.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this.attributes=[],this.itemSize=0,this.length=0;var e=this.type===i.BufferType.VERTEX?i.VERTEX_ATTRIBUTE_ALIGNMENT:1;this.attributes=t.attributes.map(function(t){var n={};return n.name=t.name,n.components=t.components||1,n.type=t.type||i.AttributeType.UNSIGNED_BYTE,n.size=n.type.size*n.components,n.offset=this.itemSize,this.itemSize=r(n.offset+n.size,e),o(!isNaN(this.itemSize)),o(!isNaN(n.size)),o(n.type.name in i.AttributeType),n},this),this._createPushMethod(),this._refreshViews()}}function r(t,e){e=e||1;var n=t%e;return 1!==e&&0!==n&&(t+=e-n),t}var o=t("assert");i.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer.slice(0,this.length*this.itemSize),t.STATIC_DRAW),this.arrayBuffer=null)},i.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},i.prototype.setAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i];t.vertexAttribPointer(e["a_"+r.name],r.components,t[r.type.name],!1,this.itemSize,n+r.offset)}},i.prototype.get=function(t){this._refreshViews();for(var e={},n=t*this.itemSize,i=0;i<this.attributes.length;i++)for(var r=this.attributes[i],o=e[r.name]=[],a=0;a<r.components;a++){var s=(n+r.offset)/r.type.size+a;o.push(this.views[r.type.name][s])}return e},i.prototype.validate=function(t){for(var e=0,n=0;n<this.attributes.length;n++)for(var i=0;i<this.attributes[n].components;i++)o(!isNaN(t[e++]));o(e===t.length)},i.prototype._resize=function(t){var e=this.views.UNSIGNED_BYTE;this.capacity=r(t,i.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this._refreshViews(),this.views.UNSIGNED_BYTE.set(e)},i.prototype._refreshViews=function(){this.views={UNSIGNED_BYTE:new Uint8Array(this.arrayBuffer),BYTE:new Int8Array(this.arrayBuffer),UNSIGNED_SHORT:new Uint16Array(this.arrayBuffer),SHORT:new Int16Array(this.arrayBuffer)}};var a={};i.prototype._createPushMethod=function(){var t="",e=[];t+="var i = this.length++;\n",t+="var o = i * "+this.itemSize+";\n",t+="if (o + "+this.itemSize+" > this.capacity) { this._resize(this.capacity * 1.5); }\n";for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],r="o"+n;t+="\nvar "+r+" = (o + "+i.offset+") / "+i.type.size+";\n";for(var o=0;o<i.components;o++){var s="v"+e.length,u="this.views."+i.type.name+"["+r+" + "+o+"]";t+=u+" = "+s+";\n",e.push(s)}}t+="\nreturn i;\n",a[t]||(a[t]=new Function(e,t)),this.push=a[t]},i.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},i.AttributeType={BYTE:{size:1,name:"BYTE"},UNSIGNED_BYTE:{size:1,name:"UNSIGNED_BYTE"},SHORT:{size:2,name:"SHORT"},UNSIGNED_SHORT:{size:2,name:"UNSIGNED_SHORT"}},i.ELEMENT_ATTRIBUTE_TYPE=i.AttributeType.UNSIGNED_SHORT,i.CAPACITY_DEFAULT=8192,i.CAPACITY_ALIGNMENT=2,i.VERTEX_ATTRIBUTE_ALIGNMENT=4,e.exports=i},{assert:1}],32:[function(t,e,n){"use strict";function i(){r.apply(this,arguments)}var r=t("./bucket"),o=t("../util/util");e.exports=i;var a=4096;i.prototype=o.inherit(r,{}),i.prototype.shaders={circle:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["x","y","extrudeX","extrudeY"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(x * 2) + ((extrudeX + 1) / 2)","(y * 2) + ((extrudeY + 1) / 2)"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry()[0],n=0;n<e.length;n++){var i=this.makeRoomFor("circle",4),r=e[n].x,o=e[n].y;if(!(0>r||r>=a||0>o||o>=a)){var s=this.addCircleVertex(r,o,-1,-1)-i.vertexStartIndex;this.addCircleVertex(r,o,1,-1),this.addCircleVertex(r,o,1,1),this.addCircleVertex(r,o,-1,1),i.vertexLength+=4,this.addCircleElement(s,s+1,s+2),this.addCircleElement(s,s+3,s+2),i.elementLength+=2}}}},{"../util/util":123,"./bucket":30}],33:[function(t,e,n){"use strict";function i(t,e,n){this.vertexBuffer=t,this.elementBuffer=e,this.secondElementBuffer=n,this.groups=[]}function r(t,e,n){this.vertexStartIndex=t,this.elementStartIndex=e,this.secondElementStartIndex=n,this.elementLength=0,this.vertexLength=0,this.secondElementLength=0}e.exports=i,i.prototype.makeRoomFor=function(t){return(!this.current||this.current.vertexLength+t>65535)&&(this.current=new r(this.vertexBuffer.length,this.elementBuffer&&this.elementBuffer.length,this.secondElementBuffer&&this.secondElementBuffer.length),this.groups.push(this.current)),this.current}},{}],34:[function(t,e,n){"use strict";function i(t,e){this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.rtree=d(9),this.toBeInserted=[]}function r(t,e,n){return"Point"===e?u(t,n):"LineString"===e?a(t,n):"Polygon"===e?o(t,n)||a(t,n):!1}function o(t,e){return p(t,new m(e[0],e[1]))||p(t,new m(e[0],e[3]))||p(t,new m(e[2],e[1]))||p(t,new m(e[2],e[3]))?!0:a(t,e)}function a(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0,o=i.length-1;r<i.length;o=r++){var a=i[r],l=i[o],c=new m(a.y,a.x),h=new m(l.y,l.x);if(s(a,l,e[0],e[2],e[1])||s(a,l,e[0],e[2],e[3])||s(c,h,e[1],e[3],e[0])||s(c,h,e[1],e[3],e[2]))return!0}return u(t,e)}function s(t,e,n,i,r){if(e.y===t.y)return e.y===r&&Math.min(t.x,e.x)<=i&&Math.max(t.x,e.x)>=n;var o=(r-t.y)/(e.y-t.y),a=t.x+o*(e.x-t.x);return a>=n&&i>=a&&1>=o&&o>=0}function u(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)if(i[r].x>=e[0]&&i[r].y>=e[1]&&i[r].x<=e[2]&&i[r].y<=e[3])return!0;return!1}function l(t,e,n,i){return"Point"===e?f(t,n,i):"LineString"===e?h(t,n,i):"Polygon"===e?p(t,n)||h(t,n,i):!1}function c(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return 0>r?t.distSqr(e):r>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(r)._add(e))}function h(t,e,n){for(var i=n*n,r=0;r<t.length;r++)for(var o=t[r],a=1;a<o.length;a++){var s=o[a-1],u=o[a];if(c(e,s,u)<i)return!0}return!1}function p(t,e){for(var n,i,r,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)i=n[s],r=n[u],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function f(t,e,n){for(var i=n*n,r=0;r<t.length;r++)for(var o=t[r],a=0;a<o.length;a++)if(o[a].distSqr(e)<=i)return!0;return!1}var d=t("rbush"),m=t("point-geometry"),g=t("vector-tile"),v=t("../util/util");e.exports=i,i.prototype.insert=function(t,e,n){t.layers=e,t.feature=n,this.toBeInserted.push(t)},i.prototype._load=function(){this.rtree.load(this.toBeInserted),this.toBeInserted=[]},i.prototype.query=function(t,e){this.toBeInserted.length&&this._load();var n,i,o=t.params||{},a=t.x,s=t.y,u=[];"undefined"!=typeof a&&"undefined"!=typeof s?(n=(o.radius||0)*(t.tileExtent||4096)/t.scale,i=[a-n,s-n,a+n,s+n]):i=[t.minX,t.minY,t.maxX,t.maxY];for(var c=this.rtree.search(i),h=0;h<c.length;h++){var p=c[h].feature,f=c[h].layers,d=g.VectorTileFeature.types[p.type];if((!o.$type||d===o.$type)&&(!n||l(p.loadGeometry(),d,new m(a,s),n))&&r(p.loadGeometry(),d,i)){var _=p.toGeoJSON(this.x,this.y,this.z);o.includeGeometry||(_.geometry=null);for(var y=0;y<f.length;y++){var b=f[y];o.layerIds&&o.layerIds.indexOf(b)<0||u.push(v.extend({layer:b},_))}}}e(null,u)}},{"../util/util":123,"point-geometry":153,rbush:154,"vector-tile":157}],35:[function(t,e,n){"use strict";function i(){r.apply(this,arguments)}var r=t("./bucket"),o=t("../util/util");e.exports=i,i.prototype=o.inherit(r,{}),i.prototype.shaders={fill:{vertexBuffer:!0,elementBuffer:!0,secondElementBuffer:!0,secondElementBufferComponents:2,attributeArgs:["x","y"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["x","y"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry(),n=0;n<e.length;n++)this.addFill(e[n])},i.prototype.addFill=function(t){if(!(t.length<3))for(var e,n,i=t.length,r=this.makeRoomFor("fill",i+1),o=0;o<t.length;o++){var a=t[o],s=this.addFillVertex(a.x,a.y)-r.vertexStartIndex;r.vertexLength++,0===o&&(e=s),o>=2&&(a.x!==t[0].x||a.y!==t[0].y)&&(this.addFillElement(e,n,s),r.elementLength++),o>=1&&(this.addFillSecondElement(n,s),r.secondElementLength++),n=s}}},{"../util/util":123,"./bucket":30}],36:[function(t,e,n){"use strict";function i(){r.apply(this,arguments)}var r=t("./bucket"),o=t("../util/util"),a=63;e.exports=i,i.prototype=o.inherit(r,{}),i.prototype.shaders={line:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["point","extrude","tx","ty","linesofar"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(point.x << 1) | tx","(point.y << 1) | ty"]},{name:"data",components:4,type:r.AttributeType.BYTE,value:["Math.round("+a+" * extrude.x)","Math.round("+a+" * extrude.y)","linesofar / 128","linesofar % 128"]}]}},i.prototype.addFeature=function(t){for(var e=t.loadGeometry(),n=this.layoutProperties,i=0;i<e.length;i++)this.addLine(e[i],n["line-join"],n["line-cap"],n["line-miter-limit"],n["line-round-limit"])},i.prototype.addLine=function(t,e,n,i,r){for(var o=t.length;o>2&&t[o-1].equals(t[o-2]);)o--;if(!(t.length<2)){"bevel"===e&&(i=1.05);var a=t[0],s=t[o-1],u=a.equals(s);if(this.makeRoomFor("line",10*o),2!==o||!u){var l,c,h,p,f,d,m,g=n,v=u?"butt":n,_=1,y=0,b=!0;this.e1=this.e2=this.e3=-1,u&&(l=t[o-2],f=a.sub(l)._unit()._perp());for(var x=0;o>x;x++)if(h=u&&x===o-1?t[1]:t[x+1],!h||!t[x].equals(h)){f&&(p=f),l&&(c=l),l=t[x],c&&(y+=l.dist(c)),f=h?h.sub(l)._unit()._perp():p,p=p||f;var w=p.add(f)._unit(),E=w.x*f.x+w.y*f.y,M=1/E,T=c&&h,C=T?e:h?g:v;if(T&&"round"===C&&(r>M?C="miter":2>=M&&(C="fakeround")),"miter"===C&&M>i&&(C="bevel"),"bevel"===C&&(M>2&&(C="flipbevel"),i>M&&(C="miter")),"miter"===C)w._mult(M),this.addCurrentVertex(l,_,y,w,0,0,!1);else if("flipbevel"===C){if(M>100)w=f.clone();else{var P=p.x*f.y-p.y*f.x>0?-1:1,L=M*p.add(f).mag()/p.sub(f).mag();w._perp()._mult(L*P)}this.addCurrentVertex(l,_,y,w,0,0,!1),_=-_}else if("bevel"===C||"fakeround"===C){var S=_*(p.x*f.y-p.y*f.x)>0,R=-Math.sqrt(M*M-1);if(S?(m=0,d=R):(d=0,m=R),b||this.addCurrentVertex(l,_,y,p,d,m,!1),"fakeround"===C){for(var D,k=Math.floor(8*(.5-(E-.5))),O=0;k>O;O++)D=f.mult((O+1)/(k+1))._add(p)._unit(),this.addPieSliceVertex(l,_,y,D,S);this.addPieSliceVertex(l,_,y,w,S);for(var A=k-1;A>=0;A--)D=p.mult((A+1)/(k+1))._add(f)._unit(),this.addPieSliceVertex(l,_,y,D,S)}h&&this.addCurrentVertex(l,_,y,f,-d,-m,!1)}else"butt"===C?(b||this.addCurrentVertex(l,_,y,p,0,0,!1),h&&this.addCurrentVertex(l,_,y,f,0,0,!1)):"square"===C?(b||(this.addCurrentVertex(l,_,y,p,1,1,!1),this.e1=this.e2=-1,_=1),h&&this.addCurrentVertex(l,_,y,f,-1,-1,!1)):"round"===C&&(b||(this.addCurrentVertex(l,_,y,p,0,0,!1),this.addCurrentVertex(l,_,y,p,1,1,!0),this.e1=this.e2=-1,_=1),h&&(this.addCurrentVertex(l,_,y,f,-1,-1,!0),this.addCurrentVertex(l,_,y,f,0,0,!1)));b=!1}}}},i.prototype.addCurrentVertex=function(t,e,n,i,r,o,a){var s,u=a?1:0,l=this.elementGroups.line.current;l.vertexLength+=2,s=i.mult(e),r&&s._sub(i.perp()._mult(r)),this.e3=this.addLineVertex(t,s,u,0,n)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3,s=i.mult(-e),o&&s._sub(i.perp()._mult(o)),this.e3=this.addLineVertex(t,s,u,1,n)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3},i.prototype.addPieSliceVertex=function(t,e,n,i,r){var o=r?1:0;i=i.mult(e*(r?-1:1));var a=this.elementGroups.line.current;this.e3=this.addLineVertex(t,i,0,o,n)-a.vertexStartIndex,a.vertexLength++,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),a.elementLength++),r?this.e2=this.e3:this.e1=this.e3}},{"../util/util":123,"./bucket":30}],37:[function(t,e,n){"use strict";function i(t){a.apply(this,arguments),this.collisionDebug=t.collisionDebug,this.overscaling=t.overscaling}function r(t,e,n,i,r,o,a,s,u,l,c,h){this.x=t.x,this.y=t.y,this.hasText=!!n,this.hasIcon=!!i,this.hasText&&(this.glyphQuads=o?v(t,n,a,e,r,u):[],this.textCollisionFeature=new x(e,t,n,a,s,u)),this.hasIcon&&(this.iconQuads=o?_(t,i,l,e,r,h):[],this.iconCollisionFeature=new x(e,t,i,l,c,h))}var o=t("point-geometry"),a=t("./bucket"),s=t("./element_groups"),u=t("../symbol/anchor"),l=t("../symbol/get_anchors"),c=t("../util/token"),h=t("../symbol/quads"),p=t("../symbol/shaping"),f=t("../symbol/resolve_text"),d=t("../symbol/mergelines"),m=p.shapeText,g=p.shapeIcon,v=h.getGlyphQuads,_=h.getIconQuads,y=t("../symbol/clip_line"),b=t("../util/util"),x=t("../symbol/collision_feature");e.exports=i,i.prototype=b.inherit(a,{});var w=["x","y","ox","oy","tx","ty","minzoom","maxzoom","labelminzoom"],E=[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["x","y"]},{name:"offset",components:2,type:a.AttributeType.SHORT,value:["Math.round(ox * 64)","Math.round(oy * 64)"]},{name:"data1",components:4,type:a.AttributeType.UNSIGNED_BYTE,value:["tx / 4","ty / 4","(labelminzoom || 0) * 10","0"]},{name:"data2",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["(minzoom || 0) * 10","Math.min(maxzoom || 25, 25) * 10"]}];i.prototype.shaders={glyph:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:w,attributes:E},icon:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:w,attributes:E},collisionBox:{vertexBuffer:"collisionBoxVertex",attributeArgs:["point","extrude","maxZoom","placementZoom"],attributes:[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["point.x","point.y"]},{name:"extrude",components:2,type:a.AttributeType.SHORT,value:["Math.round(extrude.x)","Math.round(extrude.y)"]},{name:"data",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["maxZoom * 10","placementZoom * 10"]}]}},i.prototype.addFeatures=function(t,e,n){var i=512*this.overscaling,r=4096;this.tilePixelRatio=r/i,this.compareText={},this.symbolInstances=[];var o=this.layoutProperties,a=this.features,s=this.textFeatures,u=.5,l=.5;switch(o["text-anchor"]){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(o["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}for(var h="right"===o["text-justify"]?1:"left"===o["text-justify"]?0:.5,p=24,f=o["text-line-height"]*p,v="line"!==o["symbol-placement"]?o["text-max-width"]*p:0,_=o["text-letter-spacing"]*p,y=[o["text-offset"][0]*p,o["text-offset"][1]*p],b=o["text-font"].join(","),x=[],w=0;w<a.length;w++)x.push(a[w].loadGeometry());if("line"===o["symbol-placement"]){var E=d(a,s,x);x=E.geometries,a=E.features,s=E.textFeatures}for(var M,T,C=0;C<a.length;C++)if(x[C]){if(M=s[C]?m(s[C],e[b],v,f,u,l,h,_,y):null,o["icon-image"]){var P=c(a[C].properties,o["icon-image"]),L=n[P];T=g(L,o),L&&(void 0===this.sdfIcons?this.sdfIcons=L.sdf:this.sdfIcons!==L.sdf&&console.warn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"))}else T=null;(M||T)&&this.addFeature(x[C],M,T)}this.placeFeatures(t,this.buffers,this.collisionDebug)},i.prototype.addFeature=function(t,e,n){var i=this.layoutProperties,o=24,a=i["text-size"]/o,s=this.tilePixelRatio*a,c=this.tilePixelRatio*i["text-max-size"]/o,h=this.tilePixelRatio*i["icon-size"],p=this.tilePixelRatio*i["symbol-spacing"],f=i["symbol-avoid-edges"],d=i["text-padding"]*this.tilePixelRatio,m=i["icon-padding"]*this.tilePixelRatio,g=i["text-max-angle"]/180*Math.PI,v="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],_="map"===i["icon-rotation-alignment"]&&"line"===i["symbol-placement"],b=i["text-allow-overlap"]||i["icon-allow-overlap"]||i["text-ignore-placement"]||i["icon-ignore-placement"],x="line"===i["symbol-placement"],w=p/2;x&&(t=y(t,0,0,4096,4096));for(var E=0;E<t.length;E++)for(var M=t[E],T=x?l(M,p,g,e,n,o,c,this.overscaling):[new u(M[0].x,M[0].y,0)],C=0,P=T.length;P>C;C++){var L=T[C];if(!(e&&x&&this.anchorIsTooClose(e.text,w,L))){var S=!(L.x<0||L.x>4096||L.y<0||L.y>4096);if(!f||S){var R=S||b;this.symbolInstances.push(new r(L,M,e,n,i,R,s,d,v,h,m,_))}}}},i.prototype.anchorIsTooClose=function(t,e,n){var i=this.compareText;if(t in i){for(var r=i[t],o=r.length-1;o>=0;o--)if(n.dist(r[o])<e)return!0}else i[t]=[];return i[t].push(n),!1},i.prototype.placeFeatures=function(t,e,n){this.resetBuffers(e);var i=this.elementGroups={glyph:new s(e.glyphVertex,e.glyphElement),icon:new s(e.iconVertex,e.iconElement),sdfIcons:this.sdfIcons},r=this.layoutProperties,o=t.maxScale;i.glyph["text-size"]=r["text-size"],i.icon["icon-size"]=r["icon-size"];var a="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],u="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],l=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(l){var c=t.angle,h=Math.sin(c),p=Math.cos(c);this.symbolInstances.sort(function(t,e){var n=h*t.x+p*t.y,i=h*e.x+p*e.y;return i-n})}for(var f=0;f<this.symbolInstances.length;f++){var d=this.symbolInstances[f],m=d.hasText,g=d.hasIcon,v=r["text-optional"]||!m,_=r["icon-optional"]||!g,y=m&&!r["text-allow-overlap"]?t.placeCollisionFeature(d.textCollisionFeature):t.minScale,b=g&&!r["icon-allow-overlap"]?t.placeCollisionFeature(d.iconCollisionFeature):t.minScale;v||_?!_&&y?y=Math.max(b,y):!v&&b&&(b=Math.max(b,y)):b=y=Math.max(b,y),m&&(r["text-ignore-placement"]||t.insertCollisionFeature(d.textCollisionFeature,y),o>=y&&this.addSymbols("glyph",d.glyphQuads,y,r["text-keep-upright"],a,t.angle)),g&&(r["icon-ignore-placement"]||t.insertCollisionFeature(d.iconCollisionFeature,b),o>=b&&this.addSymbols("icon",d.iconQuads,b,r["icon-keep-upright"],u,t.angle))}n&&this.addToDebugBuffers(t)},i.prototype.addSymbols=function(t,e,n,i,r,o){for(var a=this.makeRoomFor(t,4*e.length),s=this[this.getAddMethodName(t,"element")].bind(this),u=this[this.getAddMethodName(t,"vertex")].bind(this),l=this.zoom,c=Math.max(Math.log(n)/Math.LN2+l,0),h=0;h<e.length;h++){var p=e[h],f=p.angle,d=(f+o+Math.PI)%(2*Math.PI);if(!(i&&r&&(d<=Math.PI/2||d>3*Math.PI/2))){var m=p.tl,g=p.tr,v=p.bl,_=p.br,y=p.tex,b=p.anchorPoint,x=Math.max(l+Math.log(p.minScale)/Math.LN2,c),w=Math.min(l+Math.log(p.maxScale)/Math.LN2,25);if(!(x>=w)){x===c&&(x=0);var E=u(b.x,b.y,m.x,m.y,y.x,y.y,x,w,c)-a.vertexStartIndex;u(b.x,b.y,g.x,g.y,y.x+y.w,y.y,x,w,c),u(b.x,b.y,v.x,v.y,y.x,y.y+y.h,x,w,c),u(b.x,b.y,_.x,_.y,y.x+y.w,y.y+y.h,x,w,c),a.vertexLength+=4,s(E,E+1,E+2),s(E+1,E+2,E+3),a.elementLength+=2}}}},i.prototype.updateIcons=function(t){var e=this.layoutProperties["icon-image"];if(e)for(var n=0;n<this.features.length;n++){var i=c(this.features[n].properties,e);i&&(t[i]=!0)}},i.prototype.updateFont=function(t){var e=this.layoutProperties["text-font"],n=t[e]=t[e]||{};this.textFeatures=f(this.features,this.layoutProperties,n)},i.prototype.addToDebugBuffers=function(t){this.elementGroups.collisionBox=new s(this.buffers.collisionBoxVertex);for(var e=this.makeRoomFor("collisionBox",8),n=-t.angle,i=t.yStretch,r=0;r<this.symbolInstances.length;r++)for(var a=0;2>a;a++){var u=this.symbolInstances[r][0===a?"textCollisionFeature":"iconCollisionFeature"];if(u)for(var l=u.boxes,c=0;c<l.length;c++){var h=l[c],p=h.anchorPoint,f=new o(h.x1,h.y1*i)._rotate(n),d=new o(h.x2,h.y1*i)._rotate(n),m=new o(h.x1,h.y2*i)._rotate(n),g=new o(h.x2,h.y2*i)._rotate(n),v=Math.max(0,Math.min(25,this.zoom+Math.log(h.maxScale)/Math.LN2)),_=Math.max(0,Math.min(25,this.zoom+Math.log(h.placementScale)/Math.LN2));this.addCollisionBoxVertex(p,f,v,_),this.addCollisionBoxVertex(p,d,v,_),this.addCollisionBoxVertex(p,d,v,_),this.addCollisionBoxVertex(p,g,v,_),this.addCollisionBoxVertex(p,g,v,_),this.addCollisionBoxVertex(p,m,v,_),this.addCollisionBoxVertex(p,m,v,_),this.addCollisionBoxVertex(p,f,v,_),e.vertexLength+=8}}}},{"../symbol/anchor":80,"../symbol/clip_line":83,"../symbol/collision_feature":85,"../symbol/get_anchors":87,"../symbol/mergelines":90,"../symbol/quads":91,"../symbol/resolve_text":92,"../symbol/shaping":93,"../util/token":122,"../util/util":123,"./bucket":30,"./element_groups":33,"point-geometry":153}],38:[function(t,e,n){"use strict";function i(t,e,n){this.column=t,this.row=e,this.zoom=n}e.exports=i,i.prototype={clone:function(){return new i(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],39:[function(t,e,n){"use strict";function i(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,
this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=i;var r=t("../util/util").wrap;i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{"../util/util":123}],40:[function(t,e,n){"use strict";function i(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])}e.exports=i;var r=t("./lng_lat");i.prototype={extend:function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof i))return t?this.extend(r.convert(t)||i.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},getCenter:function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new r(this.getWest(),this.getNorth())},getSouthEast:function(){return new r(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},i.convert=function(t){return!t||t instanceof i?t:new i(t)}},{"./lng_lat":39}],41:[function(t,e,n){"use strict";function i(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var r=t("./lng_lat"),o=t("point-geometry"),a=t("./coordinate"),s=t("../util/util").wrap,u=t("../util/interpolate"),l=t("gl-matrix"),c=l.vec4,h=l.mat4,p=l.mat2;e.exports=i,i.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcProjMatrix(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcProjMatrix())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcProjMatrix())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcProjMatrix(),this._constrain())},get center(){return this._center},set center(t){(t.lat!==this._center.lat||t.lng!==this._center.lng)&&(this._unmodified=!1,this._center=t,this._calcProjMatrix(),this._constrain())},resize:function(t,e){this.width=t,this.height=e,this.exMatrix=h.create(),h.ortho(this.exMatrix,0,t,e,0,0,-1),this._calcProjMatrix(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new o(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new r(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-n)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var n=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var n=this.locationCoordinate(t),i=this.pointCoordinate(e),r=this.pointCoordinate(this.centerPoint),o=i._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(r._sub(o))},setZoomAround:function(t,e){var n;e&&(n=this.locationPoint(e)),this.zoom=t,e&&this.setLocationAtPoint(e,n)},setBearingAround:function(t,e){var n;e&&(n=this.locationPoint(e)),this.bearing=t,e&&this.setLocationAtPoint(e,n)},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,n=r.convert(t);return new a(this.lngX(n.lng)*e,this.latY(n.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new r(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t,e){void 0===e&&(e=0);var n=this.coordinatePointMatrix(this.tileZoom);if(h.invert(n,n),!n)throw new Error("failed to invert matrix");var i=[t.x,t.y,0,1],r=[t.x,t.y,1,1];c.transformMat4(i,i,n),c.transformMat4(r,r,n);var o=i[3],s=r[3],l=i[0]/o,p=r[0]/s,f=i[1]/o,d=r[1]/s,m=i[2]/o,g=r[2]/s,v=m===g?0:(e-m)/(g-m);return new a(u(l,p,v),u(f,d,v),this.tileZoom)},coordinatePoint:function(t){var e=this.coordinatePointMatrix(t.zoom),n=[t.column,t.row,0,1];return c.transformMat4(n,n,e),new o(n[0]/n[3],n[1]/n[3])},coordinatePointMatrix:function(t){var e=h.copy(new Float64Array(16),this.projMatrix),n=this.worldSize/this.zoomScale(t);return h.scale(e,e,[n,n,1]),h.multiply(e,this.getPixelMatrix(),e),e},getPixelMatrix:function(){var t=h.create();return h.scale(t,t,[this.width/2,-this.height/2,1]),h.translate(t,t,[1,-1,0]),t},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,i,r,a,s,u,l=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),r=e-t<l.y?l.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),i=this.lngX(this.lngRange[1]),a=i-n<l.x?l.x/(i-n):0);var h=Math.max(a||0,r||0);if(h)return this.center=this.unproject(new o(a?(i+n)/2:this.x,r?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,f=l.y/2;t>p-f&&(u=t+f),p+f>e&&(u=e-f)}if(this.lngRange){var d=this.x,m=l.x/2;n>d-m&&(s=n+m),d+m>i&&(s=i-m)}(void 0!==s||void 0!==u)&&(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},_calcProjMatrix:function(){var t=new Float64Array(16),e=Math.atan(.5/this.altitude),n=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),i=Math.cos(Math.PI/2-this._pitch)*n+this.altitude;h.perspective(t,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,i),h.translate(t,t,[0,0,-this.altitude]),h.scale(t,t,[1,-1,1/this.height]),h.rotateX(t,t,this._pitch),h.rotateZ(t,t,this.angle),h.translate(t,t,[-this.x,-this.y,0]),this.projMatrix=t}}},{"../util/interpolate":119,"../util/util":123,"./coordinate":38,"./lng_lat":39,"gl-matrix":133,"point-geometry":153}],42:[function(t,e,n){"use strict";var i={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,n,r){r=r||1;var o,a,s,u,l,c,h,p,f=[];for(o=0,a=t.length;a>o;o++)if(l=i[t[o]]){for(p=null,s=0,u=l[1].length;u>s;s+=2)-1===l[1][s]&&-1===l[1][s+1]?p=null:(c=e+l[1][s]*r,h=n-l[1][s+1]*r,p&&f.push(p.x,p.y,c,h),p={x:c,y:h});e+=l[0]*r}return f}},{}],43:[function(t,e,n){"use strict";function i(t,e,n){var i,o=t.gl,a=e.paint["background-color"],s=e.paint["background-pattern"],u=e.paint["background-opacity"],l=s?t.spriteAtlas.getPosition(s.from,!0):null,c=s?t.spriteAtlas.getPosition(s.to,!0):null;if(l&&c){i=t.patternShader,o.switchShader(i,n),o.uniform1i(i.u_image,0),o.uniform2fv(i.u_pattern_tl_a,l.tl),o.uniform2fv(i.u_pattern_br_a,l.br),o.uniform2fv(i.u_pattern_tl_b,c.tl),o.uniform2fv(i.u_pattern_br_b,c.br),o.uniform1f(i.u_opacity,u);var h=t.transform,p=l.size,f=c.size,d=h.locationCoordinate(h.center),m=1/Math.pow(2,h.zoomFraction);o.uniform1f(i.u_mix,s.t);var g=r.create();r.scale(g,g,[1/(p[0]*s.fromScale),1/(p[1]*s.fromScale)]),r.translate(g,g,[d.column*h.tileSize%(p[0]*s.fromScale),d.row*h.tileSize%(p[1]*s.fromScale)]),r.rotate(g,g,-h.angle),r.scale(g,g,[m*h.width/2,-m*h.height/2]);var v=r.create();r.scale(v,v,[1/(f[0]*s.toScale),1/(f[1]*s.toScale)]),r.translate(v,v,[d.column*h.tileSize%(f[0]*s.toScale),d.row*h.tileSize%(f[1]*s.toScale)]),r.rotate(v,v,-h.angle),r.scale(v,v,[m*h.width/2,-m*h.height/2]),o.uniformMatrix3fv(i.u_patternmatrix_a,!1,g),o.uniformMatrix3fv(i.u_patternmatrix_b,!1,v),t.spriteAtlas.bind(o,!0)}else i=t.fillShader,o.switchShader(i,n),o.uniform4fv(i.u_color,a);o.disable(o.STENCIL_TEST),o.bindBuffer(o.ARRAY_BUFFER,t.backgroundBuffer),o.vertexAttribPointer(i.a_pos,t.backgroundBuffer.itemSize,o.SHORT,!1,0,0),o.drawArrays(o.TRIANGLE_STRIP,0,t.backgroundBuffer.itemCount),o.enable(o.STENCIL_TEST),o.stencilMask(0),o.stencilFunc(o.EQUAL,128,128)}var r=t("gl-matrix").mat3;e.exports=i},{"gl-matrix":133}],44:[function(t,e,n){"use strict";function i(t,e,n,i){if(i.buffers&&(n=t.translateMatrix(n,i,e.paint["circle-translate"],e.paint["circle-translate-anchor"]),i.elementGroups[e.ref||e.id])){var o=i.elementGroups[e.ref||e.id].circle,a=t.gl;a.disable(a.STENCIL_TEST),a.switchShader(t.circleShader,n,i.exMatrix);var s=i.buffers.circleVertex,u=t.circleShader,l=i.buffers.circleElement,c=1/r.devicePixelRatio/e.paint["circle-radius"];a.uniform4fv(u.u_color,e.paint["circle-color"]),a.uniform1f(u.u_blur,Math.max(e.paint["circle-blur"],c)),a.uniform1f(u.u_size,e.paint["circle-radius"]);for(var h=0;h<o.groups.length;h++){var p=o.groups[h],f=p.vertexStartIndex*s.itemSize;s.bind(a),s.setAttribPointers(a,u,f),l.bind(a);var d=3*p.elementLength,m=p.elementStartIndex*l.itemSize;a.drawElements(a.TRIANGLES,d,a.UNSIGNED_SHORT,m)}a.enable(a.STENCIL_TEST)}}var r=t("../util/browser.js");e.exports=i},{"../util/browser.js":112}],45:[function(t,e,n){"use strict";function i(t,e,n,i){var r=i.elementGroups[e.ref||e.id].collisionBox;if(r){var o=t.gl,a=i.buffers.collisionBoxVertex,s=t.collisionBoxShader;o.enable(o.STENCIL_TEST),o.switchShader(s,n),a.bind(o),a.setAttribPointers(o,s,0),o.lineWidth(1),o.uniform1f(s.u_scale,Math.pow(2,t.transform.zoom-i.coord.z)),o.uniform1f(s.u_zoom,10*t.transform.zoom),o.uniform1f(s.u_maxzoom,10*(i.coord.z+1));var u=r.groups[0].vertexStartIndex,l=r.groups[0].vertexLength;o.drawArrays(o.LINES,u,l),o.disable(o.STENCIL_TEST)}}e.exports=i},{}],46:[function(t,e,n){"use strict";function i(t,e){var n=t.gl;n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.switchShader(t.debugShader,e.posMatrix),n.bindBuffer(n.ARRAY_BUFFER,t.debugBuffer),n.vertexAttribPointer(t.debugShader.a_pos,t.debugBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(t.debugShader.u_color,1,0,0,1),n.lineWidth(4),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.itemCount);var i=r(e.coord.toString(),50,200,5);n.bindBuffer(n.ARRAY_BUFFER,t.debugTextBuffer),n.bufferData(n.ARRAY_BUFFER,new Int16Array(i),n.STREAM_DRAW),n.vertexAttribPointer(t.debugShader.a_pos,t.debugTextBuffer.itemSize,n.SHORT,!1,0,0),n.lineWidth(8*o.devicePixelRatio),n.uniform4f(t.debugShader.u_color,1,1,1,1),n.drawArrays(n.LINES,0,i.length/t.debugTextBuffer.itemSize),n.lineWidth(2*o.devicePixelRatio),n.uniform4f(t.debugShader.u_color,0,0,0,1),n.drawArrays(n.LINES,0,i.length/t.debugTextBuffer.itemSize),n.blendFunc(n.ONE_MINUS_DST_ALPHA,n.ONE)}var r=t("../lib/debugtext"),o=t("../util/browser");e.exports=i},{"../lib/debugtext":42,"../util/browser":112}],47:[function(t,e,n){"use strict";function i(t,e,n,i){if(i.buffers&&i.elementGroups[e.ref||e.id]){var a,s,u,l,c=i.elementGroups[e.ref||e.id].fill,h=t.gl,p=t.translateMatrix(n,i,e.paint["fill-translate"],e.paint["fill-translate-anchor"]),f=e.paint["fill-color"];h.stencilMask(63),h.clear(h.STENCIL_BUFFER_BIT),h.stencilFunc(h.NOTEQUAL,128,128),h.stencilOpSeparate(h.FRONT,h.INCR_WRAP,h.KEEP,h.KEEP),h.stencilOpSeparate(h.BACK,h.DECR_WRAP,h.KEEP,h.KEEP),h.colorMask(!1,!1,!1,!1),h.switchShader(t.fillShader,p),a=i.buffers.fillVertex,a.bind(h),s=i.buffers.fillElement,s.bind(h);for(var d,m,g=0;g<c.groups.length;g++)u=c.groups[g],d=u.vertexStartIndex*a.itemSize,a.setAttribPointers(h,t.fillShader,d),l=3*u.elementLength,m=u.elementStartIndex*s.itemSize,h.drawElements(h.TRIANGLES,l,h.UNSIGNED_SHORT,m);h.colorMask(!0,!0,!0,!0),h.stencilOp(h.KEEP,h.KEEP,h.KEEP),h.stencilMask(0);var v=e.paint["fill-outline-color"];if(e.paint["fill-antialias"]===!0&&(!e.paint["fill-pattern"]||v)){h.switchShader(t.outlineShader,p),h.lineWidth(2*r.devicePixelRatio),v?h.stencilFunc(h.EQUAL,128,128):h.stencilFunc(h.EQUAL,128,191),h.uniform2f(t.outlineShader.u_world,h.drawingBufferWidth,h.drawingBufferHeight),h.uniform4fv(t.outlineShader.u_color,v?v:f),a=i.buffers.fillVertex,s=i.buffers.fillSecondElement,s.bind(h);for(var _=0;_<c.groups.length;_++)u=c.groups[_],d=u.vertexStartIndex*a.itemSize,a.setAttribPointers(h,t.outlineShader,d),l=2*u.secondElementLength,m=u.secondElementStartIndex*s.itemSize,h.drawElements(h.LINES,l,h.UNSIGNED_SHORT,m)}var y,b=e.paint["fill-pattern"],x=e.paint["fill-opacity"]||1;if(b){var w=t.spriteAtlas.getPosition(b.from,!0),E=t.spriteAtlas.getPosition(b.to,!0);if(!w||!E)return;y=t.patternShader,h.switchShader(y,n),h.uniform1i(y.u_image,0),h.uniform2fv(y.u_pattern_tl_a,w.tl),h.uniform2fv(y.u_pattern_br_a,w.br),h.uniform2fv(y.u_pattern_tl_b,E.tl),h.uniform2fv(y.u_pattern_br_b,E.br),h.uniform1f(y.u_opacity,x),h.uniform1f(y.u_mix,b.t);var M=i.tileExtent/i.tileSize/Math.pow(2,t.transform.tileZoom-i.coord.z),T=o.create();o.scale(T,T,[1/(w.size[0]*M*b.fromScale),1/(w.size[1]*M*b.fromScale)]);var C=o.create();o.scale(C,C,[1/(E.size[0]*M*b.toScale),1/(E.size[1]*M*b.toScale)]),h.uniformMatrix3fv(y.u_patternmatrix_a,!1,T),h.uniformMatrix3fv(y.u_patternmatrix_b,!1,C),t.spriteAtlas.bind(h,!0)}else y=t.fillShader,h.switchShader(y,n),h.uniform4fv(y.u_color,f);h.stencilFunc(h.NOTEQUAL,0,63),h.bindBuffer(h.ARRAY_BUFFER,t.tileExtentBuffer),h.vertexAttribPointer(y.a_pos,t.tileExtentBuffer.itemSize,h.SHORT,!1,0,0),h.drawArrays(h.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount),h.stencilMask(0),h.stencilFunc(h.EQUAL,128,128)}}var r=t("../util/browser"),o=t("gl-matrix").mat3;e.exports=i},{"../util/browser":112,"gl-matrix":133}],48:[function(t,e,n){"use strict";var i=t("../util/browser"),r=t("gl-matrix").mat2;e.exports=function(t,e,n,o){if(o.buffers&&o.elementGroups[e.ref||e.id]){var a=o.elementGroups[e.ref||e.id].line,s=t.gl;if(!(e.paint["line-width"]<=0)){var u=1/i.devicePixelRatio,l=e.paint["line-blur"]+u,c=e.paint["line-width"]/2,h=-1,p=0,f=0;e.paint["line-gap-width"]>0&&(h=e.paint["line-gap-width"]/2+.5*u,c=e.paint["line-width"],p=h-u/2);var d=p+c+u/2+f,m=e.paint["line-color"],g=t.transform.scale/(1<<o.coord.z)/(o.tileExtent/o.tileSize),v=t.translateMatrix(n,o,e.paint["line-translate"],e.paint["line-translate-anchor"]),_=t.transform,y=r.create();r.scale(y,y,[1,Math.cos(_._pitch)]),r.rotate(y,y,t.transform.angle);var b,x=Math.sqrt(_.height*_.height/4*(1+_.altitude*_.altitude)),w=_.height/2*Math.tan(_._pitch),E=(x+w)/x-1,M=o.tileSize/t.transform.tileSize,T=e.paint["line-dasharray"],C=e.paint["line-pattern"];if(T){b=t.linesdfpatternShader,s.switchShader(b,v,o.exMatrix),s.uniform2fv(b.u_linewidth,[d,h]),s.uniform1f(b.u_ratio,g),s.uniform1f(b.u_blur,l),s.uniform4fv(b.u_color,m);var P=t.lineAtlas.getDash(T.from,"round"===e.layout["line-cap"]),L=t.lineAtlas.getDash(T.to,"round"===e.layout["line-cap"]);t.lineAtlas.bind(s);var S=Math.pow(2,Math.floor(Math.log(t.transform.scale)/Math.LN2)-o.coord.z)/8*M,R=[S/P.width/T.fromScale,-P.height/2],D=t.lineAtlas.width/(T.fromScale*P.width*256*i.devicePixelRatio)/2,k=[S/L.width/T.toScale,-L.height/2],O=t.lineAtlas.width/(T.toScale*L.width*256*i.devicePixelRatio)/2;s.uniform2fv(b.u_patternscale_a,R),s.uniform1f(b.u_tex_y_a,P.y),s.uniform2fv(b.u_patternscale_b,k),s.uniform1f(b.u_tex_y_b,L.y),s.uniform1i(b.u_image,0),s.uniform1f(b.u_sdfgamma,Math.max(D,O)),s.uniform1f(b.u_mix,T.t),s.uniform1f(b.u_extra,E),s.uniformMatrix2fv(b.u_antialiasingmatrix,!1,y)}else if(C){var A=t.spriteAtlas.getPosition(C.from,!0),N=t.spriteAtlas.getPosition(C.to,!0);if(!A||!N)return;var I=o.tileExtent/o.tileSize/Math.pow(2,t.transform.tileZoom-o.coord.z)*M;t.spriteAtlas.bind(s,!0),b=t.linepatternShader,s.switchShader(b,v,o.exMatrix),s.uniform2fv(b.u_linewidth,[d,h]),s.uniform1f(b.u_ratio,g),s.uniform1f(b.u_blur,l),s.uniform2fv(b.u_pattern_size_a,[A.size[0]*I*C.fromScale,N.size[1]]),s.uniform2fv(b.u_pattern_size_b,[N.size[0]*I*C.toScale,N.size[1]]),s.uniform2fv(b.u_pattern_tl_a,A.tl),s.uniform2fv(b.u_pattern_br_a,A.br),s.uniform2fv(b.u_pattern_tl_b,N.tl),s.uniform2fv(b.u_pattern_br_b,N.br),s.uniform1f(b.u_fade,C.t),s.uniform1f(b.u_opacity,e.paint["line-opacity"]),s.uniform1f(b.u_extra,E),s.uniformMatrix2fv(b.u_antialiasingmatrix,!1,y)}else b=t.lineShader,s.switchShader(b,v,o.exMatrix),s.uniform2fv(b.u_linewidth,[d,h]),s.uniform1f(b.u_ratio,g),s.uniform1f(b.u_blur,l),s.uniform1f(b.u_extra,E),s.uniformMatrix2fv(b.u_antialiasingmatrix,!1,y),s.uniform4fv(b.u_color,m);var U=o.buffers.lineVertex;U.bind(s);var z=o.buffers.lineElement;z.bind(s);for(var B=0;B<a.groups.length;B++){var j=a.groups[B],F=j.vertexStartIndex*U.itemSize;U.setAttribPointers(s,b,F);var q=3*j.elementLength,V=j.elementStartIndex*z.itemSize;s.drawElements(s.TRIANGLES,q,s.UNSIGNED_SHORT,V)}}}}},{"../util/browser":112,"gl-matrix":133}],49:[function(t,e,n){"use strict";function i(t,e,n,i){var u=t.gl;u.disable(u.STENCIL_TEST);var l=t.rasterShader;u.switchShader(l,n),u.uniform1f(l.u_brightness_low,e.paint["raster-brightness-min"]),u.uniform1f(l.u_brightness_high,e.paint["raster-brightness-max"]),u.uniform1f(l.u_saturation_factor,a(e.paint["raster-saturation"])),u.uniform1f(l.u_contrast_factor,o(e.paint["raster-contrast"])),u.uniform3fv(l.u_spin_weights,r(e.paint["raster-hue-rotate"]));var c,h,p=i.source&&i.source._pyramid.findLoadedParent(i.coord,0,{}),f=s(i,p,e,t.transform);u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,i.texture),p?(u.activeTexture(u.TEXTURE1),u.bindTexture(u.TEXTURE_2D,p.texture),c=Math.pow(2,p.coord.z-i.coord.z),h=[i.coord.x*c%1,i.coord.y*c%1]):f[1]=0,u.uniform2fv(l.u_tl_parent,h||[0,0]),u.uniform1f(l.u_scale_parent,c||1),u.uniform1f(l.u_buffer_scale,1),u.uniform1f(l.u_opacity0,f[0]),u.uniform1f(l.u_opacity1,f[1]),u.uniform1i(l.u_image0,0),u.uniform1i(l.u_image1,1),u.bindBuffer(u.ARRAY_BUFFER,i.boundsBuffer||t.tileExtentBuffer),u.vertexAttribPointer(l.a_pos,2,u.SHORT,!1,8,0),u.vertexAttribPointer(l.a_texture_pos,2,u.SHORT,!1,8,4),u.drawArrays(u.TRIANGLE_STRIP,0,4),u.enable(u.STENCIL_TEST)}function r(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,i){var r=[1,0];if(t.source){var o=(new Date).getTime(),a=n.paint["raster-fade-duration"],s=(o-t.timeAdded)/a,l=e?(o-e.timeAdded)/a:-1,c=t.source._pyramid.coveringZoomLevel(i),h=e?Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c):!1;!e||h?(r[0]=u.clamp(s,0,1),r[1]=1-r[0]):(r[0]=u.clamp(1-l,0,1),r[1]=1-r[0])}var p=n.paint["raster-opacity"];return r[0]*=p,r[1]*=p,r}var u=t("../util/util");e.exports=i},{"../util/util":123}],50:[function(t,e,n){"use strict";function i(t,e,n,i){if(i.buffers){var o=i.elementGroups[e.ref||e.id];if(o){var a=!(e.layout["text-allow-overlap"]||e.layout["icon-allow-overlap"]||e.layout["text-ignore-placement"]||e.layout["icon-ignore-placement"]),u=t.gl;a&&u.disable(u.STENCIL_TEST),o.glyph.groups.length&&r(t,e,n,i,o.glyph,"text",!0),o.icon.groups.length&&r(t,e,n,i,o.icon,"icon",o.sdfIcons),s(t,e,n,i),a&&u.enable(u.STENCIL_TEST)}}}function r(t,e,n,i,r,s,l){var c=t.gl;n=t.translateMatrix(n,i,e.paint[s+"-translate"],e.paint[s+"-translate-anchor"]);var h,p,f,d=t.transform,m="map"===e.layout[s+"-rotation-alignment"],g=m;g?(h=a.create(),p=i.tileExtent/i.tileSize/Math.pow(2,t.transform.zoom-i.coord.z),f=1/Math.cos(d._pitch)):(h=a.clone(i.exMatrix),p=t.transform.altitude,f=1),a.scale(h,h,[p,p,1]);var v=e.paint[s+"-size"],_=v/u[s];a.scale(h,h,[_,_,1]);var y,b,x,w,E=Math.sqrt(d.height*d.height/4*(1+d.altitude*d.altitude)),M=d.height/2*Math.tan(d._pitch),T=(E+M)/E-1,C="text"===s;if(C||t.style.sprite.loaded()){c.activeTexture(c.TEXTURE0),y=l?t.sdfShader:t.iconShader,C?(t.glyphAtlas.updateTexture(c),b=i.buffers.glyphVertex,x=i.buffers.glyphElement,w=[t.glyphAtlas.width/4,t.glyphAtlas.height/4]):(t.spriteAtlas.bind(c,m||t.options.rotating||t.options.zooming||1!==_||l||t.transform.pitch),b=i.buffers.iconVertex,x=i.buffers.iconElement,w=[t.spriteAtlas.width/4,t.spriteAtlas.height/4]),c.switchShader(y,n,h),c.uniform1i(y.u_texture,0),c.uniform2fv(y.u_texsize,w),c.uniform1i(y.u_skewed,g),c.uniform1f(y.u_extra,T);var P=Math.log(v/r[s+"-size"])/Math.LN2||0;c.uniform1f(y.u_zoom,10*(t.transform.zoom-P));var L=t.frameHistory.getFadeProperties(300);c.uniform1f(y.u_fadedist,10*L.fadedist),c.uniform1f(y.u_minfadezoom,Math.floor(10*L.minfadezoom)),c.uniform1f(y.u_maxfadezoom,Math.floor(10*L.maxfadezoom)),c.uniform1f(y.u_fadezoom,10*(t.transform.zoom+L.bump));var S,R,D,k;if(x.bind(c),l){var O=8,A=1.19,N=6,I=.105*u[s]/v/o.devicePixelRatio;c.uniform1f(y.u_gamma,I*f),c.uniform4fv(y.u_color,e.paint[s+"-color"]),c.uniform1f(y.u_buffer,.75);for(var U=0;U<r.groups.length;U++)S=r.groups[U],R=S.vertexStartIndex*b.itemSize,b.bind(c),b.setAttribPointers(c,y,R),D=3*S.elementLength,k=S.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,k);if(e.paint[s+"-halo-width"]){c.uniform1f(y.u_gamma,(e.paint[s+"-halo-blur"]*A/_/O+I)*f),c.uniform4fv(y.u_color,e.paint[s+"-halo-color"]),c.uniform1f(y.u_buffer,(N-e.paint[s+"-halo-width"]/_)/O);for(var z=0;z<r.groups.length;z++)S=r.groups[z],R=S.vertexStartIndex*b.itemSize,b.bind(c),b.setAttribPointers(c,y,R),D=3*S.elementLength,k=S.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,k)}}else{c.uniform1f(y.u_opacity,e.paint["icon-opacity"]);for(var B=0;B<r.groups.length;B++)S=r.groups[B],R=S.vertexStartIndex*b.itemSize,b.bind(c),b.setAttribPointers(c,y,R),D=3*S.elementLength,k=S.elementStartIndex*x.itemSize,c.drawElements(c.TRIANGLES,D,c.UNSIGNED_SHORT,k)}}}var o=t("../util/browser"),a=t("gl-matrix").mat4,s=t("./draw_collision_debug");e.exports=i;var u={icon:1,text:24}},{"../util/browser":112,"./draw_collision_debug":45,"gl-matrix":133}],51:[function(t,e,n){"use strict";function i(t,e,n,i){function a(e,n,i){s.switchShader(t.dotShader,i),s.uniform1f(t.dotShader.u_size,4*r.devicePixelRatio),s.uniform1f(t.dotShader.u_blur,.25),s.uniform4fv(t.dotShader.u_color,[.1,0,0,.1]),e.bind(s);for(var o=0;o<n.length;o++){var a=n[o],u=a.vertexStartIndex,l=a.vertexLength;s.vertexAttribPointer(t.dotShader.a_pos,2,s.SHORT,!1,e.itemSize,0),s.drawArrays(s.POINTS,u,l)}}var s=t.gl;if(i&&i.buffers){var u=i.elementGroups[e.ref||e.id];if(u){if(s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),"fill"===e.type)a(i.buffers.fillVertex,u.groups,n);else if("symbol"===e.type)a(i.buffers.iconVertex,u.icon.groups,n),a(i.buffers.glyphVertex,u.glyph.groups,n);else if("line"===e.type){var l=o.clone(n);o.scale(l,l,[.5,.5,1]),a(i.buffers.lineVertex,u.groups,l)}s.blendFunc(s.ONE_MINUS_DST_ALPHA,s.ONE)}}}var r=t("../util/browser"),o=t("gl-matrix").mat4;e.exports=i},{"../util/browser":112,"gl-matrix":133}],52:[function(t,e,n){"use strict";function i(){this.frameHistory=[]}e.exports=i,i.prototype.getFadeProperties=function(t){void 0===t&&(t=300);for(var e=(new Date).getTime();this.frameHistory.length>3&&this.frameHistory[1].time+t<e;)this.frameHistory.shift();this.frameHistory[1].time+t<e&&(this.frameHistory[0].z=this.frameHistory[1].z);var n=this.frameHistory.length;3>n&&console.warn("there should never be less than three frames in the history");var i=this.frameHistory[0].z,r=this.frameHistory[n-1],o=r.z,a=Math.min(i,o),s=Math.max(i,o),u=r.z-this.frameHistory[1].z,l=r.time-this.frameHistory[1].time,c=u/(l/t);isNaN(c)&&console.warn("fadedist should never be NaN");var h=(e-r.time)/t*c;return{fadedist:c,minfadezoom:a,maxfadezoom:s,bump:h}},i.prototype.record=function(t){var e=(new Date).getTime();this.frameHistory.length||this.frameHistory.push({time:0,z:t},{time:0,z:t}),(2===this.frameHistory.length||this.frameHistory[this.frameHistory.length-1].z!==t)&&this.frameHistory.push({time:e,z:t})}},{}],53:[function(t,e,n){"use strict";var i=t("./shaders"),r=t("../util/util");n.extend=function(t){
var e=t.lineWidth,n=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);return t.lineWidth=function(i){e.call(t,r.clamp(i,n[0],n[1]))},t.getShader=function(t,e){var n=e===this.FRAGMENT_SHADER?"fragment":"vertex";if(!i[t]||!i[t][n])throw new Error("Could not find shader "+t);var r=this.createShader(e),o=i[t][n];if("undefined"==typeof orientation&&(o=o.replace(/ highp /g," ")),this.shaderSource(r,o),this.compileShader(r),!this.getShaderParameter(r,this.COMPILE_STATUS))throw new Error(this.getShaderInfoLog(r));return r},t.initializeShader=function(t,e,n){var i={program:this.createProgram(),fragment:this.getShader(t,this.FRAGMENT_SHADER),vertex:this.getShader(t,this.VERTEX_SHADER),attributes:[]};if(this.attachShader(i.program,i.vertex),this.attachShader(i.program,i.fragment),this.linkProgram(i.program),this.getProgramParameter(i.program,this.LINK_STATUS)){for(var r=0;r<e.length;r++)i[e[r]]=this.getAttribLocation(i.program,e[r]),i.attributes.push(i[e[r]]);for(var o=0;o<n.length;o++)i[n[o]]=this.getUniformLocation(i.program,n[o])}else console.error(this.getProgramInfoLog(i.program));return i},t.switchShader=function(t,e,n){if(e||console.trace("posMatrix does not have required argument"),this.currentShader!==t){this.useProgram(t.program);for(var i=this.currentShader?this.currentShader.attributes:[],r=t.attributes,o=0;o<i.length;o++)r.indexOf(i[o])<0&&this.disableVertexAttribArray(i[o]);for(var a=0;a<r.length;a++)i.indexOf(r[a])<0&&this.enableVertexAttribArray(r[a]);this.currentShader=t}t.posMatrix!==e&&(this.uniformMatrix4fv(t.u_matrix,!1,e),t.posMatrix=e),n&&t.exMatrix!==n&&t.u_exmatrix&&(this.uniformMatrix4fv(t.u_exmatrix,!1,n),t.exMatrix=n)},t.vertexAttrib2fv=function(e,n){t.vertexAttrib2f(e,n[0],n[1])},t.vertexAttrib3fv=function(e,n){t.vertexAttrib3f(e,n[0],n[1],n[2])},t.vertexAttrib4fv=function(e,n){t.vertexAttrib4f(e,n[0],n[1],n[2],n[3])},t}},{"../util/util":123,"./shaders":56}],54:[function(t,e,n){"use strict";function i(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}e.exports=i,i.prototype.setSprite=function(t){this.sprite=t},i.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},i.prototype.addDash=function(t,e){var n=e?7:0,i=2*n+1,r=128;if(this.nextRow+i>this.height)return console.warn("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];for(var s=this.width/o,u=s/2,l=t.length%2===1,c=-n;n>=c;c++)for(var h=this.nextRow+n+c,p=this.width*h,f=l?-t[t.length-1]:0,d=t[0],m=1,g=0;g<this.width;g++){for(;g/s>d;)f=d,d+=t[m],l&&m===t.length-1&&(d+=t[0]),m++;var v,_=Math.abs(g-f*s),y=Math.abs(g-d*s),b=Math.min(_,y),x=m%2===1;if(e){var w=n?c/n*(u+1):0;if(x){var E=u-Math.abs(w);v=Math.sqrt(b*b+E*E)}else v=u-Math.sqrt(b*b+w*w)}else v=(x?1:-1)*b;this.data[3+4*(p+g)]=Math.max(0,Math.min(255,v+r))}var M={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:o};return this.nextRow+=i,this.dirty=!0,M},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},i.prototype.debug=function(){var t=document.createElement("canvas");document.body.appendChild(t),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.background="#ff0",t.width=this.width,t.height=this.height;for(var e=t.getContext("2d"),n=e.getImageData(0,0,this.width,this.height),i=0;i<this.data.length;i++)if(this.sdf){var r=4*i;n.data[r]=n.data[r+1]=n.data[r+2]=0,n.data[r+3]=this.data[i]}else n.data[i]=this.data[i];e.putImageData(n,0,0)}},{}],55:[function(t,e,n){"use strict";function i(t,e){this.gl=r.extend(t),this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new s,this.setup()}var r=t("./gl_util"),o=t("../util/browser"),a=t("gl-matrix").mat4,s=t("./frame_history");e.exports=i,i.prototype.resize=function(t,e){var n=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,n.viewport(0,0,this.width,this.height)},i.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE),t.enable(t.STENCIL_TEST),this.debugShader=t.initializeShader("debug",["a_pos"],["u_matrix","u_color"]),this.rasterShader=t.initializeShader("raster",["a_pos","a_texture_pos"],["u_matrix","u_brightness_low","u_brightness_high","u_saturation_factor","u_spin_weights","u_contrast_factor","u_opacity0","u_opacity1","u_image0","u_image1","u_tl_parent","u_scale_parent","u_buffer_scale"]),this.circleShader=t.initializeShader("circle",["a_pos"],["u_matrix","u_exmatrix","u_blur","u_size","u_color"]),this.lineShader=t.initializeShader("line",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_extra","u_antialiasingmatrix"]),this.linepatternShader=t.initializeShader("linepattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_ratio","u_pattern_size_a","u_pattern_size_b","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_blur","u_fade","u_opacity","u_extra","u_antialiasingmatrix"]),this.linesdfpatternShader=t.initializeShader("linesdfpattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_patternscale_a","u_tex_y_a","u_patternscale_b","u_tex_y_b","u_image","u_sdfgamma","u_mix","u_extra","u_antialiasingmatrix"]),this.dotShader=t.initializeShader("dot",["a_pos"],["u_matrix","u_size","u_color","u_blur"]),this.sdfShader=t.initializeShader("sdf",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_color","u_gamma","u_buffer","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_skewed","u_extra"]),this.iconShader=t.initializeShader("icon",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_opacity","u_skewed","u_extra"]),this.outlineShader=t.initializeShader("outline",["a_pos"],["u_matrix","u_color","u_world"]),this.patternShader=t.initializeShader("pattern",["a_pos"],["u_matrix","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_mix","u_patternmatrix_a","u_patternmatrix_b","u_opacity","u_image"]),this.fillShader=t.initializeShader("fill",["a_pos"],["u_matrix","u_color"]),this.collisionBoxShader=t.initializeShader("collisionbox",["a_pos","a_extrude","a_data"],["u_matrix","u_scale","u_zoom","u_maxzoom"]),this.identityMatrix=a.create(),this.backgroundBuffer=t.createBuffer(),this.backgroundBuffer.itemSize=2,this.backgroundBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW),this.setExtent(4096),this.debugTextBuffer=t.createBuffer(),this.debugTextBuffer.itemSize=2},i.prototype.setExtent=function(t){if(t&&t!==this.tileExtent){this.tileExtent=t;var e=this.gl;this.tileExtentBuffer=e.createBuffer(),this.tileExtentBuffer.itemSize=4,this.tileExtentBuffer.itemCount=4,e.bindBuffer(e.ARRAY_BUFFER,this.tileExtentBuffer),e.bufferData(e.ARRAY_BUFFER,new Int16Array([0,0,0,0,this.tileExtent,0,32767,0,0,this.tileExtent,0,32767,this.tileExtent,this.tileExtent,32767,32767]),e.STATIC_DRAW),this.debugBuffer=e.createBuffer(),this.debugBuffer.itemSize=2,this.debugBuffer.itemCount=5,e.bindBuffer(e.ARRAY_BUFFER,this.debugBuffer),e.bufferData(e.ARRAY_BUFFER,new Int16Array([0,0,this.tileExtent-1,0,this.tileExtent-1,this.tileExtent-1,0,this.tileExtent-1,0,0]),e.STATIC_DRAW)}},i.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},i.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},i.prototype.drawClippingMask=function(t){var e=this.gl;e.switchShader(this.fillShader,t.posMatrix),e.colorMask(!1,!1,!1,!1),e.clearStencil(0),e.stencilMask(191),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.EQUAL,192,64),e.stencilMask(192),e.stencilOp(e.REPLACE,e.KEEP,e.KEEP),e.bindBuffer(e.ARRAY_BUFFER,this.tileExtentBuffer),e.vertexAttribPointer(this.fillShader.a_pos,this.tileExtentBuffer.itemSize,e.SHORT,!1,8,0),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount),e.stencilFunc(e.EQUAL,128,128),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.stencilMask(0),e.colorMask(!0,!0,!0,!0)},i.prototype.prepareBuffers=function(){},i.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var u={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug"),vertices:t("./draw_vertices")};i.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphAtlas=t.glyphAtlas,this.glyphAtlas.bind(this.gl),this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor();for(var n=t._groups.length-1;n>=0;n--){var i=t._groups[n],r=t.sources[i.source];r?(this.clearStencil(),r.render(i,this)):void 0===i.source&&this.drawLayers(i,this.identityMatrix)}},i.prototype.drawTile=function(t,e){this.setExtent(t.tileExtent),this.drawClippingMask(t),this.drawLayers(e,t.posMatrix,t),this.options.debug&&u.debug(this,t)},i.prototype.drawLayers=function(t,e,n){for(var i=t.length-1;i>=0;i--){var r=t[i];r.hidden||(u[r.type](this,r,e,n),this.options.vertices&&u.vertices(this,r,e,n))}},i.prototype.drawStencilBuffer=function(){var t=this.gl;t.switchShader(this.fillShader,this.identityMatrix),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.stencilMask(0),t.stencilFunc(t.EQUAL,128,128),t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.vertexAttribPointer(this.fillShader.a_pos,this.backgroundBuffer.itemSize,t.SHORT,!1,0,0),t.uniform4fv(this.fillShader.u_color,[0,0,0,.5]),t.drawArrays(t.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount),t.blendFunc(t.ONE_MINUS_DST_ALPHA,t.ONE)},i.prototype.translateMatrix=function(t,e,n,i){if(!n[0]&&!n[1])return t;if("viewport"===i){var r=Math.sin(-this.transform.angle),o=Math.cos(-this.transform.angle);n=[n[0]*o-n[1]*r,n[0]*r+n[1]*o]}var s=this.transform.scale/(1<<e.coord.z)/(e.tileExtent/e.tileSize),u=[n[0]/s,n[1]/s,0],l=new Float32Array(16);return a.translate(l,t,u),l},i.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},i.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null}},{"../util/browser":112,"./draw_background":43,"./draw_circle":44,"./draw_debug":46,"./draw_fill":47,"./draw_line":48,"./draw_raster":49,"./draw_symbol":50,"./draw_vertices":51,"./frame_history":52,"./gl_util":53,"gl-matrix":133}],56:[function(t,e,n){"use strict";t("path");e.exports={debug:{fragment:"precision mediump float;\n\nuniform vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},dot:{fragment:"precision mediump float;\n\nuniform vec4 u_color;\nuniform float u_blur;\n\nvoid main() {\n    float dist = length(gl_PointCoord - 0.5);\n    float t = smoothstep(0.5, 0.5 - u_blur, dist);\n\n    gl_FragColor = u_color * t;\n}\n",vertex:"precision mediump float;\n\nuniform mat4 u_matrix;\nuniform float u_size;\n\nattribute vec2 a_pos;\n\nvoid main(void) {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    gl_PointSize = u_size;\n}\n"},fill:{fragment:"precision mediump float;\n\nuniform vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragment:"precision mediump float;\n\nuniform vec4 u_color;\nuniform float u_blur;\nuniform float u_size;\n\nvarying vec2 v_extrude;\n\nvoid main() {\n    float t = smoothstep(1.0 - u_blur, 1.0, length(v_extrude));\n    gl_FragColor = u_color * (1.0 - t);\n}\n",vertex:"precision mediump float;\n\n// set by gl_util\nuniform float u_size;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\n\nvarying vec2 v_extrude;\n\nvoid main(void) {\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec4 extrude = u_exmatrix * vec4(v_extrude * u_size, 0, 0);\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    // gl_Position is divided by gl_Position.w after this shader runs.\n    // Multiply the extrude by it so that it isn't affected by it.\n    gl_Position += extrude * gl_Position.w;\n}\n"},line:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform vec4 u_color;\nuniform float u_blur;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:'precision mediump float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also "special" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform highp mat4 u_matrix;\nuniform float u_ratio;\nuniform vec2 u_linewidth;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it\'s a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + dist.xy / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n'},linepattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform float u_point;\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_b.y);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos), texture2D(u_image, pos2), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n}\n",vertex:'precision mediump float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also "special" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform highp mat4 u_matrix;\nuniform float u_ratio;\nuniform vec2 u_linewidth;\nuniform vec4 u_color;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy;\n    float a_linesofar = a_data.z * 128.0 + a_data.w;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it\'s a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    vec2 extrude = a_extrude * scale;\n    vec2 dist = u_linewidth.s * extrude;\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + dist.xy / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n'},linesdfpattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform vec4 u_color;\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:'precision mediump float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also "special" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform highp mat4 u_matrix;\nuniform vec2 u_linewidth;\nuniform float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy;\n    float a_linesofar = a_data.z * 128.0 + a_data.w;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it\'s a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + dist.xy / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n'},outline:{fragment:"precision mediump float;\n\nuniform vec4 u_color;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\n\nuniform highp mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy/gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},pattern:{fragment:"precision mediump float;\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n}\n",vertex:"precision mediump float;\n\nuniform mat4 u_matrix;\nuniform mat3 u_patternmatrix_a;\nuniform mat3 u_patternmatrix_b;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos_a = (u_patternmatrix_a * vec3(a_pos, 1)).xy;\n    v_pos_b = (u_patternmatrix_b * vec3(a_pos, 1)).xy;\n}\n"},raster:{fragment:"precision mediump float;\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n}\n",vertex:"precision mediump float;\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_tex) * v_alpha;\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform highp mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform float u_zoom;\nuniform float u_fadedist;\nuniform float u_minfadezoom;\nuniform float u_maxfadezoom;\nuniform float u_fadezoom;\nuniform float u_opacity;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    float a_labelminzoom = a_data1[2];\n    vec2 a_zoom = a_data2.st;\n    float a_minzoom = a_zoom[0];\n    float a_maxzoom = a_zoom[1];\n\n    float a_fadedist = 10.0;\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    v_tex = a_tex / u_texsize;\n\n    v_alpha *= u_opacity;\n}\n"},sdf:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\nuniform vec4 u_color;\nuniform float u_buffer;\nuniform float u_gamma;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    float gamma = u_gamma * v_gamma_scale;\n    float dist = texture2D(u_texture, v_tex).a;\n    float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * v_alpha;\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform highp mat4 u_matrix;\nuniform mat4 u_exmatrix;\n\nuniform float u_zoom;\nuniform float u_fadedist;\nuniform float u_minfadezoom;\nuniform float u_maxfadezoom;\nuniform float u_fadezoom;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    float a_labelminzoom = a_data1[2];\n    vec2 a_zoom = a_data2.st;\n    float a_minzoom = a_zoom[0];\n    float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - y * u_extra);\n    v_gamma_scale = perspective_scale;\n\n    v_tex = a_tex / u_texsize;\n}\n"},collisionbox:{fragment:"precision mediump float;\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertex:"precision mediump float;\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n     gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n     v_max_zoom = a_data.x;\n     v_placement_zoom = a_data.y;\n}\n"}}},{path:7}],57:[function(t,e,n){"use strict";function i(t){t=t||{},this._data=t.data,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),this.geojsonVtOptions={maxZoom:this.maxzoom},void 0!==t.buffer&&(this.geojsonVtOptions.buffer=t.buffer),void 0!==t.tolerance&&(this.geojsonVtOptions.tolerance=t.tolerance),this._pyramid=new a({tileSize:512,minzoom:this.minzoom,maxzoom:this.maxzoom,cacheSize:20,load:this._loadTile.bind(this),
abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement.bind(this)})}var r=t("../util/util"),o=t("../util/evented"),a=t("./tile_pyramid"),s=t("./source"),u=t("resolve-url");e.exports=i,i.prototype=r.inherit(o,{minzoom:0,maxzoom:14,_dirty:!0,setData:function(t){return this._data=t,this._dirty=!0,this.fire("change"),this.map&&this.update(this.map.transform),this},onAdd:function(t){this.map=t},loaded:function(){return this._loaded&&this._pyramid.loaded()},update:function(t){this._dirty&&this._updateData(),this._loaded&&this._pyramid.update(this.used,t)},reload:function(){this._loaded&&this._pyramid.reload()},render:s._renderTiles,featuresAt:s._vectorFeaturesAt,featuresIn:s._vectorFeaturesIn,_updateData:function(){this._dirty=!1;var t=this._data;"string"==typeof t&&(t=u(window.location.href,t)),this.workerID=this.dispatcher.send("parse geojson",{data:t,tileSize:512,source:this.id,geojsonVtOptions:this.geojsonVtOptions},function(t){return t?void this.fire("error",{error:t}):(this._loaded=!0,this._pyramid.reload(),void this.fire("change"))}.bind(this))},_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,n={uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:512,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID=this.dispatcher.send("load geojson tile",n,function(e,n){if(t.unloadVectorData(this.map.painter),!t.aborted){if(e)return void this.fire("tile.error",{tile:t});t.loadVectorData(n),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t})}}.bind(this),this.workerID)},_abortTile:function(t){t.aborted=!0},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(t.uid),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:s.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{"../util/evented":117,"../util/util":123,"./source":61,"./tile_pyramid":64,"resolve-url":155}],58:[function(t,e,n){"use strict";function i(t){this.features=t,this.length=t.length}function r(t){this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=i,i.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],r=0;r<n.length;r++)i.push(new o(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),i=1/0,r=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":153,"vector-tile":157}],59:[function(t,e,n){"use strict";function i(t){this.coordinates=t.coordinates,l.getImage(t.url,function(t,e){t||(this.image=e,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.map&&(this.createTile(),this.fire("change")))}.bind(this))}var r=t("../util/util"),o=t("./tile"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax");e.exports=i,i.prototype=r.inherit(u,{onAdd:function(t){this.map=t,this.image&&this.createTile()},createTile:function(){var t=this.map,e=this.coordinates.map(function(e){var n=a.convert(e);return t.transform.locationCoordinate(n).zoomTo(0)}),n=r.getCoordinatesCenter(e),i=4096,u=e.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*i),Math.round((e.row-n.row)*i))}),l=t.painter.gl,c=32767,h=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,h,l.STATIC_DRAW),this.center=n},loaded:function(){return this.image&&this.image.complete},update:function(){},reload:function(){},render:function(t,e){if(this._loaded&&this.loaded()){var n=this.center;this.tile.calculateMatrices(n.zoom,n.column,n.row,this.map.transform,e);var i=e.gl;this.tile.texture?(i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.image)):(this.tile.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,this.image)),e.drawLayers(t,this.tile.posMatrix,this.tile)}},featuresAt:function(t,e,n){return n(null,[])}})},{"../geo/lng_lat":39,"../util/ajax":111,"../util/evented":117,"../util/util":123,"./tile":62,"point-geometry":153}],60:[function(t,e,n){"use strict";function i(t){r.extend(this,r.pick(t,["url","tileSize"])),s._loadTileJSON.call(this,t)}var r=t("../util/util"),o=t("../util/ajax"),a=t("../util/evented"),s=t("./source"),u=t("../util/mapbox").normalizeTileURL;e.exports=i,i.prototype=r.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t,this.map.style.rasterFadeDuration)},reload:function(){},render:s._renderTiles,_loadTile:function(t){function e(e,n){if(delete t.request,!t.aborted){if(e)return t.errored=!0,void this.fire("tile.error",{tile:t,error:e});var i=this.map.painter.gl;t.texture=this.map.painter.getTexture(n.width),t.texture?(i.bindTexture(i.TEXTURE_2D,t.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,n)):(t.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),t.texture.size=n.width),i.generateMipmap(i.TEXTURE_2D),t.timeAdded=(new Date).getTime(),this.map.animationLoop.set(this.style.rasterFadeDuration),t.source=this,t.loaded=!0,this.fire("tile.load",{tile:t})}}var n=u(t.coord.url(this.tiles),this.url);t.request=o.getImage(n,e.bind(this))},_abortTile:function(t){t.aborted=!0,t.request&&(t.request.abort(),delete t.request)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)},featuresAt:function(t,e,n){n(null,[])},featuresIn:function(t,e,n){n(null,[])}})},{"../util/ajax":111,"../util/evented":117,"../util/mapbox":120,"../util/util":123,"./source":61}],61:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),a=t("./tile_pyramid"),s=t("./tile_coord"),u=t("../util/mapbox").normalizeSourceURL;n._loadTileJSON=function(t){var e=function(t,e){return t?void this.fire("error",{error:t}):(i.extend(this,i.pick(e,["tiles","minzoom","maxzoom","attribution"])),e.vector_layers&&(this.vectorLayers=e.vector_layers,this.vectorLayerIds=this.vectorLayers.map(function(t){return t.id})),this._pyramid=new a({tileSize:this.tileSize,cacheSize:20,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom,reparseOverscaled:this.reparseOverscaled,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement?this._redoTilePlacement.bind(this):void 0}),void this.fire("load"))}.bind(this);t.url?r.getJSON(u(t.url),e):o.frame(e.bind(this,null,t))},n.redoPlacement=function(){if(this._pyramid)for(var t=this._pyramid.orderedIDs(),e=0;e<t.length;e++){var n=this._pyramid.getTile(t[e]);this._redoTilePlacement(n)}},n._renderTiles=function(t,e){if(this._pyramid)for(var n=this._pyramid.renderedIDs(),i=0;i<n.length;i++){var r=this._pyramid.getTile(n[i]),o=s.fromID(n[i]),a=o.z,u=o.x,l=o.y,c=o.w;a=Math.min(a,this.maxzoom),u+=c*(1<<a),r.calculateMatrices(a,u,l,e.transform,e),e.drawTile(r,t)}},n._vectorFeaturesAt=function(t,e,n){if(!this._pyramid)return n(null,[]);var i=this._pyramid.tileAt(t);return i?void this.dispatcher.send("query features",{uid:i.tile.uid,x:i.x,y:i.y,tileExtent:i.tile.tileExtent,scale:i.scale,source:this.id,params:e},n,i.tile.workerID):n(null,[])},n._vectorFeaturesIn=function(t,e,n){if(!this._pyramid)return n(null,[]);var r=this._pyramid.tilesIn(t);return r?void i.asyncAll(r,function(t,n){this.dispatcher.send("query features",{uid:t.tile.uid,source:this.id,minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,params:e},n,t.tile.workerID)}.bind(this),function(t,e){n(t,Array.prototype.concat.apply([],e))}):n(null,[])},n.create=function(e){var n={vector:t("./vector_tile_source"),raster:t("./raster_tile_source"),geojson:t("./geojson_source"),video:t("./video_source"),image:t("./image_source")};for(var i in n)if(e instanceof n[i])return e;return new n[e.type](e)}},{"../util/ajax":111,"../util/browser":112,"../util/mapbox":120,"../util/util":123,"./geojson_source":57,"./image_source":59,"./raster_tile_source":60,"./tile_coord":63,"./tile_pyramid":64,"./vector_tile_source":65,"./video_source":66}],62:[function(t,e,n){"use strict";function i(t,e){this.coord=t,this.uid=a.uniqueId(),this.loaded=!1,this.uses=0,this.tileSize=e}function r(t){var e={};for(var n in t)e[n]=new s(t[n]);return e}var o=t("gl-matrix").mat4,a=t("../util/util"),s=t("../data/buffer");e.exports=i,i.prototype={tileExtent:4096,calculateMatrices:function(t,e,n,i){var r=Math.pow(2,t),a=i.worldSize/r;this.scale=a,this.posMatrix=new Float64Array(16),o.identity(this.posMatrix),o.translate(this.posMatrix,this.posMatrix,[e*a,n*a,0]),o.scale(this.posMatrix,this.posMatrix,[a/this.tileExtent,a/this.tileExtent,1]),o.multiply(this.posMatrix,i.projMatrix,this.posMatrix),this.posMatrix=new Float32Array(this.posMatrix),this.exMatrix=i.exMatrix,this.rotationMatrix=i.rotationMatrix},positionAt:function(t,e){return t=t.zoomTo(Math.min(this.coord.z,e)),{x:(t.column-this.coord.x)*this.tileExtent,y:(t.row-this.coord.y)*this.tileExtent,scale:this.scale}},loadVectorData:function(t){this.loaded=!0,t&&(this.buffers=r(t.buffers),this.elementGroups=t.elementGroups,this.tileExtent=t.extent)},reloadSymbolData:function(t,e){if(this.buffers){this.buffers.glyphVertex&&this.buffers.glyphVertex.destroy(e.gl),this.buffers.glyphElement&&this.buffers.glyphElement.destroy(e.gl),this.buffers.iconVertex&&this.buffers.iconVertex.destroy(e.gl),this.buffers.iconElement&&this.buffers.iconElement.destroy(e.gl),this.buffers.collisionBoxVertex&&this.buffers.collisionBoxVertex.destroy(e.gl);var n=r(t.buffers);this.buffers.glyphVertex=n.glyphVertex,this.buffers.glyphElement=n.glyphElement,this.buffers.iconVertex=n.iconVertex,this.buffers.iconElement=n.iconElement,this.buffers.collisionBoxVertex=n.collisionBoxVertex;for(var i in t.elementGroups)this.elementGroups[i]=t.elementGroups[i]}},unloadVectorData:function(t){for(var e in this.buffers)this.buffers[e]&&this.buffers[e].destroy(t.gl);this.buffers=null},redoPlacement:function(t){function e(e,n){this.reloadSymbolData(n,t.map.painter),t.fire("tile.load",{tile:this}),this.redoingPlacement=!1,this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return!this.loaded||this.redoingPlacement?void(this.redoWhenDone=!0):(this.redoingPlacement=!0,void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,collisionDebug:t.map.collisionDebug},e.bind(this),this.workerID))}}},{"../data/buffer":31,"../util/util":123,"gl-matrix":133}],63:[function(t,e,n){"use strict";function i(t,e,n,i){s(!isNaN(t)),s(!isNaN(e)),s(!isNaN(n)),s(t>=0),s(e>=0),s(n>=0),isNaN(i)&&(i=0),this.z=+t,this.x=+e,this.y=+n,this.w=+i,i*=2,0>i&&(i=-1*i-1);var r=1<<this.z;this.id=32*(r*r*i+r*this.y+this.x)+this.z}function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,i,r){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(i,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,h=e.dx<0,p=o;a>p;p++){var f=u*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;r(Math.floor(d),Math.ceil(f),p)}}function a(t,e,n,i,a,s){var u,l=r(t,e),c=r(e,n),h=r(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>h.dy&&(u=l,l=h,h=u),c.dy>h.dy&&(u=c,c=h,h=u),l.dy&&o(h,l,i,a,s),c.dy&&o(h,c,i,a,s)}var s=t("assert");e.exports=i,i.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},i.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,o=r%n,a=(r-o)/n%n,s=Math.floor(r/(n*n));return s%2!==0&&(s=-1*s-1),s/=2,new i(e,o,a,s)},i.prototype.url=function(t,e){return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}",this.y)},i.prototype.parent=function(t){return 0===this.z?null:this.z>t?new i(this.z-1,this.x,this.y,this.w):new i(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},i.prototype.wrapped=function(){return new i(this.z,this.x,this.y,0)},i.prototype.children=function(t){if(this.z>=t)return[new i(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new i(e,n,r,this.w),new i(e,n+1,r,this.w),new i(e,n,r+1,this.w),new i(e,n+1,r+1,this.w)]},i.cover=function(t,e,n){function r(t,e,r){var a,u,l;if(r>=0&&o>=r)for(a=t;e>a;a++)u=(a%o+o)%o,l=new i(n,u,r,Math.floor(a/o)),s[l.id]=l}var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}},{assert:1}],64:[function(t,e,n){"use strict";function i(t){this.tileSize=t.tileSize,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.roundZoom=t.roundZoom,this.reparseOverscaled=t.reparseOverscaled,this._load=t.load,this._abort=t.abort,this._unload=t.unload,this._add=t.add,this._remove=t.remove,this._redoPlacement=t.redoPlacement,this._tiles={},this._cache=new u(t.cacheSize,function(t){return this._unload(t)}.bind(this)),this._filterRendered=this._filterRendered.bind(this)}function r(t,e){return e%32-t%32}var o=t("./tile"),a=t("./tile_coord"),s=t("point-geometry"),u=t("../util/mru_cache"),l=t("../util/util");e.exports=i,i.prototype={loaded:function(){for(var t in this._tiles)if(!this._tiles[t].loaded&&!this._tiles[t].errored)return!1;return!0},orderedIDs:function(){return Object.keys(this._tiles).map(Number).sort(r)},renderedIDs:function(){return this.orderedIDs().filter(this._filterRendered)},_filterRendered:function(t){return this._tiles[t].loaded&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles)this._load(this._tiles[t])},getTile:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+Math.log(t.tileSize/this.tileSize)/Math.LN2},coveringZoomLevel:function(t){return(this.roundZoom?Math.round:Math.floor)(this.getZoom(t))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),n=e;if(e<this.minzoom)return[];e>this.maxzoom&&(e=this.maxzoom);var i=t,r=i.locationCoordinate(i.center)._zoomTo(e),o=new s(r.column-.5,r.row-.5);return a.cover(e,[i.pointCoordinate(new s(0,0))._zoomTo(e),i.pointCoordinate(new s(i.width,0))._zoomTo(e),i.pointCoordinate(new s(i.width,i.height))._zoomTo(e),i.pointCoordinate(new s(0,i.height))._zoomTo(e)],this.reparseOverscaled?n:e).sort(function(t,e){return o.dist(t)-o.dist(e)})},findLoadedChildren:function(t,e,n){var i=!1;for(var r in this._tiles){var o=this._tiles[r];if(!(n[r]||!o.loaded||o.coord.z<=t.z||o.coord.z>e)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(o.coord.x/a)===t.x&&Math.floor(o.coord.y/a)===t.y)for(n[r]=!0,i=!0;o&&o.coord.z-1>t.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.loaded&&(delete n[r],n[s]=!0)}}}return i},findLoadedParent:function(t,e,n){for(var i=t.z-1;i>=e;i--){t=t.parent(this.maxzoom);var r=this._tiles[t.id];if(r&&r.loaded)return n[t.id]=!0,r}},update:function(t,e,n){var i,r,o,s=(this.roundZoom?Math.round:Math.floor)(this.getZoom(e)),u=l.clamp(s-10,this.minzoom,this.maxzoom),c=l.clamp(s+3,this.minzoom,this.maxzoom),h={},p=(new Date).getTime();this._coveredTiles={};var f=t?this.coveringTiles(e):[];for(i=0;i<f.length;i++)r=f[i],o=this.addTile(r),h[r.id]=!0,o.loaded||this.findLoadedChildren(r,c,h)||this.findLoadedParent(r,u,h);for(var d in h)r=a.fromID(d),o=this._tiles[d],o&&o.timeAdded>p-(n||0)&&(this.findLoadedChildren(r,c,h)?(this._coveredTiles[d]=!0,h[d]=!0):this.findLoadedParent(r,u,h));var m=l.keysDifference(this._tiles,h);for(i=0;i<m.length;i++)this.removeTile(+m[i])},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();if(e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var i=t.z,r=i>this.maxzoom?Math.pow(2,i-this.maxzoom):1;e=new o(n,this.tileSize*r),this._load(e)}return e.uses++,this._tiles[t.id]=e,this._add(e,t),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._remove(e),e.uses>0||(e.loaded?this._cache.add(e.coord.wrapped().id,e):(this._abort(e),this._unload(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tileAt:function(t){for(var e=this.orderedIDs(),n=0;n<e.length;n++){var i=this._tiles[e[n]],r=i.positionAt(t,this.maxzoom);if(r&&r.x>=0&&r.x<i.tileExtent&&r.y>=0&&r.y<i.tileExtent)return{tile:i,x:r.x,y:r.y,scale:r.scale}}},tilesIn:function(t){for(var e=[],n=this.orderedIDs(),i=0;i<n.length;i++){var r=this._tiles[n[i]],o=[r.positionAt(t[0],this.maxzoom),r.positionAt(t[1],this.maxzoom)];o[0].x<r.tileExtent&&o[0].y<r.tileExtent&&o[1].x>=0&&o[1].y>=0&&e.push({tile:r,minX:o[0].x,maxX:o[1].x,minY:o[0].y,maxY:o[1].y})}return e}}},{"../util/mru_cache":121,"../util/util":123,"./tile":62,"./tile_coord":63,"point-geometry":153}],65:[function(t,e,n){"use strict";function i(t){if(r.extend(this,r.pick(t,["url","tileSize"])),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a._loadTileJSON.call(this,t)}var r=t("../util/util"),o=t("../util/evented"),a=t("./source");e.exports=i,i.prototype=r.inherit(o,{minzoom:0,maxzoom:22,tileSize:512,reparseOverscaled:!0,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t)},reload:function(){this._pyramid&&this._pyramid.reload()},render:a._renderTiles,featuresAt:a._vectorFeaturesAt,featuresIn:a._vectorFeaturesIn,_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,n={url:t.coord.url(this.tiles,this.maxzoom),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*e,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID?this.dispatcher.send("reload tile",n,this._tileLoaded.bind(this,t),t.workerID):t.workerID=this.dispatcher.send("load tile",n,this._tileLoaded.bind(this,t))},_tileLoaded:function(t,e,n){if(!t.aborted){if(e)return void this.fire("tile.error",{tile:t});t.loadVectorData(n),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t}),this.fire("tile.stats",n.bucketStats)}},_abortTile:function(t){t.aborted=!0,this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.glyphAtlas.removeGlyphs(t.uid),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:a.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{"../util/evented":117,"../util/util":123,"./source":61}],66:[function(t,e,n){"use strict";function i(t){this.coordinates=t.coordinates,l.getVideo(t.urls,function(t,e){if(!t){this.video=e,this.video.loop=!0;var n;this.video.addEventListener("playing",function(){n=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(n)}.bind(this)),this._loaded=!0,this.map&&(this.video.play(),this.createTile(),this.fire("change"))}}.bind(this))}var r=t("../util/util"),o=t("./tile"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax");e.exports=i,i.prototype=r.inherit(u,{roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map=t,this.video&&(this.video.play(),this.createTile())},createTile:function(){var t=this.map,e=this.coordinates.map(function(e){var n=a.convert(e);return t.transform.locationCoordinate(n).zoomTo(0)}),n=r.getCoordinatesCenter(e),i=4096,u=e.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*i),Math.round((e.row-n.row)*i))}),l=t.painter.gl,c=32767,h=new Int16Array([u[0].x,u[0].y,0,0,u[1].x,u[1].y,c,0,u[3].x,u[3].y,0,c,u[2].x,u[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,this.tile.boundsBuffer),l.bufferData(l.ARRAY_BUFFER,h,l.STATIC_DRAW),this.center=n},loaded:function(){return this.video&&this.video.readyState>=2},update:function(){},reload:function(){},render:function(t,e){if(this._loaded&&!(this.video.readyState<2)){var n=this.center;this.tile.calculateMatrices(n.zoom,n.column,n.row,this.map.transform,e);var i=e.gl;this.tile.texture?(i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.tile.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.tile.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,this.video)),e.drawLayers(t,this.tile.posMatrix,this.tile)}},featuresAt:function(t,e,n){return n(null,[])},featuresIn:function(t,e,n){return n(null,[])}})},{"../geo/lng_lat":39,"../util/ajax":111,"../util/evented":117,"../util/util":123,"./tile":62,"point-geometry":153}],67:[function(t,e,n){"use strict";function i(t){this.self=t,this.actor=new r(t,this),this.loading={},this.loaded={},this.layers=[],this.geoJSONIndexes={}}var r=t("../util/actor"),o=t("./worker_tile"),a=t("../util/util"),s=t("../util/ajax"),u=t("vector-tile"),l=t("pbf"),c=t("geojson-vt"),h=t("./geojson_wrapper");e.exports=function(t){return new i(t)},a.extend(i.prototype,{"set layers":function(t){this.layers=t},"load tile":function(t,e){function n(t,n){return delete this.loading[i][r],t?e(t):(a.data=new u.VectorTile(new l(new Uint8Array(n))),a.parse(a.data,this.layers,this.actor,e),this.loaded[i]=this.loaded[i]||{},void(this.loaded[i][r]=a))}var i=t.source,r=t.uid;this.loading[i]||(this.loading[i]={});var a=this.loading[i][r]=new o(t);a.xhr=s.getArrayBuffer(t.url,n.bind(this))},"reload tile":function(t,e){var n=this.loaded[t.source],i=t.uid;if(n&&n[i]){var r=n[i];r.parse(r.data,this.layers,this.actor,e)}},"abort tile":function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&(e[n].xhr.abort(),delete e[n])},"remove tile":function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},"redo placement":function(t,e){var n=this.loaded[t.source],i=this.loading[t.source],r=t.uid;if(n&&n[r]){var o=n[r],a=o.redoPlacement(t.angle,t.pitch,t.collisionDebug);a.result&&e(null,a.result,a.transferables)}else i&&i[r]&&(i[r].angle=t.angle)},"parse geojson":function(t,e){var n=function(n,i){return n?e(n):(this.geoJSONIndexes[t.source]=c(i,t.geojsonVtOptions),void e(null))}.bind(this);"string"==typeof t.data?s.getJSON(t.data,n):n(null,t.data)},"load geojson tile":function(t,e){var n=t.source,i=t.coord,r=this.geoJSONIndexes[n].getTile(i.z,i.x,i.y);if(!r)return e(null,null);var a=new o(t);a.parse(new h(r.features),this.layers,this.actor,e),this.loaded[n]=this.loaded[n]||{},this.loaded[n][t.uid]=a},"query features":function(t,e){var n=this.loaded[t.source]&&this.loaded[t.source][t.uid];n?n.featureTree.query(t,e):e(null,[])}})},{"../util/actor":110,"../util/ajax":111,"../util/util":123,"./geojson_wrapper":58,"./worker_tile":68,"geojson-vt":128,pbf:151,"vector-tile":157}],68:[function(t,e,n){"use strict";function i(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.collisionDebug=t.collisionDebug}function r(t){for(var e={},n=0;n<t.length;n++)e[t[n].id]=t[n].elementGroups;return e}function o(t){var e=[];for(var n in t)e.push(t[n].arrayBuffer),t[n].push=null;return e}var a=t("../data/feature_tree"),s=t("../symbol/collision_tile"),u=t("../data/bucket");e.exports=i,i.prototype.parse=function(t,e,n,i){function l(t,e){for(var n=0;n<t.length;n++){var i=t.feature(n);for(var r in e)e[r].filter(i)&&e[r].features.push(i)}}function c(t){if(t)return i(t);if(D++,2===D){for(var e=T.length-1;e>=0;e--)h(_,T[e]);p()}}function h(t,e){var n=Date.now();e.addFeatures(b,S,L);var i=Date.now()-n;if(e.interactive)for(var r=0;r<e.features.length;r++){var o=e.features[r];t.featureTree.insert(o.bbox(),e.layers,o)}e.features=null,v._total+=i,v[e.id]=(v[e.id]||0)+i}function p(){if(_.status="done",_.redoPlacementAfterDone){var t=_.redoPlacement(_.angle,_.pitch).result;y.glyphVertex=t.buffers.glyphVertex,y.iconVertex=t.buffers.iconVertex,y.collisionBoxVertex=t.buffers.collisionBoxVertex,_.redoPlacementAfterDone=!1}i(null,{elementGroups:r(M),buffers:y,extent:E,bucketStats:v},o(y))}this.status="parsing",this.featureTree=new a(this.coord,this.overscaling);var f,d,m,g,v={_total:0},_=this,y={},b=new s(this.angle,this.pitch),x={},w={};for(f=0;f<e.length;f++)d=e[f],d.source!==this.source||d.ref||d.minzoom&&this.zoom<d.minzoom||d.maxzoom&&this.zoom>=d.maxzoom||"none"===d.layout.visibility||(g=u.create({layer:d,buffers:y,zoom:this.zoom,overscaling:this.overscaling,collisionDebug:this.collisionDebug}),g.layers=[d.id],x[d.id]=g,t.layers&&(m=d["source-layer"],w[m]=w[m]||{},w[m][d.id]=g));for(f=0;f<e.length;f++)d=e[f],d.source===this.source&&d.ref&&x[d.ref]&&x[d.ref].layers.push(d.id);var E=4096;if(t.layers)for(m in w)d=t.layers[m],d&&(d.extent&&(E=d.extent),l(d,w[m]));else l(t,x);var M=[],T=this.symbolBuckets=[],C=[];for(var P in x)g=x[P],0!==g.features.length&&(M.push(g),"symbol"===g.type?T.push(g):C.push(g));var L={},S={};if(T.length>0){for(f=T.length-1;f>=0;f--)T[f].updateIcons(L),T[f].updateFont(S);for(var R in S)S[R]=Object.keys(S[R]).map(Number);L=Object.keys(L);var D=0;n.send("get glyphs",{uid:this.uid,stacks:S},function(t,e){S=e,c(t)}),L.length?n.send("get icons",{icons:L},function(t,e){L=e,c(t)}):c()}for(f=C.length-1;f>=0;f--)h(this,C[f]);return 0===T.length?p():void 0},i.prototype.redoPlacement=function(t,e,n){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var i={},a=new s(t,e),u=this.symbolBuckets.length-1;u>=0;u--)this.symbolBuckets[u].placeFeatures(a,i,n);return{result:{elementGroups:r(this.symbolBuckets),buffers:i},transferables:o(i)}}},{"../data/bucket":30,"../data/feature_tree":34,"../symbol/collision_tile":86}],69:[function(t,e,n){"use strict";function i(){this.n=0,this.times=[]}e.exports=i,i.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},i.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},i.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],70:[function(t,e,n){"use strict";function i(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(u(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(u(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var n=e.getData(),i=e.data=new Uint8Array(n.length),r=0;r<n.length;r+=4){var o=n[r+3]/255;i[r+0]=n[r+0]*o,i[r+1]=n[r+1]*o,i[r+2]=n[r+2]*o,i[r+3]=n[r+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function r(){}var o=t("../util/evented"),a=t("../util/ajax"),s=t("../util/browser"),u=t("../util/mapbox").normalizeSpriteURL;e.exports=i,i.prototype=Object.create(o),i.prototype.toJSON=function(){return this.base},i.prototype.loaded=function(){return!(!this.data||!this.img)},i.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new i(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},r.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},i.prototype.getSpritePosition=function(t){if(!this.loaded())return new r;var e=this.data&&this.data[t];return e&&this.img?e:new r}},{"../util/ajax":111,"../util/browser":112,"../util/evented":117,"../util/mapbox":120}],71:[function(t,e,n){"use strict";var i=t("./reference");e.exports={},i.layout.forEach(function(t){var n=function(t){for(var e in t)this[e]=t[e]},r=i[t];for(var o in r)void 0!==r[o]["default"]&&(n.prototype[o]=r[o]["default"]);e.exports[t.replace("layout_","")]=n})},{"./reference":73}],72:[function(t,e,n){"use strict";var i=t("./reference"),r=t("csscolorparser").parseCSSColor;e.exports={},i.paint.forEach(function(t){var n=function(){},o=i[t];for(var a in o){var s=o[a],u=s["default"];void 0!==u&&("color"===s.type&&(u=r(u)),n.prototype[a]=u)}n.prototype.hidden=!1,e.exports[t.replace("paint_","")]=n})},{"./reference":73,csscolorparser:124}],73:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest")},{"mapbox-gl-style-spec/reference/latest":146}],74:[function(t,e,n){"use strict";function i(t,e){this.animationLoop=e||new v,this.dispatcher=new g(Math.max(m.hardwareConcurrency-1,1),this),this.glyphAtlas=new l(1024,1024),this.spriteAtlas=new c(512,512),this.spriteAtlas.resize(m.devicePixelRatio),this.lineAtlas=new h(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},p.bindAll(["_forwardSourceEvent","_forwardTileEvent","_redoPlacement"],this);var n=function(t,e){if(t)return void this.fire("error",{error:t});var n=_(e);if(n.length)for(var i=0;i<n.length;i++)this.fire("error",{error:new Error(n[i].message)});else{this._loaded=!0,this.stylesheet=e;var r=e.sources;for(var o in r)this.addSource(o,r[o]);e.sprite&&(this.sprite=new s(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new u(e.glyphs,this.glyphAtlas),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?f.getJSON(d(t),n):m.frame(n.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var n in this._layers){var i=this._layers[n];i.source===e.id&&this._validateLayer(i)}})}var r=t("../util/evented"),o=t("./style_batch"),a=t("./style_layer"),s=t("./image_sprite"),u=t("../symbol/glyph_source"),l=t("../symbol/glyph_atlas"),c=t("../symbol/sprite_atlas"),h=t("../render/line_atlas"),p=t("../util/util"),f=t("../util/ajax"),d=t("../util/mapbox").normalizeStyleURL,m=t("../util/browser"),g=t("../util/dispatcher"),v=t("./animation_loop"),_=t("mapbox-gl-style-spec/lib/validate/latest");
e.exports=i,i.prototype=p.inherit(r,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t["source-layer"]&&e&&e.vectorLayerIds&&-1===e.vectorLayerIds.indexOf(t["source-layer"])&&this.fire("error",{error:new Error('Source layer "'+t["source-layer"]+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return this.sprite&&!this.sprite.loaded()?!1:!0},_resolve:function(){var t,e;this._layers={},this._order=[];for(var n=0;n<this.stylesheet.layers.length;n++)e=new a(this.stylesheet.layers[n]),this._layers[e.id]=e,this._order.push(e.id);for(t in this._layers)this._layers[t].resolveLayout();for(t in this._layers)this._layers[t].resolveReference(this._layers),this._layers[t].resolvePaint();this._groupLayers(),this._broadcastLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var n=this._layers[this._order[e]];t&&n.source===t.source||(t=[],t.source=n.source,this._groups.push(t)),t.push(n)}},_broadcastLayers:function(){this.dispatcher.broadcast("set layers",this._order.map(function(t){return this._layers[t].json()},this))},_cascade:function(t,e){if(this._loaded){e=e||{transition:!0};for(var n in this._layers)this._layers[n].cascade(t,e,this.stylesheet.transition||{},this.animationLoop);this.fire("change")}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(e in this._layers){var n=this._layers[e];n.recalculate(t,this.zoomHistory)&&n.source&&(this.sources[n.source].used=!0)}var i=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(i),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},batch:function(t){o(this,t)},addSource:function(t,e){return this.batch(function(n){n.addSource(t,e)}),this},removeSource:function(t){return this.batch(function(e){e.removeSource(t)}),this},getSource:function(t){return this.sources[t]},addLayer:function(t,e){return this.batch(function(n){n.addLayer(t,e)}),this},removeLayer:function(t){return this.batch(function(e){e.removeLayer(t)}),this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setFilter:function(t,e){return this.batch(function(n){n.setFilter(t,e)}),this},setLayerZoomRange:function(t,e,n){return this.batch(function(i){i.setLayerZoomRange(t,e,n)}),this},getFilter:function(t){return this.getReferentLayer(t).filter},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},getPaintProperty:function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},featuresAt:function(t,e,n){this._queryFeatures("featuresAt",t,e,n)},featuresIn:function(t,e,n){this._queryFeatures("featuresIn",t,e,n)},_queryFeatures:function(t,e,n,i){var r=[],o=null;n.layer&&(n.layerIds=Array.isArray(n.layer)?n.layer:[n.layer]),p.asyncEach(Object.keys(this.sources),function(i,a){var s=this.sources[i];s[t](e,n,function(t,e){e&&(r=r.concat(e)),t&&(o=t),a()})}.bind(this),function(){return o?i(o):void i(null,r.filter(function(t){return void 0!==this._layers[t.layer]}.bind(this)).map(function(t){return t.layer=this._layers[t.layer].json(),t}.bind(this)))}.bind(this))},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,p.extend({source:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,p.extend({source:t.target},t))},"get sprite json":function(t,e){var n=this.sprite;n.loaded()?e(null,{sprite:n.data,retina:n.retina}):n.on("load",function(){e(null,{sprite:n.data,retina:n.retina})})},"get icons":function(t,e){var n=this.sprite,i=this.spriteAtlas;n.loaded()?(i.setSprite(n),i.addIcons(t.icons,e)):n.on("load",function(){i.setSprite(n),i.addIcons(t.icons,e)})},"get glyphs":function(t,e){function n(t,n,i){t&&console.error(t),o[i]=n,r--,0===r&&e(null,o)}var i=t.stacks,r=Object.keys(i).length,o={};for(var a in i)this.glyphSource.getSimpleGlyphs(a,i[a],t.uid,n)}})},{"../render/line_atlas":54,"../symbol/glyph_atlas":88,"../symbol/glyph_source":89,"../symbol/sprite_atlas":94,"../util/ajax":111,"../util/browser":112,"../util/dispatcher":114,"../util/evented":117,"../util/mapbox":120,"../util/util":123,"./animation_loop":69,"./image_sprite":70,"./style_batch":75,"./style_layer":78,"mapbox-gl-style-spec/lib/validate/latest":144}],75:[function(t,e,n){"use strict";function i(t,e){if(!t._loaded)throw new Error("Style is not done loading");var n=Object.create(i.prototype);n._style=t,n._groupLayers=!1,n._broadcastLayers=!1,n._reloadSources={},n._events=[],n._change=!1,e(n),n._groupLayers&&n._style._groupLayers(),n._broadcastLayers&&n._style._broadcastLayers(),Object.keys(n._reloadSources).forEach(function(t){n._style._reloadSource(t)}),n._events.forEach(function(t){n._style.fire.apply(n._style,t)}),n._change&&n._style.fire("change")}var r=t("../source/source"),o=t("./style_layer");i.prototype={addLayer:function(t,e){if(void 0!==this._style._layers[t.id])throw new Error("There is already a layer with this ID");return t instanceof o||(t=new o(t)),this._style._validateLayer(t),this._style._layers[t.id]=t,this._style._order.splice(e?this._style._order.indexOf(e):1/0,0,t.id),t.resolveLayout(),t.resolveReference(this._style._layers),t.resolvePaint(),this._groupLayers=!0,this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._events.push(["layer.add",{layer:t}]),this._change=!0,this},removeLayer:function(t){var e=this._style._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var n in this._style._layers)this._style._layers[n].ref===t&&this.removeLayer(n);return delete this._style._layers[t],this._style._order.splice(this._style._order.indexOf(t),1),this._groupLayers=!0,this._broadcastLayers=!0,this._events.push(["layer.remove",{layer:e}]),this._change=!0,this},setPaintProperty:function(t,e,n,i){return this._style.getLayer(t).setPaintProperty(e,n,i),this._change=!0,this},setLayoutProperty:function(t,e,n){return t=this._style.getReferentLayer(t),t.setLayoutProperty(e,n),this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._change=!0,this},setFilter:function(t,e){return t=this._style.getReferentLayer(t),t.filter=e,this._broadcastLayers=!0,t.source&&(this._reloadSources[t.source]=!0),this._change=!0,this},setLayerZoomRange:function(t,e,n){var i=this._style.getReferentLayer(t);return null!=e&&(i.minzoom=e),null!=n&&(i.maxzoom=n),this._broadcastLayers=!0,i.source&&(this._reloadSources[i.source]=!0),this._change=!0,this},addSource:function(t,e){if(!this._style._loaded)throw new Error("Style is not done loading");if(void 0!==this._style.sources[t])throw new Error("There is already a source with this ID");return e=r.create(e),this._style.sources[t]=e,e.id=t,e.style=this._style,e.dispatcher=this._style.dispatcher,e.glyphAtlas=this._style.glyphAtlas,e.on("load",this._style._forwardSourceEvent).on("error",this._style._forwardSourceEvent).on("change",this._style._forwardSourceEvent).on("tile.add",this._style._forwardTileEvent).on("tile.load",this._style._forwardTileEvent).on("tile.error",this._style._forwardTileEvent).on("tile.remove",this._style._forwardTileEvent).on("tile.stats",this._style._forwardTileEvent),this._events.push(["source.add",{source:e}]),this._change=!0,this},removeSource:function(t){if(void 0===this._style.sources[t])throw new Error("There is no source with this ID");var e=this._style.sources[t];return delete this._style.sources[t],e.off("load",this._style._forwardSourceEvent).off("error",this._style._forwardSourceEvent).off("change",this._style._forwardSourceEvent).off("tile.add",this._style._forwardTileEvent).off("tile.load",this._style._forwardTileEvent).off("tile.error",this._style._forwardTileEvent).off("tile.remove",this._style._forwardTileEvent).off("tile.stats",this._style._forwardTileEvent),this._events.push(["source.remove",{source:e}]),this._change=!0,this}},e.exports=i},{"../source/source":61,"./style_layer":78}],76:[function(t,e,n){"use strict";function i(t,e){this.type=t.type,this.transitionable=t.transition,null==e&&(e=t["default"]),this.json=JSON.stringify(e),"color"===this.type?this.value=o(e):this.value=e,"interpolated"===t["function"]?this.calculate=u.interpolated(this.value):(this.calculate=u["piecewise-constant"](this.value),t.transition&&(this.calculate=r(this.calculate)))}function r(t){return function(e,n,i){var r,o,a,s=e%1,u=Math.min((Date.now()-n.lastIntegerZoomTime)/i,1),l=1,c=1;return e>n.lastIntegerZoom?(r=s+(1-s)*u,l*=2,o=t(e-1),a=t(e)):(r=1-(1-u)*s,a=t(e),o=t(e+1),l/=2),{from:o,fromScale:l,to:a,toScale:c,t:r}}}function o(t){if(c[t])return c[t];if(Array.isArray(t))return t;if(t&&t.stops)return l.extend({},t,{stops:t.stops.map(function(t){return[t[0],o(t[1])]})});if("string"==typeof t){var e=a(s(t));return c[t]=e,e}throw new Error("Invalid color "+t)}function a(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]/1]}var s=t("csscolorparser").parseCSSColor,u=t("mapbox-gl-function"),l=t("../util/util");e.exports=i;var c={}},{"../util/util":123,csscolorparser:124,"mapbox-gl-function":143}],77:[function(t,e,n){"use strict";function i(t){function e(t){this._values={},this._transitions={};for(var e in t)this[e]=t[e]}return Object.keys(t).forEach(function(n){var i=t[n];Object.defineProperty(e.prototype,n,{set:function(t){this._values[n]=new a(i,t)},get:function(){return this._values[n].value}}),i.transition&&Object.defineProperty(e.prototype,n+"-transition",{set:function(t){this._transitions[n]=t},get:function(){return this._transitions[n]}})}),e.prototype.values=function(){return this._values},e.prototype.transition=function(t,e){var n=this._transitions[t]||{};return{duration:r.coalesce(n.duration,e.duration,300),delay:r.coalesce(n.delay,e.delay,0)}},e.prototype.json=function(){var t={};for(var e in this._values)t[e]=this._values[e].value;for(var n in this._transitions)t[n+"-transition"]=this._transitions[e];return t},e}var r=t("../util/util"),o=t("./reference"),a=t("./style_declaration"),s={paint:{},layout:{}};o.layer.type.values.forEach(function(t){s.paint[t]=i(o["paint_"+t]),s.layout[t]=i(o["layout_"+t])}),e.exports=function(t,e,n){return new s[t][e](n)}},{"../util/util":123,"./reference":73,"./style_declaration":76}],78:[function(t,e,n){"use strict";function i(t){this._layer=t,this.id=t.id,this.ref=t.ref,this._resolved={},this._cascaded={},this.assign(t)}function r(t,e){var n=e+"-color",i=e+"-halo-color",r=e+"-outline-color",a=t[n],s=t[i],u=t[r],l=t[e+"-opacity"],c=a&&l*a[3],h=s&&l*s[3],p=u&&l*u[3];void 0!==c&&1>c&&(t[n]=o.premultiply([a[0],a[1],a[2],c])),void 0!==h&&1>h&&(t[i]=o.premultiply([s[0],s[1],s[2],h])),void 0!==p&&1>p&&(t[r]=o.premultiply([u[0],u[1],u[2],p]))}var o=t("../util/util"),a=t("./style_transition"),s=t("./style_declaration_set"),u=t("./layout_properties"),l=t("./paint_properties");e.exports=i,i.prototype={resolveLayout:function(){this.ref||(this.layout=new u[this.type](this._layer.layout),"line"===this.layout["symbol-placement"]&&(this.layout.hasOwnProperty("text-rotation-alignment")||(this.layout["text-rotation-alignment"]="map"),this.layout.hasOwnProperty("icon-rotation-alignment")||(this.layout["icon-rotation-alignment"]="map"),this.layout["symbol-avoid-edges"]=!0))},setLayoutProperty:function(t,e){null==e?delete this.layout[t]:this.layout[t]=e},getLayoutProperty:function(t){return this.layout[t]},resolveReference:function(t){this.ref&&this.assign(t[this.ref])},resolvePaint:function(){for(var t in this._layer){var e=t.match(/^paint(?:\.(.*))?$/);e&&(this._resolved[e[1]||""]=new s("paint",this.type,this._layer[t]))}},setPaintProperty:function(t,e,n){var i=this._resolved[n||""];i||(i=this._resolved[n||""]=new s("paint",this.type,{})),i[t]=e},getPaintProperty:function(t,e){var n=this._resolved[e||""];if(n)return n[t]},cascade:function(t,e,n,i){for(var r in this._resolved)if(""===r||t[r]){var o=this._resolved[r],u=o.values();for(var l in u){var c=u[l],h=e.transition?this._cascaded[l]:void 0;if(!h||h.declaration.json!==c.json){var p=o.transition(l,n),f=this._cascaded[l]=new a(c,h,p);f.instant()||(f.loopID=i.set(f.endTime-(new Date).getTime())),h&&i.cancel(h.loopID)}}}if("symbol"===this.type){var d=new s("layout",this.type,this.layout);this._cascaded["text-size"]=new a(d.values()["text-size"],void 0,n),this._cascaded["icon-size"]=new a(d.values()["icon-size"],void 0,n)}},recalculate:function(t,e){var n=this.type,i=this.paint=new l[n];for(var o in this._cascaded)i[o]=this._cascaded[o].at(t,e);if(this.hidden=this.minzoom&&t<this.minzoom||this.maxzoom&&t>=this.maxzoom||"none"===this.layout.visibility,"symbol"===n?0!==i["text-opacity"]&&this.layout["text-field"]||0!==i["icon-opacity"]&&this.layout["icon-image"]?(r(i,"text"),r(i,"icon")):this.hidden=!0:0===i[n+"-opacity"]?this.hidden=!0:r(i,n),this._cascaded["line-dasharray"]){var a=i["line-dasharray"],s=this._cascaded["line-width"]?this._cascaded["line-width"].at(Math.floor(t),1/0):i["line-width"];a.fromScale*=s,a.toScale*=s}return!this.hidden},assign:function(t){o.extend(this,o.pick(t,["type","source","source-layer","minzoom","maxzoom","filter","layout"]))},json:function(){return o.extend({},this._layer,o.pick(this,["type","source","source-layer","minzoom","maxzoom","filter","layout","paint"]))}}},{"../util/util":123,"./layout_properties":71,"./paint_properties":72,"./style_declaration_set":77,"./style_transition":79}],79:[function(t,e,n){"use strict";function i(t,e,n){this.declaration=t,this.startTime=this.endTime=(new Date).getTime();var i=t.type;"string"!==i&&"array"!==i||!t.transitionable?this.interp=a[i]:this.interp=r,this.oldTransition=e,this.duration=n.duration||0,this.delay=n.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),e&&e.endTime<=this.startTime&&delete e.oldTransition}function r(t,e,n){return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var o=t("../util/util"),a=t("../util/interpolate");e.exports=i,i.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},i.prototype.at=function(t,e,n){var i=this.declaration.calculate(t,e,this.duration);if(this.instant())return i;if(n=n||Date.now(),n<this.endTime){var r=this.oldTransition.at(t,e,this.startTime),o=this.ease((n-this.startTime-this.delay)/this.duration);i=this.interp(r,i,o)}return i}},{"../util/interpolate":119,"../util/util":123}],80:[function(t,e,n){"use strict";function i(t,e,n,i){this.x=t,this.y=e,this.angle=n,void 0!==i&&(this.segment=i)}var r=t("point-geometry");e.exports=i,i.prototype=Object.create(r.prototype),i.prototype.clone=function(){return new i(this.x,this.y,this.angle,this.segment)}},{"point-geometry":153}],81:[function(t,e,n){"use strict";function i(t,e){this.width=t,this.height=e,this.free=[{x:0,y:0,w:t,h:e}]}e.exports=i,i.prototype.release=function(t){for(var e=0;e<this.free.length;e++){var n=this.free[e];if(n.y===t.y&&n.h===t.h&&n.x+n.w===t.x)n.w+=t.w;else if(n.x===t.x&&n.w===t.w&&n.y+n.h===t.y)n.h+=t.h;else if(t.y===n.y&&t.h===n.h&&t.x+t.w===n.x)n.x=t.x,n.w+=t.w;else{if(t.x!==n.x||t.w!==n.w||t.y+t.h!==n.y)continue;n.y=t.y,n.h+=t.h}return this.free.splice(e,1),void this.release(n)}this.free.push(t)},i.prototype.allocate=function(t,e){for(var n={x:1/0,y:1/0,w:1/0,h:1/0},i=-1,r=0;r<this.free.length;r++){var o=this.free[r];t<=o.w&&e<=o.h&&o.y<=n.y&&o.x<=n.x&&(n=o,i=r)}return 0>i?{x:-1,y:-1}:(this.free.splice(i,1),n.w<n.h?(n.w>t&&this.free.push({x:n.x+t,y:n.y,w:n.w-t,h:e}),n.h>e&&this.free.push({x:n.x,y:n.y+e,w:n.w,h:n.h-e})):(n.w>t&&this.free.push({x:n.x+t,y:n.y,w:n.w-t,h:n.h}),n.h>e&&this.free.push({x:n.x,y:n.y+e,w:t,h:n.h-e})),{x:n.x,y:n.y,w:t,h:e})}},{}],82:[function(t,e,n){"use strict";function i(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(a--,0>a)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;n/2>s;){var c=t[a-1],h=t[a],p=t[a+1];if(!p)return!1;var f=c.angleTo(h)-h.angleTo(p);for(f=(f+3*Math.PI)%(2*Math.PI)-Math.PI,u.push({distance:s,angleDelta:f}),l+=f;s-u[0].distance>i;)l-=u.shift().angleDelta;if(Math.abs(l)>r)return!1;a++,s+=h.dist(p)}return!0}e.exports=i},{}],83:[function(t,e,n){"use strict";function i(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u,l=t[s],c=0;c<l.length-1;c++){var h=l[c],p=l[c+1];h.x<e&&p.x<e||(h.x<e?h=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x))):p.x<e&&(p=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))),h.y<n&&p.y<n||(h.y<n?h=new r(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n):p.y<n&&(p=new r(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n)),h.x>=i&&p.x>=i||(h.x>=i?h=new r(i,h.y+(p.y-h.y)*((i-h.x)/(p.x-h.x))):p.x>=i&&(p=new r(i,h.y+(p.y-h.y)*((i-h.x)/(p.x-h.x)))),h.y>=o&&p.y>=o||(h.y>=o?h=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o):p.y>=o&&(p=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o)),u&&h.equals(u[u.length-1])||(u=[h],a.push(u)),u.push(p)))))}return a}var r=t("point-geometry");e.exports=i},{"point-geometry":153}],84:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){this.anchorPoint=t,this.x1=e,this.y1=n,this.x2=i,this.y2=r,this.maxScale=o,this.placementScale=0,this[0]=this[1]=this[2]=this[3]=0}e.exports=i},{}],85:[function(t,e,n){"use strict";function i(t,e,n,i,a,s){var u=n.top*i-a,l=n.bottom*i+a,c=n.left*i-a,h=n.right*i+a;if(this.boxes=[],s){var p=l-u,f=h-c;if(0>=p)return;p=Math.max(10*i,p),this._addLineCollisionBoxes(t,e,f,p)}else this.boxes.push(new r(new o(e.x,e.y),c,u,h,l,1/0))}var r=t("./collision_box"),o=t("point-geometry");e.exports=i,i.prototype._addLineCollisionBoxes=function(t,e,n,i){var o=i/2,a=Math.floor(n/o),s=-i/2,u=this.boxes,l=e,c=e.segment+1,h=s;do{if(c--,0>c)return u;h-=t[c].dist(l),l=t[c]}while(h>-n/2);for(var p=t[c].dist(t[c+1]),f=0;a>f;f++){for(var d=-n/2+f*o;d>h+p;){if(h+=p,c++,c+1>=t.length)return u;p=t[c].dist(t[c+1])}var m=d-h,g=t[c],v=t[c+1],_=v.sub(g)._unit()._mult(m)._add(g),y=Math.max(Math.abs(d-s)-o/2,0),b=n/2/y;u.push(new r(_,-i/2,-i/2,i/2,i/2,b))}return u}},{"./collision_box":84,"point-geometry":153}],86:[function(t,e,n){"use strict";function i(t,e){this.tree=r(),this.angle=t;var n=Math.sin(t),i=Math.cos(t);this.rotationMatrix=[i,-n,n,i],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3)}var r=t("rbush");e.exports=i,i.prototype.minScale=.25,i.prototype.maxScale=2,i.prototype.placeCollisionFeature=function(t){for(var e=this.minScale,n=this.rotationMatrix,i=this.yStretch,r=0;r<t.boxes.length;r++){var o=t.boxes[r],a=o.anchorPoint.matMult(n),s=a.x,u=a.y;o[0]=s+o.x1,o[1]=u+o.y1*i,o[2]=s+o.x2,o[3]=u+o.y2*i;for(var l=this.tree.search(o),c=0;c<l.length;c++){var h=l[c],p=h.anchorPoint.matMult(n),f=(h.x1-o.x2)/(s-p.x),d=(h.x2-o.x1)/(s-p.x),m=(h.y1-o.y2)*i/(u-p.y),g=(h.y2-o.y1)*i/(u-p.y);(isNaN(f)||isNaN(d))&&(f=d=1),(isNaN(m)||isNaN(g))&&(m=g=1);var v=Math.min(Math.max(f,d),Math.max(m,g));if(v>h.maxScale&&(v=h.maxScale),v>o.maxScale&&(v=o.maxScale),v>e&&v>=h.placementScale&&(e=v),e>=this.maxScale)return e}}return e},i.prototype.insertCollisionFeature=function(t,e){for(var n=t.boxes,i=0;i<n.length;i++)n[i].placementScale=e;e<this.maxScale&&this.tree.load(n)}},{rbush:154}],87:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,u){var l=i?.6*a*s:0,c=Math.max(i?i.right-i.left:0,o?o.right-o.left:0);if(0===t[0].x||4096===t[0].x||0===t[0].y||4096===t[0].y)var h=!0;e/4>e-c*s&&(e=c*s+e/4);var p=2*a,f=h?e/2*u%e:(c/2+p)*s*u%e;return r(t,f,e,l,n,c*s,h,!1)}function r(t,e,n,i,u,l,c,h){for(var p=0,f=e-n,d=[],m=0;m<t.length-1;m++){for(var g=t[m],v=t[m+1],_=g.dist(v),y=v.angleTo(g);p+_>f+n;){f+=n;var b=(f-p)/_,x=o(g.x,v.x,b),w=o(g.y,v.y,b);if(x>=0&&4096>x&&w>=0&&4096>w){x=Math.round(x),w=Math.round(w);var E=new a(x,w,y,m);(!i||s(t,E,l,i,u))&&d.push(E)}}p+=_}return h||d.length||c||(d=r(t,p/2,n,i,u,l,c,!0)),d}var o=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=i},{"../symbol/anchor":80,"../util/interpolate":119,"./check_max_angle":82}],88:[function(t,e,n){"use strict";function i(t,e){this.width=t,this.height=e,this.bin=new r(t,e),this.index={},this.ids={},this.data=new Uint8Array(t*e)}var r=t("./bin_pack");e.exports=i,i.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},i.prototype.getGlyphs=function(){var t,e,n,i={};for(var r in this.ids)t=r.split("#"),e=t[0],n=t[1],i[e]||(i[e]=[]),i[e].push(n);return i},i.prototype.getRects=function(){var t,e,n,i={};for(var r in this.ids)t=r.split("#"),e=t[0],n=t[1],i[e]||(i[e]={}),i[e][n]=this.index[r];return i},i.prototype.removeGlyphs=function(t){for(var e in this.ids){var n=this.ids[e],i=n.indexOf(t);if(i>=0&&n.splice(i,1),this.ids[e]=n,!n.length){for(var r=this.index[e],o=this.data,a=0;a<r.h;a++)for(var s=this.width*(r.y+a)+r.x,u=0;u<r.w;u++)o[s+u]=0;this.dirty=!0,this.bin.release(r),delete this.index[e],delete this.ids[e]}}this.updateTexture(this.gl)},i.prototype.addGlyph=function(t,e,n,i){if(!n)return null;var r=e+"#"+n.id;if(this.index[r])return this.ids[r].indexOf(t)<0&&this.ids[r].push(t),this.index[r];if(!n.bitmap)return null;var o=n.width+2*i,a=n.height+2*i,s=1,u=o+2*s,l=a+2*s;u+=4-u%4,l+=4-l%4;var c=this.bin.allocate(u,l);if(c.x<0)return console.warn("glyph bitmap overflow"),{glyph:n,rect:null};this.index[r]=c,this.ids[r]=[t];for(var h=this.data,p=n.bitmap,f=0;a>f;f++)for(var d=this.width*(c.y+f+s)+c.x+s,m=o*f,g=0;o>g;g++)h[d+g]=p[m+g];return this.dirty=!0,c},i.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},i.prototype.updateTexture=function(t){if(this.bind(t),this.dirty){if(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.ctx){for(var e=this.ctx.getImageData(0,0,this.width,this.height),n=0,i=0;n<this.data.length;n++,i+=4)e.data[i]=this.data[n],e.data[i+1]=this.data[n],e.data[i+2]=this.data[n],e.data[i+3]=255;this.ctx.putImageData(e,0,0),this.ctx.strokeStyle="red";for(var r=0;r<this.bin.free.length;r++){var o=this.bin.free[r];this.ctx.strokeRect(o.x,o.y,o.w,o.h)}}this.dirty=!1}}},{"./bin_pack":81}],89:[function(t,e,n){"use strict";function i(t,e){this.url=t&&a(t),this.glyphAtlas=e,this.stacks=[],this.loading={}}function r(t,e,n){var i=1;this.advance=t.advance,this.left=t.left-n-i,this.top=t.top+n+i,this.rect=e}function o(t,e,n,i){return i=i||"abc",n.replace("{s}",i[t.length%i.length]).replace("{fontstack}",t).replace("{range}",e)}var a=t("../util/mapbox").normalizeGlyphsURL,s=t("../util/ajax").getArrayBuffer,u=t("../util/glyphs"),l=t("pbf");e.exports=i,i.prototype.getSimpleGlyphs=function(t,e,n,i){void 0===this.stacks[t]&&(this.stacks[t]={});for(var o,a={},s=this.stacks[t],u=this.glyphAtlas,l=3,c={},h=0,p=0;p<e.length;p++){var f=e[p];if(o=Math.floor(f/256),s[o]){var d=s[o].glyphs[f],m=u.addGlyph(n,t,d,l);d&&(a[f]=new r(d,m,l))}else void 0===c[o]&&(c[o]=[],h++),c[o].push(f)}h||i(void 0,a,t);var g=function(e,o,s){if(!e)for(var p=this.stacks[t][o]=s.stacks[0],f=0;f<c[o].length;f++){var d=c[o][f],m=p.glyphs[d],g=u.addGlyph(n,t,m,l);m&&(a[d]=new r(m,g,l))}h--,h||i(void 0,a,t)}.bind(this);for(var v in c)this.loadRange(t,v,g)},i.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var i=this.loading[t];if(i[e])i[e].push(n);else{i[e]=[n];var r=256*e+"-"+(256*e+255),a=o(t,r,this.url);s(a,function(t,n){for(var r=!t&&new u(new l(new Uint8Array(n))),o=0;o<i[e].length;o++)i[e][o](t,e,r);delete i[e]})}}},{"../util/ajax":111,"../util/glyphs":118,"../util/mapbox":120,pbf:151}],90:[function(t,e,n){"use strict";e.exports=function(t,e,n){function i(i){c.push(t[i]),h.push(n[i]),p.push(e[i]),f++}function r(t,e,n){var i=l[t];return delete l[t],l[e]=i,h[i][0].pop(),h[i][0]=h[i][0].concat(n[0]),i}function o(t,e,n){var i=u[e];return delete u[e],u[t]=i,h[i][0].shift(),h[i][0]=n[0].concat(h[i][0]),i}function a(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}var s,u={},l={},c=[],h=[],p=[],f=0;for(s=0;s<t.length;s++){var d=n[s],m=e[s];if(m){var g=a(m,d),v=a(m,d,!0);if(g in l&&v in u&&l[g]!==u[v]){var _=o(g,v,d),y=r(g,v,h[_]);delete u[g],delete l[v],l[a(m,h[y],!0)]=y,h[_]=null}else g in l?r(g,v,d):v in u?o(g,v,d):(i(s),u[g]=f-1,l[v]=f-1)}else i(s)}return{features:c,textFeatures:p,geometries:h}}},{}],91:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s,u){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=i,this.br=r,this.tex=o,this.angle=a,this.minScale=s,this.maxScale=u}function r(t,e,n,r,o,a){var l=e.image.rect,c=1,h=e.left-c,p=h+l.w,f=e.top-c,d=f+l.h,m=new s(h,f),g=new s(p,f),v=new s(p,d),_=new s(h,d),y=o["icon-rotate"]*Math.PI/180;if(a){var b=r[t.segment];if(t.y===b.y&&t.x===b.x&&t.segment+1<r.length){var x=r[t.segment+1];y+=Math.atan2(t.y-x.y,t.x-x.x)+Math.PI}else y+=Math.atan2(t.y-b.y,t.x-b.x)}if(y){var w=Math.sin(y),E=Math.cos(y),M=[E,-w,w,E];m=m.matMult(M),g=g.matMult(M),_=_.matMult(M),v=v.matMult(M)}return[new i(new s(t.x,t.y),m,g,_,v,e.image.rect,0,u,1/0)]}function o(t,e,n,r,o,l){for(var c=o["text-rotate"]*Math.PI/180,h=o["text-keep-upright"],p=e.positionedGlyphs,f=[],d=0;d<p.length;d++){var m=p[d],g=m.glyph,v=g.rect;if(v){var _,y=(m.x+g.advance/2)*n,b=u;l?(_=[],b=a(_,t,y,r,t.segment,!0),h&&(b=Math.min(b,a(_,t,y,r,t.segment,!1)))):_=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:u}];for(var x=m.x+g.left,w=m.y-g.top,E=x+v.w,M=w+v.h,T=new s(x,w),C=new s(E,w),P=new s(x,M),L=new s(E,M),S=0;S<_.length;S++){var R=_[S],D=T,k=C,O=P,A=L,N=R.angle+c;if(N){var I=Math.sin(N),U=Math.cos(N),z=[U,-I,I,U];D=D.matMult(z),k=k.matMult(z),O=O.matMult(z),A=A.matMult(z)}var B=Math.max(R.minScale,b),j=(t.angle+c+R.offset+2*Math.PI)%(2*Math.PI);f.push(new i(R.anchorPoint,D,k,O,A,v,j,B,R.maxScale))}}}return f}function a(t,e,n,i,r,o){var a=!o;0>n&&(o=!o),o&&r++;var l=new s(e.x,e.y),c=i[r],h=1/0;n=Math.abs(n);for(var p=u;;){var f=l.dist(c),d=n/f,m=Math.atan2(c.y-l.y,c.x-l.x);if(o||(m+=Math.PI),a&&(m+=Math.PI),t.push({anchorPoint:l,offset:a?Math.PI:0,minScale:d,maxScale:h,angle:(m+2*Math.PI)%(2*Math.PI)}),p>=d)break;for(l=c;l.equals(c);)if(r+=o?1:-1,c=i[r],!c)return d;var g=c.sub(l)._unit();l=l.sub(g._mult(f)),h=d}return p}var s=t("point-geometry");e.exports={getIconQuads:r,getGlyphQuads:o};var u=.5},{"point-geometry":153}],92:[function(t,e,n){"use strict";function i(t,e,n){for(var i=[],o=0,a=t.length;a>o;o++){var s=r(t[o].properties,e["text-field"]);if(s){s=s.toString();var u=e["text-transform"];"uppercase"===u?s=s.toLocaleUpperCase():"lowercase"===u&&(s=s.toLocaleLowerCase());for(var l=0;l<s.length;l++)n[s.charCodeAt(l)]=!0;i[o]=s}else i[o]=null}return i}var r=t("../util/token");e.exports=i},{"../util/token":122}],93:[function(t,e,n){"use strict";function i(t,e,n,i){this.codePoint=t,this.x=e,this.y=n,this.glyph=i}function r(t,e,n,i,r,o){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=i,this.left=r,this.right=o}function o(t,e,n,o,s,u,l,c,h){for(var p=[],f=new r(p,t,h[1],h[1],h[0],h[0]),d=-17,m=h[0],g=h[1]+d,v=0;v<t.length;v++){var _=t.charCodeAt(v),y=e[_];y&&(p.push(new i(_,m,g,y)),m+=y.advance+c)}return p.length?(a(f,e,o,n,s,u,l),f):!1}function a(t,e,n,i,r,o,a){var l=null,c=0,f=0,d=0,m=0,g=t.positionedGlyphs;if(i)for(var v=0;v<g.length;v++){var _=g[v];if(_.x-=c,_.y+=n*d,_.x>i&&null!==l){var y=g[l+1].x;m=Math.max(y,m);for(var b=l+1;v>=b;b++)g[b].y+=n,g[b].x-=y;if(a){var x=l;h[g[l].codePoint]&&x--,s(g,e,f,x,a)}f=l+1,l=null,c+=y,d++}p[_.codePoint]&&(l=v)}var w=g[g.length-1],E=w.x+e[w.codePoint].advance;m=Math.max(m,E);var M=(d+1)*n;s(g,e,f,g.length-1,a),u(g,a,r,o,m,n,d),t.top+=-o*M,t.bottom=t.top+M,t.left+=-r*m,t.right=t.left+m}function s(t,e,n,i,r){for(var o=e[t[i].codePoint].advance,a=(t[i].x+o)*r,s=n;i>=s;s++)t[s].x-=a}function u(t,e,n,i,r,o,a){for(var s=(e-n)*r,u=(-i*(a+1)+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}function l(t,e){if(!t||!t.rect)return null;var n=e["icon-offset"][0],i=e["icon-offset"][1],r=n-t.width/2,o=r+t.width,a=i-t.height/2,s=a+t.height;return new c(t,a,s,r,o)}function c(t,e,n,i,r){this.image=t,this.top=e,this.bottom=n,this.left=i,this.right=r}e.exports={shapeText:o,shapeIcon:l};var h={32:!0,8203:!0},p={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],94:[function(t,e,n){"use strict";function i(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function r(t,e,n,i,r,o,a,s,u,l,c){var h,p,f=i*e+n,d=s*o+a;if(c)for(d-=o,p=-1;l>=p;p++,f=((p+l)%l+i)*e+n,d+=o)for(h=-1;u>=h;h++)r[d+h]=t[f+(h+u)%u];else for(p=0;l>p;p++,f+=e,d+=o)for(h=0;u>h;h++)r[d+h]=t[f+h]}function o(t,e,n,i){this.rect=t,this.width=e,this.height=n,this.sdf=i}var a=t("./bin_pack");e.exports=i,i.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+"px",this.canvas.style.width=this.width+"px",document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},i.prototype.resize=function(t){if(t=t>1?2:1,this.pixelRatio===t)return!1;var e=this.pixelRatio;if(this.pixelRatio=t,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio),this.data){var n=this.data;this.data=!1,this.allocate(),this.texture=!1;for(var i=this.width*e,r=this.height*e,o=this.width*t,a=this.height*t,s=this.data,u=n,l=0;a>l;l++)for(var c=Math.floor(l*r/a)*i,h=l*o,p=0;o>p;p++){var f=Math.floor(p*i/o);s[h+p]=u[c+f]}n=null,this.dirty=!0}return this.dirty},i.prototype.allocateImage=function(t,e){var n=2,i=t+n+(4-(t+n)%4),r=e+n+(4-(e+n)%4),o=this.bin.allocate(i,r);return 0===o.w?o:(o.originalWidth=t,o.originalHeight=e,o)},i.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var i=n.width/n.pixelRatio,r=n.height/n.pixelRatio,a=this.allocateImage(i,r);if(0===a.w)return a;var s=new o(a,i,r,n.sdf);return this.images[t]=s,this.copy(a,n,e),s},i.prototype.getPosition=function(t,e){var n=this.getImage(t,e),i=n&&n.rect;if(!i)return null;var r=e?n.width:i.w,o=e?n.height:i.h,a=1;return{size:[r,o],tl:[(i.x+a)/this.width,(i.y+a)/this.height],br:[(i.x+a+r)/this.width,(i.y+a+o)/this.height]}},i.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var n=0;n<this.data.length;n++)this.data[n]=0}},i.prototype.copy=function(t,e,n){if(this.sprite.img.data){var i=new Uint32Array(this.sprite.img.data.buffer);
this.allocate();var o=this.data,a=1;r(i,this.sprite.img.width,e.x,e.y,o,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,n),this.dirty=!0}},i.prototype.setSprite=function(t){this.sprite=t},i.prototype.addIcons=function(t,e){for(var n=0;n<t.length;n++)this.getImage(t[n]);e(null,this.images)},i.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var i=e?t.LINEAR:t.NEAREST;if(i!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),this.filter=i),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1,this.ctx)){var r=this.ctx.getImageData(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);r.data.set(new Uint8ClampedArray(this.data.buffer)),this.ctx.putImageData(r,0,0),this.ctx.strokeStyle="red";for(var o=0;o<this.bin.free.length;o++){var a=this.bin.free[o];this.ctx.strokeRect(a.x*this.pixelRatio,a.y*this.pixelRatio,a.w*this.pixelRatio,a.h*this.pixelRatio)}}}},{"./bin_pack":81}],95:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/interpolate"),o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("point-geometry"),l=e.exports=function(){};i.extend(l.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t){return this.jumpTo({center:t}),this},panBy:function(t,e){return this.panTo(this.transform.center,i.extend({offset:u.convert(t).mult(-1)},e)),this},panTo:function(t,e){this.stop(),t=a.convert(t),e=i.extend({duration:500,easing:i.ease,offset:[0,0]},e);var n=this.transform,r=u.convert(e.offset).rotate(-n.angle),o=n.point,s=n.project(t).sub(r);return e.noMoveStart||this.fire("movestart"),this._ease(function(t){n.center=n.unproject(o.add(s.sub(o).mult(t))),this.fire("move")},function(){this.fire("moveend")},e),this},getZoom:function(){return this.transform.zoom},setZoom:function(t){return this.jumpTo({zoom:t}),this},zoomTo:function(t,e){this.stop(),e=i.extend({duration:500},e),e.easing=this._updateEasing(e.duration,t,e.easing);var n=this.transform,o=n.center,s=n.zoom;return e.around?o=a.convert(e.around):e.offset&&(o=n.pointLocation(n.centerPoint.add(u.convert(e.offset)))),e.animate===!1&&(e.duration=0),this.zooming||(this.zooming=!0,this.fire("movestart")),this._ease(function(e){n.setZoomAround(r(s,t,e),o),this.fire("move").fire("zoom")},function(){this.ease=null,e.duration>=200&&(this.zooming=!1,this.fire("moveend"))},e),e.duration<200&&(clearTimeout(this._onZoomEnd),this._onZoomEnd=setTimeout(function(){this.zooming=!1,this.fire("moveend")}.bind(this),200)),this},zoomIn:function(t){return this.zoomTo(this.getZoom()+1,t),this},zoomOut:function(t){return this.zoomTo(this.getZoom()-1,t),this},getBearing:function(){return this.transform.bearing},setBearing:function(t){return this.jumpTo({bearing:t}),this},rotateTo:function(t,e){this.stop(),e=i.extend({duration:500,easing:i.ease},e);var n=this.transform,o=this.getBearing(),s=n.center;return e.around?s=a.convert(e.around):e.offset&&(s=n.pointLocation(n.centerPoint.add(u.convert(e.offset)))),t=this._normalizeBearing(t,o),this.rotating=!0,e.noMoveStart||this.fire("movestart"),this._ease(function(e){n.setBearingAround(r(o,t,e),s),this.fire("move").fire("rotate")},function(){this.rotating=!1,this.fire("moveend")},e),this},resetNorth:function(t){return this.rotateTo(0,i.extend({duration:1e3},t)),this},snapToNorth:function(t){return Math.abs(this.getBearing())<this.options.bearingSnap?this.resetNorth(t):this},getPitch:function(){return this.transform.pitch},setPitch:function(t){return this.jumpTo({pitch:t}),this},fitBounds:function(t,e){e=i.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var n=u.convert(e.offset),r=this.transform,o=r.project(t.getNorthWest()),a=r.project(t.getSouthEast()),l=a.sub(o),c=(r.width-2*e.padding-2*Math.abs(n.x))/l.x,h=(r.height-2*e.padding-2*Math.abs(n.y))/l.y;return e.center=r.unproject(o.add(a).div(2)),e.zoom=Math.min(r.scaleZoom(r.scale*Math.min(c,h)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e):this.flyTo(e)},jumpTo:function(t){this.stop();var e=this.transform,n=!1,i=!1,r=!1;return"zoom"in t&&e.zoom!==+t.zoom&&(n=!0,e.zoom=+t.zoom),"center"in t&&(e.center=a.convert(t.center)),"bearing"in t&&e.bearing!==+t.bearing&&(i=!0,e.bearing=+t.bearing),"pitch"in t&&e.pitch!==+t.pitch&&(r=!0,e.pitch=+t.pitch),this.fire("movestart").fire("move"),n&&this.fire("zoom"),i&&this.fire("rotate"),r&&this.fire("pitch"),this.fire("moveend")},easeTo:function(t){this.stop(),t=i.extend({offset:[0,0],duration:500,easing:i.ease},t);var e=this.transform,n=u.convert(t.offset).rotate(-e.angle),o=e.point,s=e.worldSize,l=this.getZoom(),c=this.getBearing(),h=this.getPitch(),p="zoom"in t?+t.zoom:l,f="bearing"in t?this._normalizeBearing(t.bearing,c):c,d="pitch"in t?+t.pitch:h,m=e.zoomScale(p-l),g="center"in t?e.project(a.convert(t.center)).sub(n.div(m)):o,v="center"in t?null:a.convert(t.around);return p!==l&&(this.zooming=!0),c!==f&&(this.rotating=!0),d!==h&&(this.pitching=!0),this.zooming&&!v&&(v=e.pointLocation(e.centerPoint.add(g.sub(o).div(1-1/m)))),this.fire("movestart"),this._ease(function(t){this.zooming&&v?e.setZoomAround(r(l,p,t),v):(this.zooming&&(e.zoom=r(l,p,t)),e.center=e.unproject(o.add(g.sub(o).mult(t)),s)),this.rotating&&(e.bearing=r(c,f,t)),this.pitching&&(e.pitch=r(h,d,t)),this.fire("move"),this.zooming&&this.fire("zoom"),this.rotating&&this.fire("rotate"),this.pitching&&this.fire("pitch")},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("moveend")},t),this},flyTo:function(t){function e(t){var e=(T*T-M*M+(t?-1:1)*P*P*C*C)/(2*(t?T:M)*P*C);return Math.log(Math.sqrt(e*e+1)-e)}function n(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return n(t)/o(t)}this.stop(),t=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},t);var l=this.transform,c=u.convert(t.offset),h=this.getZoom(),p=this.getBearing(),f=this.getPitch(),d="center"in t?a.convert(t.center):this.getCenter(),m="zoom"in t?+t.zoom:h,g="bearing"in t?this._normalizeBearing(t.bearing,p):p,v="pitch"in t?+t.pitch:f,_=l.zoomScale(m-h),y=l.point,b=l.project(d).sub(c.div(_)),x=l.worldSize,w=t.curve,E=t.speed,M=Math.max(l.width,l.height),T=M/_,C=b.sub(y).mag(),P=w*w,L=e(0),S=function(t){return o(L)/o(L+w*t)},R=function(t){return M*((o(L)*s(L+w*t)-n(L))/P)/C},D=(e(1)-L)/w;if(Math.abs(C)<1e-6){if(Math.abs(M-T)<1e-6)return this;var k=M>T?-1:1;D=Math.abs(Math.log(T/M))/w,R=function(){return 0},S=function(t){return Math.exp(k*w*t)}}return t.duration=1e3*D/E,this.zooming=!0,p!==g&&(this.rotating=!0),f!==v&&(this.pitching=!0),this.fire("movestart"),this._ease(function(t){var e=t*D,n=R(e);l.zoom=h+l.scaleZoom(1/S(e)),l.center=l.unproject(y.add(b.sub(y).mult(n)),x),this.rotating&&(l.bearing=r(p,g,t)),this.pitching&&(l.pitch=r(f,v,t)),this.fire("move").fire("zoom"),this.rotating&&this.fire("rotate"),this.pitching&&this.fire("pitch")},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("moveend")},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=i.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},_updateEasing:function(t,e,n){var r;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),u=.27/Math.sqrt(s*s+1e-4)*.01,l=Math.sqrt(.0729-u*u);r=i.bezier(u,l,.25,1)}else r=n?i.bezier.apply(i,n):i.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:r},r}})},{"../geo/lng_lat":39,"../geo/lng_lat_bounds":40,"../util/browser":112,"../util/interpolate":119,"../util/util":123,"point-geometry":153}],96:[function(t,e,n){"use strict";function i(){}var r=t("./control"),o=t("../../util/dom"),a=t("../../util/util");e.exports=i,i.prototype=a.inherit(r,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",n=this._container=o.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),n},_update:function(){var t=[];if(this._map.style)for(var e in this._map.style.sources){var n=this._map.style.sources[e];n.attribution&&t.indexOf(n.attribution)<0&&t.push(n.attribution)}this._container.innerHTML=t.join(" | "),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},{"../../util/dom":115,"../../util/util":123,"./control":97}],97:[function(t,e,n){"use strict";function i(){}e.exports=i,i.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var n=this.options.position,i=t._controlCorners[n];e.className+=" mapboxgl-ctrl",-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}}},{}],98:[function(t,e,n){"use strict";function i(t){s.setOptions(this,t)}function r(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=t("./control"),a=t("../../util/dom"),s=t("../../util/util");e.exports=i,i.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",n=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),n},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(r(t)),t.stopPropagation())},_createButton:function(t,e){var n=a.create("button",t,this._container);return n.addEventListener("click",function(){e()}),n},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},{"../../util/dom":115,"../../util/util":123,"./control":97}],99:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),a=t("../../util/util");e.exports=i,i.prototype={enable:function(){this._el.addEventListener("mousedown",this._onMouseDown,!1)},disable:function(){this._el.removeEventListener("mousedown",this._onMouseDown)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),this._startPos=r.mousePos(this._el,t),this.active=!0)},_onMouseMove:function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),r.disableDrag(),this._fireEvent("boxzoomstart",t));var i=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),i=new o(this._map.unproject(e),this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(i,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this.active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{"../../geo/lng_lat_bounds":40,"../../util/dom":115,"../../util/util":123}],100:[function(t,e,n){"use strict";function i(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=i,i.prototype={enable:function(){this._map.on("dblclick",this._onDblClick)},disable:function(){this._map.off("dblclick",this._onDblClick)},_onDblClick:function(t){this._map.zoomTo(Math.round(this._map.getZoom())+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat})}}},{}],101:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/util");e.exports=i;var a=.25,s=o.bezier(0,0,a,1),u=3e3,l=4e3;i.prototype={enable:function(){this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown)},_onDown:function(t){this._ignoreEvent(t)||this.active||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this.active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.active){this.active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),n=this._inertia;if(n.length<2)return void e();var i=n[n.length-1],r=n[0],o=i[1].sub(r[1]),c=(i[0]-r[0])/1e3;if(0===c||i[1].equals(r[1]))return void e();var h=o.mult(a/c),p=h.mag();p>u&&(p=u,h._unit()._mult(p));var f=p/(l*a),d=h.mult(-f/2);this._map.panBy(d,{duration:1e3*f,easing:s,noMoveStart:!0})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragRotate&&e.dragRotate.active)return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,i=0;return"mousemove"===t.type?t.buttons&0===n:t.button!==i},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=50;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":115,"../../util/util":123}],102:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("point-geometry"),a=t("../../util/util");e.exports=i;var s=.25,u=a.bezier(0,0,s,1),l=180,c=720;i.prototype={enable:function(){this._el.addEventListener("mousedown",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.active){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this.active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),n=e.mag();200>n&&(this._center=this._startPos.add(new o(-200,0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var n=this._pos,i=r.mousePos(this._el,t),o=this._center,a=n.sub(o).angleWith(i.sub(o))/Math.PI*180,s=e.getBearing()-a,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([Date.now(),e._normalizeBearing(s,l[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=i}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.active)){this.active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,n=e.getBearing(),i=this._inertia,r=function(){Math.abs(n)<e.options.bearingSnap?e.resetNorth({noMoveStart:!0}):this._fireEvent("moveend",t)}.bind(this);if(i.length<2)return void r();var o=i[0],a=i[i.length-1],h=i[i.length-2],p=e._normalizeBearing(n,h[1]),f=a[1]-o[1],d=0>f?-1:1,m=(a[0]-o[0])/1e3;if(0===f||0===m)return void r();var g=Math.abs(f*(s/m));g>l&&(g=l);var v=g/(c*s),_=d*g*(v/2);p+=_,Math.abs(e._normalizeBearing(p,0))<e.options.bearingSnap&&(p=e._normalizeBearing(0,p)),e.rotateTo(p,{duration:1e3*v,easing:u,noMoveStart:!0})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragPan&&e.dragPan.active)return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,i=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===n:t.button!==i},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=50;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":115,"../../util/util":123,"point-geometry":153}],103:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=i;var r=80,o=2,a=5;i.prototype={enable:function(){this._el.addEventListener("keydown",this._onKeyDown,!1)},disable:function(){this._el.removeEventListener("keydown",this._onKeyDown)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map;switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1));break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1));break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-o}):e.panBy([-r,0]);break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+o}):e.panBy([r,0]);break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a}):e.panBy([0,-r]);break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)}):e.panBy([0,r])}}}}},{}],104:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/util");e.exports=i,i.prototype={enable:function(){this._el.addEventListener("touchstart",this._onStart,!1)},disable:function(){this._el.removeEventListener("touchstart",this._onStart)},_onStart:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),i=e.add(n).div(2),o=e.sub(n),a=o.mag()/this._startVec.mag(),s=180*o.angleWith(this._startVec)/Math.PI,u=this._map;u.easeTo({zoom:u.transform.scaleZoom(this._startScale*a),bearing:this._startBearing+s,duration:0,around:u.unproject(i)}),t.preventDefault()}},_onEnd:function(){this._map.snapToNorth(),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd)}}},{"../../util/dom":115,"../../util/util":123}],105:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/browser"),a=t("../../util/util");e.exports=i;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",u=-1!==s.indexOf("firefox"),l=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom");i.prototype={enable:function(){this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1)},disable:function(){this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=(window.performance||Date).now(),i=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t){var e=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));0>t&&0!==n&&(n=1/n);var i=e.ease?e.ease.to:e.transform.scale,r=e.transform.scaleZoom(i*n);e.zoomTo(r,{duration:0,around:e.unproject(this._pos)})}}},{"../../util/browser":112,"../../util/dom":115,"../../util/util":123}],106:[function(t,e,n){"use strict";function i(){r.bindAll(["_onHashChange","_updateHash"],this)}e.exports=i;var r=t("../util/util");i.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3?(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0):!1},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),i=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),r="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(i)+"/"+t.lng.toFixed(i)+(n?"/"+Math.round(10*n)/10:"");window.history.replaceState("","",r)}}},{"../util/util":123}],107:[function(t,e,n){"use strict";function i(t){this._map=t,this._el=t.getCanvasContainer();for(var e in r)t[e]=new r[e](t);a.bindHandlers(this)}var r={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),pinch:t("./handler/pinch")},o=t("../util/dom"),a=t("../util/util");e.exports=i,i.prototype={enable:function(){var t=this._map.options,e=this._el;for(var n in r)t[n]&&this._map[n].enable();e.addEventListener("mousedown",this._onMouseDown,!1),e.addEventListener("mouseup",this._onMouseUp,!1),e.addEventListener("touchstart",this._onTouchStart,!1),e.addEventListener("click",this._onClick,!1),e.addEventListener("mousemove",this._onMouseMove,!1),e.addEventListener("dblclick",this._onDblClick,!1),e.addEventListener("contextmenu",this._onContextMenu,!1)},disable:function(){var t=this._map.options,e=this._el;for(var n in r)t[n]&&this._map[n].disable();e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("click",this._onClick),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("dblclick",this._onDblClick),e.removeEventListener("contextmenu",this._onContextMenu)},_onMouseDown:function(t){this._map.stop(),this._startPos=o.mousePos(this._el,t),this._fireEvent("mousedown",t)},_onMouseUp:function(t){var e=this._map,n=e.dragRotate&&e.dragRotate.active;this._contextMenuEvent&&!n&&this._fireEvent("contextmenu",this._contextMenuEvent),this._contextMenuEvent=null,this._fireEvent("mouseup",t)},_onTouchStart:function(t){!t.touches||t.touches.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._fireEvent("dblclick",t)):this._tapped=setTimeout(this._onTimeout,300))},_onTimeout:function(){this._tapped=null},_onMouseMove:function(t){var e=this._map,n=this._el;if(!(e.dragPan&&e.dragPan.active||e.dragRotate&&e.dragRotate.active)){for(var i=t.toElement||t.target;i&&i!==n;)i=i.parentNode;i===n&&this._fireEvent("mousemove",t)}},_onClick:function(t){var e=o.mousePos(this._el,t);e.equals(this._startPos)&&this._fireEvent("click",t)},_onDblClick:function(t){this._fireEvent("dblclick",t),t.preventDefault()},_onContextMenu:function(t){this._contextMenuEvent=t,t.preventDefault()},_fireEvent:function(t,e){var n=o.mousePos(this._el,e);return this._map.fire(t,{lngLat:this._map.unproject(n),point:n,originalEvent:e})}}},{"../util/dom":115,"../util/util":123,"./handler/box_zoom":99,"./handler/dblclick_zoom":100,"./handler/drag_pan":101,"./handler/drag_rotate":102,"./handler/keyboard":103,"./handler/pinch":104,"./handler/scroll_zoom":105}],108:[function(t,e,n){"use strict";var i=t("../util/canvas"),r=t("../util/util"),o=t("../util/browser"),a=t("../util/evented"),s=t("../util/dom"),u=t("../style/style"),l=t("../style/animation_loop"),c=t("../render/painter"),h=t("../geo/transform"),p=t("./hash"),f=t("./interaction"),d=t("./camera"),m=t("../geo/lng_lat"),g=t("../geo/lng_lat_bounds"),v=t("point-geometry"),_=t("./control/attribution"),y=e.exports=function(t){if(t=this.options=r.inherit(this.options,t),this.animationLoop=new l,this.transform=new h(t.minZoom,t.maxZoom),t.maxBounds){var e=g.convert(t.maxBounds);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()]}r.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowResize","onError","update","render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this.update.bind(this,!1)),this.on("zoom",this.update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof window&&window.addEventListener("resize",this._onWindowResize,!1),this.interaction=new f(this),t.interactive&&this.interaction.enable(),this._hash=t.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo(t),this.sources={},this.stacks={},this._classes={},this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new _),this.on("style.error",this.onError),this.on("source.error",this.onError),this.on("tile.error",this.onError)};r.extend(y.prototype,a),r.extend(y.prototype,d.prototype),r.extend(y.prototype,{options:{center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:20,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,pinch:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1},addControl:function(t){return t.addTo(this),this},addClass:function(t,e){this._classes[t]||(this._classes[t]=!0,this.style&&this.style._cascade(this._classes,e))},removeClass:function(t,e){this._classes[t]&&(delete this._classes[t],this.style&&this.style._cascade(this._classes,e))},setClasses:function(t,e){this._classes={};for(var n=0;n<t.length;n++)this._classes[t[n]]=!0;this.style&&this.style._cascade(this._classes,e)},hasClass:function(t){return!!this._classes[t]},getClasses:function(){return Object.keys(this._classes)},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){return new g(this.transform.pointLocation(new v(0,0)),this.transform.pointLocation(this.transform.size))},project:function(t){return this.transform.locationPoint(m.convert(t))},unproject:function(t){return this.transform.pointLocation(v.convert(t))},featuresAt:function(t,e,n){var i=this.unproject(t).wrap(),r=this.transform.locationCoordinate(i);return this.style.featuresAt(r,e,n),this},featuresIn:function(t,e,n){return"undefined"==typeof n&&(n=e,e=t,t=[v.convert([0,0]),v.convert([this.transform.width,this.transform.height])]),t=t.map(v.convert.bind(v)),t=[new v(Math.min(t[0].x,t[1].x),Math.min(t[0].y,t[1].y)),new v(Math.max(t[0].x,t[1].x),Math.max(t[0].y,t[1].y))].map(this.transform.pointCoordinate.bind(this.transform)),this.style.featuresIn(t,e,n),this},batch:function(t){this.style.batch(t),this.style._cascade(this._classes),this.update(!0)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this.update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof u?this.style=t:this.style=new u(t,this.animationLoop),
this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this.update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},addSource:function(t,e){return this.style.addSource(t,e),this},removeSource:function(t){return this.style.removeSource(t),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this.style._cascade(this._classes),this},removeLayer:function(t){return this.style.removeLayer(t),this.style._cascade(this._classes),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this},setLayerZoomRange:function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,n,i){return this.batch(function(r){r.setPaintProperty(t,e,n,i)}),this},getPaintProperty:function(t,e,n){return this.style.getPaintProperty(t,e,n)},setLayoutProperty:function(t,e,n){return this.batch(function(i){i.setLayoutProperty(t,e,n)}),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this.options.container,e=this._container="string"==typeof t?document.getElementById(t):t;e.classList.add("mapboxgl-map");var n=this._canvasContainer=s.create("div","mapboxgl-canvas-container",e);this.options.interactive&&n.classList.add("mapboxgl-interactive"),this._canvas=new i(this,n);var r=s.create("div","mapboxgl-control-container",e),o=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=s.create("div","mapboxgl-ctrl-"+t,r)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this.options.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.options.preserveDrawingBuffer});return t?void(this.painter=new c(t,this.transform)):void console.error("Failed to initialize WebGL")},_contextLost:function(t){t.preventDefault(),this._frameId&&o.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this.update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return this._styleDirty||this._sourcesDirty?!1:this.style&&!this.style.loaded()?!1:!0},update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},render:function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&!this._sourcesDirtyTimeout&&(this._sourcesDirty=!1,this._sourcesDirtyTimeout=setTimeout(function(){this._sourcesDirtyTimeout=null}.bind(this),50),this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.debug,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&&this._rerender(),this},remove:function(){return this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),clearTimeout(this._sourcesDirtyTimeout),this.setStyle(null),"undefined"!=typeof window&&window.removeEventListener("resize",this._onWindowResize,!1),this},onError:function(t){console.error(t.error)},_rerender:function(){this.style&&!this._frameId&&(this._frameId=o.frame(this.render))},_forwardStyleEvent:function(t){this.fire("style."+t.type,r.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,r.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,r.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,r.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style._cascade(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this.update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this.update(),this._forwardSourceEvent(t)},_onWindowResize:function(){this.stop().resize().update()}}),r.extendAll(y.prototype,{_debug:!1,get debug(){return this._debug},set debug(t){this._debug=t,this.update()},_collisionDebug:!1,get collisionDebug(){return this._collisionDebug},set collisionDebug(t){this._collisionDebug=t,this.style._redoPlacement()},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this.update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this.update()}})},{"../geo/lng_lat":39,"../geo/lng_lat_bounds":40,"../geo/transform":41,"../render/painter":55,"../style/animation_loop":69,"../style/style":74,"../util/browser":112,"../util/canvas":113,"../util/dom":115,"../util/evented":117,"../util/util":123,"./camera":95,"./control/attribution":96,"./hash":106,"./interaction":107,"point-geometry":153}],109:[function(t,e,n){"use strict";function i(t){r.setOptions(this,t),r.bindAll(["_updatePosition","_onClickClose"],this)}e.exports=i;var r=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat");i.prototype=r.inherit(o,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._updatePosition),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._container&&this._container.parentNode.removeChild(this._container),this._map&&(this._map.off("move",this._updatePosition),this._map.off("click",this._onClickClose),delete this._map),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this._content=document.createTextNode(t),this._updateContent(),this},setHTML:function(t){this._content=document.createDocumentFragment();var e,n=document.createElement("body");for(n.innerHTML=t;;){if(e=n.firstChild,!e)break;this._content.appendChild(e)}return this._updateContent(),this},_update:function(){this._map&&(this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._wrapper=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._wrapper),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))),this._updateContent(),this._updatePosition())},_updateContent:function(){if(this._content&&this._container){for(var t=this._wrapper;t.hasChildNodes();)t.removeChild(t.firstChild);this.options.closeButton&&t.appendChild(this._closeButton),t.appendChild(this._content)}},_updatePosition:function(){if(this._lngLat&&this._container){var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var n=this._container.offsetWidth,i=this._container.offsetHeight;e=t.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<n/2?e.push("left"):t.x>this._map.transform.width-n/2&&e.push("right"),e=0===e.length?"bottom":e.join("-"),this.options.anchor=e}var r={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},o=this._container.classList;for(var s in r)o.remove("mapboxgl-popup-anchor-"+s);o.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,r[e]+" translate("+t.x+"px,"+t.y+"px)")}},_onClickClose:function(){this.remove()}})},{"../geo/lng_lat":39,"../util/dom":115,"../util/evented":117,"../util/util":123}],110:[function(t,e,n){"use strict";function i(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=i,i.prototype.receive=function(t){var e,n=t.data;if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e(n.error||null,n.data);else if("undefined"!=typeof n.id){var i=n.id;this.parent[n.type](n.data,function(t,e,n){this.postMessage({type:"<response>",id:String(i),error:t?String(t):null,data:e},n)}.bind(this))}else this.parent[n.type](n.data)},i.prototype.send=function(t,e,n,i){var r=null;n&&(this.callbacks[r=this.callbackID++]=n),this.postMessage({type:t,id:String(r),data:e},i)},i.prototype.postMessage=function(t,e){try{this.target.postMessage(t,e)}catch(n){this.target.postMessage(t)}}},{}],111:[function(t,e,n){"use strict";function i(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}n.getJSON=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(i){return e(i)}e(null,t)}else e(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){n.status>=200&&n.status<300&&n.response?e(null,n.response):e(new Error(n.statusText))},n.send(),n},n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var i=new Image;i.onload=function(){e(null,i),(window.URL||window.webkitURL).revokeObjectURL(i.src)};var r=new Blob([new Uint8Array(n)],{type:"image/png"});return i.src=(window.URL||window.webkitURL).createObjectURL(r),i.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=i.width,t.height=i.height,e.drawImage(i,0,0),e.getImageData(0,0,i.width,i.height).data},i})},n.getVideo=function(t,e){var n=document.createElement("video");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var o=document.createElement("source");i(t[r])||(n.crossOrigin="Anonymous"),o.src=t[r],n.appendChild(o)}return n.getData=function(){return n},n}},{}],112:[function(t,e,n){"use strict";var i=t("./canvas"),r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n.frame=function(t){return r(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;n.cancelFrame=function(t){o(t)},n.timed=function(t,e,i){function r(s){o||(window.performance||(s=Date.now()),s>=a+e?t.call(i,1):(t.call(i,(s-a)/e),n.frame(r)))}if(!e)return t.call(i,1),null;var o=!1,a=window.performance?window.performance.now():Date.now();return n.frame(r),function(){o=!0}},n.supported=function(t){for(var e=([function(){return"undefined"!=typeof window},function(){return"undefined"!=typeof document},function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)},function(){return!(!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions))},function(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON},function(){return(new i).supportsWebGLContext(t&&t.failIfMajorPerformanceCaveat||!1)},function(){return"Worker"in window}]),n=0;n<e.length;n++)if(!e[n]())return!1;return!0},n.hardwareConcurrency=navigator.hardwareConcurrency||8,Object.defineProperty(n,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),n.supportsWebp=!1;var a=document.createElement("img");a.onload=function(){n.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./canvas":113}],113:[function(t,e,n){"use strict";function i(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var r=t("../util");e.exports=i,i.prototype.resize=function(t,e){var n=window.devicePixelRatio||1;this.canvas.width=n*t,this.canvas.height=n*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"};var o={antialias:!1,alpha:!0,stencil:!0,depth:!1};i.prototype.getWebGLContext=function(t){return t=r.extend({},t,o),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},i.prototype.supportsWebGLContext=function(t){var e=r.extend({failIfMajorPerformanceCaveat:t},o);return"probablySupportsContext"in this.canvas?this.canvas.probablySupportsContext("webgl",e)||this.canvas.probablySupportsContext("experimental-webgl",e):"supportsContext"in this.canvas?this.canvas.supportsContext("webgl",e)||this.canvas.supportsContext("experimental-webgl",e):!!window.WebGLRenderingContext&&!!this.getWebGLContext(t)},i.prototype.getElement=function(){return this.canvas}},{"../util":123}],114:[function(t,e,n){"use strict";function i(e,n){this.actors=[],this.currentActor=0;for(var i=0;e>i;i++){var a=new o(t("../../source/worker")),s=new r(a,n);s.name="Worker "+i,this.actors.push(s)}}var r=t("../actor"),o=t("webworkify");e.exports=i,i.prototype={broadcast:function(t,e){for(var n=0;n<this.actors.length;n++)this.actors[n].send(t,e)},send:function(t,e,n,i,r){return("number"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,e,n,r),i},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},{"../../source/worker":67,"../actor":110,webworkify:161}],115:[function(t,e,n){"use strict";function i(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function r(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",r,!0)}var o=t("point-geometry");n.create=function(t,e,n){var i=document.createElement(t);return e&&(i.className=e),n&&n.appendChild(i),i};var a,s=document.documentElement.style,u=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){u&&(a=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=a)};var l=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[l]=e},n.suppressClick=function(){window.addEventListener("click",r,!0),window.setTimeout(function(){window.removeEventListener("click",r,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)}},{"point-geometry":153}],116:[function(t,e,n){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],117:[function(t,e,n){"use strict";var i=t("./util"),r={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var n=function(i){this.off(t,n),e.call(this,i)}.bind(this);return this.on(t,n),this},fire:function(t,e){if(!this.listens(t))return this;e=i.extend({},e),i.extend(e,{type:t,target:this});for(var n=this._events[t].slice(),r=0;r<n.length;r++)n[r].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=r},{"./util":123}],118:[function(t,e,n){"use strict";function i(t,e){this.stacks=t.readFields(r,[],e)}function r(t,e,n){if(1===t){var i=n.readMessage(o,{glyphs:{}});e.push(i)}}function o(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var i=n.readMessage(a,{});e.glyphs[i.id]=i}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=i},{}],119:[function(t,e,n){"use strict";function i(t,e,n){return t*(1-n)+e*n}e.exports=i,i.number=i,i.vec2=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n)]},i.color=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n),i(t[2],e[2],n),i(t[3],e[3],n)]},i.array=function(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}},{}],120:[function(t,e,n){"use strict";function i(t,e,n){if(n=n||r.ACCESS_TOKEN,!n&&r.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,r.API_URL+e),t+=-1!==t.indexOf("?")?"&access_token=":"?access_token=",r.REQUIRE_ACCESS_TOKEN){if("s"===n[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=n}return t}var r=t("./config"),o=t("./browser");e.exports.normalizeStyleURL=function(t,e){if(!t.match(/^mapbox:\/\/styles\//))return t;var n=t.split("/"),r=n[3],o=n[4],a=n[5]?"/draft":"";return i("mapbox://"+r+"/"+o+a,"/styles/v1/",e)},e.exports.normalizeSourceURL=function(t,e){return t.match(/^mapbox:\/\//)?i(t+".json","/v4/",e)+"&secure":t},e.exports.normalizeGlyphsURL=function(t,e){if(!t.match(/^mapbox:\/\//))return t;var n=t.split("/")[3];return i("mapbox://"+n+"/{fontstack}/{range}.pbf","/fonts/v1/",e)},e.exports.normalizeSpriteURL=function(t,e,n,r){if(!t.match(/^mapbox:\/\/sprites\//))return t+e+n;var o=t.split("/"),a=o[3],s=o[4],u=o[5]?"/draft":"";return i("mapbox://"+a+"/"+s+u+"/sprite"+e+n,"/styles/v1/",r)},e.exports.normalizeTileURL=function(t,e){var n=o.supportsWebp?"webp":"$1";return e&&e.match(/^mapbox:\/\//)?t.replace(/\.((?:png|jpg)\d*)(?=$|\?)/,o.devicePixelRatio>=2?"@2x."+n:"."+n):t}},{"./browser":112,"./config":116}],121:[function(t,e,n){"use strict";function i(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=i,i.prototype.reset=function(){for(var t in this.list)this.onRemove(this.list[t]);return this.list={},this.order=[],this},i.prototype.add=function(t,e){if(this.list[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},i.prototype.has=function(t){return t in this.list},i.prototype.keys=function(){return this.order},i.prototype.get=function(t){if(!this.has(t))return null;var e=this.list[t];return delete this.list[t],this.order.splice(this.order.indexOf(t),1),e}},{}],122:[function(t,e,n){"use strict";function i(t,e){return e.replace(/{([^{}()\[\]<>$=:;.,^]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=i},{}],123:[function(t,e,n){"use strict";var i=t("unitbezier"),r=t("../geo/coordinate");n.easeCubicInOut=function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,r){var o=new i(t,e,n,r);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.premultiply=function(t){return t[0]*=t[3],t[1]*=t[3],t[2]*=t[3],t},n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r},n.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},n.asyncEach=function(t,e,n){function i(){0===--r&&n()}var r=t.length;if(0===r)return n();for(var o=0;o<t.length;o++)e(t[o],i)},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0===--i&&n(o,r)})})},n.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},n.extend=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t},n.extendAll=function(t,e){for(var n in e)Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},n.inherit=function(t,e){var i="function"==typeof t?t.prototype:t,r=Object.create(i);return n.extendAll(r,e),r},n.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n};var o=1;n.uniqueId=function(){return o++},n.throttle=function(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}},n.debounce=function(t,e){var n,i;return function(){i=arguments,clearTimeout(n),n=setTimeout(function(){t.apply(null,i)},e)}},n.bindAll=function(t,e){t.forEach(function(t){e[t]=e[t].bind(e)})},n.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},n.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,i=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),i=Math.max(i,t[a].column),o=Math.max(o,t[a].row);var s=i-e,u=o-n,l=Math.max(s,u);return new r((e+i)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))}},{"../geo/coordinate":38,unitbezier:156}],124:[function(t,e,n){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function r(t){return 0>t?0:t>1?1:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&4095>=n?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&16777215>=n?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var r=e.indexOf("("),u=e.indexOf(")");if(-1!==r&&u+1===e.length){var c=e.substr(0,r),h=e.substr(r+1,u-(r+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),m=a(h[2]),g=.5>=m?m*(d+1):m+d-m*d,v=2*m-g;return[i(255*s(v,g,f+1/3)),i(255*s(v,g,f)),i(255*s(v,g,f-1/3)),p];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(c){}},{}],125:[function(t,e,n){"use strict";function i(t){return function(e,n,i){return"$type"===n?"t"+t+s.indexOf(i):"p["+JSON.stringify(n)+"]"+t+JSON.stringify(i)}}function r(t){var e=i(t);return function(t,n,i){return"$type"===n?e(t,n,i):"typeof(p["+JSON.stringify(n)+"]) === typeof("+JSON.stringify(i)+") && "+e(t,n,i)}}function o(t){return u[t[0]].apply(t,t)}function a(){return!0}var s=["Unknown","Point","LineString","Polygon"],u={"==":i("==="),"!=":i("!=="),">":r(">"),"<":r("<"),"<=":r("<="),">=":r(">="),"in":function(t,e){return Array.prototype.slice.call(arguments,2).map(function(n){return"("+u["=="](t,e,n)+")"}).join("||")||"false"},"!in":function(){return"!("+u["in"].apply(this,arguments)+")"},any:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return"("+o(t)+")"}).join("||")||"false"},all:function(){return Array.prototype.slice.call(arguments,1).map(function(t){return"("+o(t)+")"}).join("&&")||"true"},none:function(){return"!("+u.any.apply(this,arguments)+")"}};e.exports=function(t){if(!t)return a;var e="var p = f.properties || f.tags || {}, t = f.type; return "+o(t)+";";return new Function("f",e)}},{}],126:[function(t,e,n){"use strict";function i(t,e,n,i,a,s,u,l){if(n/=e,i/=e,u>=n&&i>=l)return t;if(u>i||n>l)return null;for(var c=[],h=0;h<t.length;h++){var p,f,d=t[h],m=d.geometry,g=d.type;if(p=d.min[a],f=d.max[a],p>=n&&i>=f)c.push(d);else if(!(p>i||n>f)){var v=1===g?r(m,n,i,a):o(m,n,i,a,s,3===g);v.length&&c.push({geometry:v,type:g,tags:t[h].tags||null,min:d.min,max:d.max})}}return c.length?c:null}function r(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=a[i];s>=e&&n>=s&&r.push(a)}return r}function o(t,e,n,i,r,o){for(var s=[],u=0;u<t.length;u++){var l,c,h,p=0,f=0,d=null,m=t[u],g=m.area,v=m.dist,_=m.length,y=[];for(c=0;_-1>c;c++)l=d||m[c],d=m[c+1],p=f||l[i],f=d[i],e>p?f>n?(y.push(r(l,d,e),r(l,d,n)),o||(y=a(s,y,g,v))):f>=e&&y.push(r(l,d,e)):p>n?e>f?(y.push(r(l,d,n),r(l,d,e)),o||(y=a(s,y,g,v))):n>=f&&y.push(r(l,d,n)):(y.push(l),e>f?(y.push(r(l,d,e)),o||(y=a(s,y,g,v))):f>n&&(y.push(r(l,d,n)),o||(y=a(s,y,g,v))));l=m[_-1],p=l[i],p>=e&&n>=p&&y.push(l),h=y[y.length-1],o&&h&&(y[0][0]!==h[0]||y[0][1]!==h[1])&&y.push(y[0]),a(s,y,g,v)}return s}function a(t,e,n,i){return e.length&&(e.area=n,e.dist=i,t.push(e)),[]}e.exports=i},{}],127:[function(t,e,n){"use strict";function i(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)r(n,t.features[i],e);else"Feature"===t.type?r(n,t,e):r(n,{geometry:t},e);return n}function r(t,e,n){var i,u,l,c=e.geometry,h=c.type,p=c.coordinates,f=e.properties;if("Point"===h)t.push(o(f,1,[s(p)]));else if("MultiPoint"===h)t.push(o(f,1,a(p)));else if("LineString"===h)t.push(o(f,2,[a(p,n)]));else if("MultiLineString"===h||"Polygon"===h){for(l=[],i=0;i<p.length;i++)l.push(a(p[i],n));t.push(o(f,"Polygon"===h?3:2,l))}else if("MultiPolygon"===h){for(l=[],i=0;i<p.length;i++)for(u=0;u<p[i].length;u++)l.push(a(p[i][u],n));t.push(o(f,3,l))}else{if("GeometryCollection"!==h)throw new Error("Input data is not a valid GeoJSON object.");for(i=0;i<c.geometries.length;i++)r(t,{geometry:c.geometries[i],properties:f},n)}}function o(t,e,n){var i={geometry:n,type:e,tags:t||null,min:[2,1],max:[-1,0]};return l(i),i}function a(t,e){for(var n=[],i=0;i<t.length;i++)n.push(s(t[i]));return e&&(h(n,e),u(n)),n}function s(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i=-1>i?-1:i>1?1:i,[n,i,0]}function u(t){for(var e,n,i=0,r=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],i+=e[0]*n[1]-n[0]*e[1],r+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(i/2),t.dist=r}function l(t){var e=t.geometry,n=t.min,i=t.max;if(1===t.type)c(n,i,e);else for(var r=0;r<e.length;r++)c(n,i,e[r]);return t}function c(t,e,n){for(var i,r=0;r<n.length;r++)i=n[r],t[0]=Math.min(i[0],t[0]),e[0]=Math.max(i[0],e[0]),t[1]=Math.min(i[1],t[1]),e[1]=Math.max(i[1],e[1])}e.exports=i;var h=t("./simplify")},{"./simplify":129}],128:[function(t,e,n){"use strict";function i(t,e){return new r(t,e)}function r(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var i=1<<e.maxZoom,r=c(t,e.tolerance/(i*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=f(r,e.buffer/e.extent,a),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),
console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var i=t.source;if(1!==i.length)return!1;var r=i[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var a=0;o>a;a++){var s=h.point(r.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=i;var c=t("./convert"),h=t("./transform"),p=t("./clip"),f=t("./wrap"),d=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,n,i,r,u,c){for(var h=[t,e,n,i],f=this.options,m=f.debug,g=null;h.length;){i=h.pop(),n=h.pop(),e=h.pop(),t=h.pop();var v=1<<e,_=o(e,n,i),y=this.tiles[_],b=e===f.maxZoom?0:f.tolerance/(v*f.extent);if(!y&&(m>1&&console.time("creation"),y=this.tiles[_]=d(t,v,n,i,b,e===f.maxZoom),this.tileCoords.push({z:e,x:n,y:i}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,y.numFeatures,y.numPoints,y.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(y.source=t,r){if(e===f.maxZoom||e===r)continue;var w=1<<r-e;if(n!==Math.floor(u/w)||i!==Math.floor(c/w))continue}else if(e===f.indexMaxZoom||y.numPoints<=f.indexMaxPoints)continue;if(f.solidChildren||!l(y,f.extent,f.buffer)){y.source=null,m>1&&console.time("clipping");var E,M,T,C,P,L,S=.5*f.buffer/f.extent,R=.5-S,D=.5+S,k=1+S;E=M=T=C=null,P=p(t,v,n-S,n+D,0,a,y.min[0],y.max[0]),L=p(t,v,n+R,n+k,0,a,y.min[0],y.max[0]),P&&(E=p(P,v,i-S,i+D,1,s,y.min[1],y.max[1]),M=p(P,v,i+R,i+k,1,s,y.min[1],y.max[1])),L&&(T=p(L,v,i-S,i+D,1,s,y.min[1],y.max[1]),C=p(L,v,i+R,i+k,1,s,y.min[1],y.max[1])),m>1&&console.timeEnd("clipping"),E&&h.push(E,e+1,2*n,2*i),M&&h.push(M,e+1,2*n,2*i+1),T&&h.push(T,e+1,2*n+1,2*i),C&&h.push(C,e+1,2*n+1,2*i+1)}else r&&(g=e)}return g},r.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,a=i.debug,s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return h.tile(this.tiles[u],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,p=t,f=e,d=n;!c&&p>0;)p--,f=Math.floor(f/2),d=Math.floor(d/2),c=this.tiles[o(p,f,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",p,f,d),l(c,r,i.buffer))return h.tile(c,r);a>1&&console.time("drilling down");var m=this.splitTile(c.source,p,f,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var g=1<<t-m;u=o(m,Math.floor(e/g),Math.floor(n/g))}return this.tiles[u]?h.tile(this.tiles[u],r):null}},{"./clip":126,"./convert":127,"./tile":130,"./transform":131,"./wrap":132}],129:[function(t,e,n){"use strict";function i(t,e){var n,i,o,a,s=e*e,u=t.length,l=0,c=u-1,h=[];for(t[l][2]=1,t[c][2]=1;c;){for(i=0,n=l+1;c>n;n++)o=r(t[n],t[l],t[c]),o>i&&(a=n,i=o);i>s?(t[a][2]=i,h.push(l),h.push(a),l=a):(c=h.pop(),l=h.pop())}}function r(t,e,n){var i=e[0],r=e[1],o=n[0],a=n[1],s=t[0],u=t[1],l=o-i,c=a-r;if(0!==l||0!==c){var h=((s-i)*l+(u-r)*c)/(l*l+c*c);h>1?(i=o,r=a):h>0&&(i+=l*h,r+=c*h)}return l=s-i,c=u-r,l*l+c*c}e.exports=i},{}],130:[function(t,e,n){"use strict";function i(t,e,n,i,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,r(s,t[u],o,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function r(t,e,n,i){var r,o,a,s,u=e.geometry,l=e.type,c=[],h=n*n;if(1===l)for(r=0;r<u.length;r++)c.push(u[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<u.length;r++)if(a=u[r],i||!(2===l&&a.dist<n||3===l&&a.area<h)){var p=[];for(o=0;o<a.length;o++)s=a[o],(i||s[2]>h)&&(p.push(s),t.numSimplified++),t.numPoints++;c.push(p)}else t.numPoints+=a.length;c.length&&t.features.push({geometry:c,type:l,tags:e.tags||null})}e.exports=i},{}],131:[function(t,e,n){"use strict";function i(t,e){if(t.transformed)return t;var n,i,o,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,h=l.type;if(1===h)for(i=0;i<c.length;i++)c[i]=r(c[i],e,a,s,u);else for(i=0;i<c.length;i++){var p=c[i];for(o=0;o<p.length;o++)p[o]=r(p[o],e,a,s,u)}}return t.transformed=!0,t}function r(t,e,n,i,r){var o=Math.round(e*(t[0]*n-i)),a=Math.round(e*(t[1]*n-r));return[o,a]}n.tile=i,n.point=r},{}],132:[function(t,e,n){"use strict";function i(t,e,n){var i=t,o=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(o||s)&&(i=a(t,1,-e,1+e,0,n,-1,2),o&&(i=r(o,1).concat(i)),s&&(i=i.concat(r(s,-1)))),i}function r(t,e){for(var n=[],i=0;i<t.length;i++){var r,a=t[i],s=a.type;if(1===s)r=o(a.geometry,e);else{r=[];for(var u=0;u<a.geometry.length;u++)r.push(o(a.geometry[u],e))}n.push({geometry:r,type:s,tags:a.tags,min:[a.min[0]+e,a.min[1]],max:[a.max[0]+e,a.max[1]]})}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var i=0;i<t.length;i++)n.push([t[i][0]+e,t[i][1],t[i][2]]);return n}var a=t("./clip");e.exports=i},{"./clip":126}],133:[function(t,e,n){n.glMatrix=t("./gl-matrix/common.js"),n.mat2=t("./gl-matrix/mat2.js"),n.mat2d=t("./gl-matrix/mat2d.js"),n.mat3=t("./gl-matrix/mat3.js"),n.mat4=t("./gl-matrix/mat4.js"),n.quat=t("./gl-matrix/quat.js"),n.vec2=t("./gl-matrix/vec2.js"),n.vec3=t("./gl-matrix/vec3.js"),n.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":134,"./gl-matrix/mat2.js":135,"./gl-matrix/mat2d.js":136,"./gl-matrix/mat3.js":137,"./gl-matrix/mat4.js":138,"./gl-matrix/quat.js":139,"./gl-matrix/vec2.js":140,"./gl-matrix/vec3.js":141,"./gl-matrix/vec4.js":142}],134:[function(t,e,n){var i={};i.EPSILON=1e-6,i.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,i.RANDOM=Math.random,i.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var r=Math.PI/180;i.toRadian=function(t){return t*r},e.exports=i},{}],135:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*o-r*i;return a?(a=1/a,t[0]=o*a,t[1]=-i*a,t[2]=-r*a,t[3]=n*a,t):null},r.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=i*s+o*u,t[1]=r*s+a*u,t[2]=i*l+o*c,t[3]=r*l+a*c,t},r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*s,t[1]=r*u+a*s,t[2]=i*-s+o*u,t[3]=r*-s+a*u,t},r.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=i*s,t[1]=r*s,t[2]=o*u,t[3]=a*u,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]},e.exports=r},{"./common.js":134}],136:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=n*o-i*r;return u?(u=1/u,t[0]=o*u,t[1]=-i*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-o*a)*u,t[5]=(i*a-n*s)*u,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],p=n[3],f=n[4],d=n[5];return t[0]=i*l+o*c,t[1]=r*l+a*c,t[2]=i*h+o*p,t[3]=r*h+a*p,t[4]=i*f+o*d+s,t[5]=r*f+a*d+u,t},r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*l,t[1]=r*c+a*l,t[2]=i*-l+o*c,t[3]=r*-l+a*c,t[4]=s,t[5]=u,t},r.scale=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=i*l,t[1]=r*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},r.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=i*l+o*c+s,t[5]=r*l+a*c+u,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.exports=r},{"./common.js":134}],137:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new i.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,p=-c*o+s*u,f=l*o-a*u,d=n*h+i*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-c*i+r*l)*d,t[2]=(s*i-r*a)*d,t[3]=p*d,t[4]=(c*n-r*u)*d,t[5]=(-s*n+r*o)*d,t[6]=f*d,t[7]=(-l*n+i*u)*d,t[8]=(a*n-i*o)*d,t):null},r.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=r*l-i*c,t[2]=i*s-r*a,t[3]=s*u-o*c,t[4]=n*c-r*u,t[5]=r*o-n*s,t[6]=o*l-a*u,t[7]=i*u-n*l,t[8]=n*a-i*o,t},r.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*r+a*s)+i*(u*r-o*s)},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=n[0],f=n[1],d=n[2],m=n[3],g=n[4],v=n[5],_=n[6],y=n[7],b=n[8];return t[0]=p*i+f*a+d*l,t[1]=p*r+f*s+d*c,t[2]=p*o+f*u+d*h,t[3]=m*i+g*a+v*l,t[4]=m*r+g*s+v*c,t[5]=m*o+g*u+v*h,t[6]=_*i+y*a+b*l,t[7]=_*r+y*s+b*c,t[8]=_*o+y*u+b*h,t},r.mul=r.multiply,r.translate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=p*i+f*a+l,t[7]=p*r+f*s+c,t[8]=p*o+f*u+h,t},r.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=Math.sin(n),f=Math.cos(n);return t[0]=f*i+p*a,t[1]=f*r+p*s,t[2]=f*o+p*u,t[3]=f*a-p*i,t[4]=f*s-p*r,t[5]=f*u-p*o,t[6]=l,t[7]=c,t[8]=h,t},r.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,l=n*a,c=i*a,h=i*s,p=r*a,f=r*s,d=r*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-d,t[3]=c-v,t[6]=p+g,t[1]=c+v,t[4]=1-l-d,t[7]=f-m,t[2]=p-g,t[5]=f+m,t[8]=1-l-h,t},r.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15],_=n*s-i*a,y=n*u-r*a,b=n*l-o*a,x=i*u-r*s,w=i*l-o*s,E=r*l-o*u,M=c*m-h*d,T=c*g-p*d,C=c*v-f*d,P=h*g-p*m,L=h*v-f*m,S=p*v-f*g,R=_*S-y*L+b*P+x*C-w*T+E*M;return R?(R=1/R,t[0]=(s*S-u*L+l*P)*R,t[1]=(u*C-a*S-l*T)*R,t[2]=(a*L-s*C+l*M)*R,t[3]=(r*L-i*S-o*P)*R,t[4]=(n*S-r*C+o*T)*R,t[5]=(i*C-n*L-o*M)*R,t[6]=(m*E-g*w+v*x)*R,t[7]=(g*b-d*E-v*y)*R,t[8]=(d*w-m*b+v*_)*R,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.exports=r},{"./common.js":134}],138:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new i.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15],_=n*s-i*a,y=n*u-r*a,b=n*l-o*a,x=i*u-r*s,w=i*l-o*s,E=r*l-o*u,M=c*m-h*d,T=c*g-p*d,C=c*v-f*d,P=h*g-p*m,L=h*v-f*m,S=p*v-f*g,R=_*S-y*L+b*P+x*C-w*T+E*M;return R?(R=1/R,t[0]=(s*S-u*L+l*P)*R,t[1]=(r*L-i*S-o*P)*R,t[2]=(m*E-g*w+v*x)*R,t[3]=(p*w-h*E-f*x)*R,t[4]=(u*C-a*S-l*T)*R,t[5]=(n*S-r*C+o*T)*R,t[6]=(g*b-d*E-v*y)*R,t[7]=(c*E-p*b+f*y)*R,t[8]=(a*L-s*C+l*M)*R,t[9]=(i*C-n*L-o*M)*R,t[10]=(d*w-m*b+v*_)*R,t[11]=(h*b-c*w-f*_)*R,t[12]=(s*T-a*P-u*M)*R,t[13]=(n*P-i*T+r*M)*R,t[14]=(m*y-d*x-g*_)*R,t[15]=(c*x-h*y+p*_)*R,t):null},r.adjoint=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(p*v-f*g)-h*(u*v-l*g)+m*(u*f-l*p),t[1]=-(i*(p*v-f*g)-h*(r*v-o*g)+m*(r*f-o*p)),t[2]=i*(u*v-l*g)-s*(r*v-o*g)+m*(r*l-o*u),t[3]=-(i*(u*f-l*p)-s*(r*f-o*p)+h*(r*l-o*u)),t[4]=-(a*(p*v-f*g)-c*(u*v-l*g)+d*(u*f-l*p)),t[5]=n*(p*v-f*g)-c*(r*v-o*g)+d*(r*f-o*p),t[6]=-(n*(u*v-l*g)-a*(r*v-o*g)+d*(r*l-o*u)),t[7]=n*(u*f-l*p)-a*(r*f-o*p)+c*(r*l-o*u),t[8]=a*(h*v-f*m)-c*(s*v-l*m)+d*(s*f-l*h),t[9]=-(n*(h*v-f*m)-c*(i*v-o*m)+d*(i*f-o*h)),t[10]=n*(s*v-l*m)-a*(i*v-o*m)+d*(i*l-o*s),t[11]=-(n*(s*f-l*h)-a*(i*f-o*h)+c*(i*l-o*s)),t[12]=-(a*(h*g-p*m)-c*(s*g-u*m)+d*(s*p-u*h)),t[13]=n*(h*g-p*m)-c*(i*g-r*m)+d*(i*p-r*h),t[14]=-(n*(s*g-u*m)-a*(i*g-r*m)+d*(i*u-r*s)),t[15]=n*(s*p-u*h)-a*(i*p-r*h)+c*(i*u-r*s),t},r.determinant=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],p=t[11],f=t[12],d=t[13],m=t[14],g=t[15],v=e*a-n*o,_=e*s-i*o,y=e*u-r*o,b=n*s-i*a,x=n*u-r*a,w=i*u-r*s,E=l*d-c*f,M=l*m-h*f,T=l*g-p*f,C=c*m-h*d,P=c*g-p*d,L=h*g-p*m;return v*L-_*P+y*C+b*T-x*M+w*E},r.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],m=e[12],g=e[13],v=e[14],_=e[15],y=n[0],b=n[1],x=n[2],w=n[3];return t[0]=y*i+b*s+x*h+w*m,t[1]=y*r+b*u+x*p+w*g,t[2]=y*o+b*l+x*f+w*v,t[3]=y*a+b*c+x*d+w*_,y=n[4],b=n[5],x=n[6],w=n[7],t[4]=y*i+b*s+x*h+w*m,t[5]=y*r+b*u+x*p+w*g,t[6]=y*o+b*l+x*f+w*v,t[7]=y*a+b*c+x*d+w*_,y=n[8],b=n[9],x=n[10],w=n[11],t[8]=y*i+b*s+x*h+w*m,t[9]=y*r+b*u+x*p+w*g,t[10]=y*o+b*l+x*f+w*v,t[11]=y*a+b*c+x*d+w*_,y=n[12],b=n[13],x=n[14],w=n[15],t[12]=y*i+b*s+x*h+w*m,t[13]=y*r+b*u+x*p+w*g,t[14]=y*o+b*l+x*f+w*v,t[15]=y*a+b*c+x*d+w*_,t},r.mul=r.multiply,r.translate=function(t,e,n){var i,r,o,a,s,u,l,c,h,p,f,d,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=i*m+s*g+h*v+e[12],t[13]=r*m+u*g+p*v+e[13],t[14]=o*m+l*g+f*v+e[14],t[15]=a*m+c*g+d*v+e[15]),t},r.scale=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.rotate=function(t,e,n,r){var o,a,s,u,l,c,h,p,f,d,m,g,v,_,y,b,x,w,E,M,T,C,P,L,S=r[0],R=r[1],D=r[2],k=Math.sqrt(S*S+R*R+D*D);return Math.abs(k)<i.EPSILON?null:(k=1/k,S*=k,R*=k,D*=k,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],h=e[3],p=e[4],f=e[5],d=e[6],m=e[7],g=e[8],v=e[9],_=e[10],y=e[11],b=S*S*s+a,x=R*S*s+D*o,w=D*S*s-R*o,E=S*R*s-D*o,M=R*R*s+a,T=D*R*s+S*o,C=S*D*s+R*o,P=R*D*s-S*o,L=D*D*s+a,t[0]=u*b+p*x+g*w,t[1]=l*b+f*x+v*w,t[2]=c*b+d*x+_*w,t[3]=h*b+m*x+y*w,t[4]=u*E+p*M+g*T,t[5]=l*E+f*M+v*T,t[6]=c*E+d*M+_*T,t[7]=h*E+m*M+y*T,t[8]=u*C+p*P+g*L,t[9]=l*C+f*P+v*L,t[10]=c*C+d*P+_*L,t[11]=h*C+m*P+y*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=u*r+p*i,t[8]=l*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=p*r-u*i,t},r.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-l*i,t[1]=a*r-c*i,t[2]=s*r-h*i,t[3]=u*r-p*i,t[8]=o*i+l*r,t[9]=a*i+c*r,t[10]=s*i+h*r,t[11]=u*i+p*r,t},r.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=u*r+p*i,t[4]=l*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=p*r-u*i,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,n){var r,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<i.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,r=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*r,t[2]=l*s*a-u*r,t[3]=0,t[4]=s*u*a-l*r,t[5]=u*u*a+o,t[6]=l*u*a+s*r,t[7]=0,t[8]=s*l*a+u*r,t[9]=u*l*a-s*r,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=i+i,u=r+r,l=o+o,c=i*s,h=i*u,p=i*l,f=r*u,d=r*l,m=o*l,g=a*s,v=a*u,_=a*l;return t[0]=1-(f+m),t[1]=h+_,t[2]=p-v,t[3]=0,t[4]=h-_,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=p+v,t[9]=d-g,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromRotationTranslationScale=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3],u=r+r,l=o+o,c=a+a,h=r*u,p=r*l,f=r*c,d=o*l,m=o*c,g=a*c,v=s*u,_=s*l,y=s*c,b=i[0],x=i[1],w=i[2];return t[0]=(1-(d+g))*b,t[1]=(p+y)*b,t[2]=(f-_)*b,t[3]=0,t[4]=(p-y)*x,t[5]=(1-(h+g))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(f+_)*w,t[9]=(m-v)*w,t[10]=(1-(h+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,n,i,r){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,p=o*l,f=o*c,d=o*h,m=a*c,g=a*h,v=s*h,_=u*l,y=u*c,b=u*h,x=i[0],w=i[1],E=i[2],M=r[0],T=r[1],C=r[2];return t[0]=(1-(m+v))*x,t[1]=(f+b)*x,t[2]=(d-y)*x,t[3]=0,t[4]=(f-b)*w,t[5]=(1-(p+v))*w,t[6]=(g+_)*w,t[7]=0,t[8]=(d+y)*E,t[9]=(g-_)*E,t[10]=(1-(p+m))*E,t[11]=0,t[12]=n[0]+M-(t[0]*M+t[4]*T+t[8]*C),t[13]=n[1]+T-(t[1]*M+t[5]*T+t[9]*C),t[14]=n[2]+C-(t[2]*M+t[6]*T+t[10]*C),t[15]=1,t},r.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,u=r+r,l=n*a,c=i*a,h=i*s,p=r*a,f=r*s,d=r*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-d,t[1]=c+v,t[2]=p-g,t[3]=0,t[4]=c-v,t[5]=1-l-d,t[6]=f+m,t[7]=0,t[8]=p+g,t[9]=f-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,n,i,r,o,a){var s=1/(n-e),u=1/(r-i),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},r.perspective=function(t,e,n,i,r){var o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,n,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(r+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(r-o)*l*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t},r.ortho=function(t,e,n,i,r,o,a){var s=1/(e-n),u=1/(i-r),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*u,t[14]=(a+o)*l,t[15]=1,t},r.lookAt=function(t,e,n,o){var a,s,u,l,c,h,p,f,d,m,g=e[0],v=e[1],_=e[2],y=o[0],b=o[1],x=o[2],w=n[0],E=n[1],M=n[2];return Math.abs(g-w)<i.EPSILON&&Math.abs(v-E)<i.EPSILON&&Math.abs(_-M)<i.EPSILON?r.identity(t):(p=g-w,f=v-E,d=_-M,m=1/Math.sqrt(p*p+f*f+d*d),p*=m,f*=m,d*=m,a=b*d-x*f,s=x*p-y*d,u=y*f-b*p,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=f*u-d*s,c=d*a-p*u,h=p*s-f*a,m=Math.sqrt(l*l+c*c+h*h),m?(m=1/m,l*=m,c*=m,h*=m):(l=0,c=0,h=0),t[0]=a,t[1]=l,t[2]=p,t[3]=0,t[4]=s,t[5]=c,t[6]=f,t[7]=0,t[8]=u,t[9]=h,t[10]=d,t[11]=0,t[12]=-(a*g+s*v+u*_),t[13]=-(l*g+c*v+h*_),t[14]=-(p*g+f*v+d*_),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.exports=r},{"./common.js":134}],139:[function(t,e,n){var i=t("./common.js"),r=t("./mat3.js"),o=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(i,r,a){var u=o.dot(r,a);return-.999999>u?(o.cross(t,e,r),o.length(t)<1e-6&&o.cross(t,n,r),o.normalize(t,t),s.setAxisAngle(i,t,Math.PI),i):u>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(o.cross(t,r,a),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+u,s.normalize(i,i))}}(),s.setAxes=function(){var t=r.create();return function(e,n,i,r){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n=.5*n;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t},s.add=a.add,s.multiply=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=i*c+a*s+r*l-o*u,t[1]=r*c+a*u+o*s-i*l,t[2]=o*c+a*l+i*u-r*s,t[3]=a*c-i*s-r*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*s,t[1]=r*u+o*s,t[2]=o*u-r*s,t[3]=a*u-i*s,t},s.rotateY=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u-o*s,t[1]=r*u+a*s,t[2]=o*u+i*s,t[3]=a*u-r*s,t},s.rotateZ=function(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*s,t[1]=r*u-i*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,i){var r,o,a,s,u,l=e[0],c=e[1],h=e[2],p=e[3],f=n[0],d=n[1],m=n[2],g=n[3];return o=l*f+c*d+h*m+p*g,0>o&&(o=-o,f=-f,d=-d,m=-m,g=-g),1-o>1e-6?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-i)*r)/a,u=Math.sin(i*r)/a):(s=1-i,u=i),t[0]=s*l+u*f,t[1]=s*c+u*d,t[2]=s*h+u*m,t[3]=s*p+u*g,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,i,r,o,a,u){return s.slerp(t,i,a,u),s.slerp(e,r,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-r*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[a]=(e[3*a+r]+e[3*r+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=s},{"./common.js":134,"./mat3.js":137,"./vec3.js":141,"./vec4.js":142}],140:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},r.lerp=function(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t},r.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},r.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},r.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=2),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exports=r},{"./common.js":134}],141:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,n){var r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],
t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},r.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t},r.hermite=function(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+i[0]*l+r[0]*c,t[1]=e[1]*s+n[1]*u+i[1]*l+r[1]*c,t[2]=e[2]*s+n[2]*u+i[2]*l+r[2]*c,t},r.bezier=function(t,e,n,i,r,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,p=u*o;return t[0]=e[0]*l+n[0]*c+i[0]*h+r[0]*p,t[1]=e[1]*l+n[1]*c+i[1]*h+r[1]*p,t[2]=e[2]*l+n[2]*c+i[2]*h+r[2]*p,t},r.random=function(t,e){e=e||1;var n=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t},r.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},r.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*i+s*o-u*r,h=l*r+u*i-a*o,p=l*o+a*r-s*i,f=-a*i-s*r-u*o;return t[0]=c*l+f*-a+h*-u-p*-s,t[1]=h*l+f*-s+p*-a-c*-u,t[2]=p*l+f*-u+c*-s-h*-a,t},r.rotateX=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.rotateY=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.rotateZ=function(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=3),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),r.angle=function(t,e){var n=r.fromValues(t[0],t[1],t[2]),i=r.fromValues(e[0],e[1],e[2]);r.normalize(n,n),r.normalize(i,i);var o=r.dot(n,i);return o>1?0:Math.acos(o)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exports=r},{"./common.js":134}],142:[function(t,e,n){var i=t("./common.js"),r={};r.create=function(){var t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,n,r){var o=new i.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t},r.random=function(t,e){return e=e||1,t[0]=i.RANDOM(),t[1]=i.RANDOM(),t[2]=i.RANDOM(),t[3]=i.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t},r.transformQuat=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*i+s*o-u*r,h=l*r+u*i-a*o,p=l*o+a*r-s*i,f=-a*i-s*r-u*o;return t[0]=c*l+f*-a+h*-u-p*-s,t[1]=h*l+f*-s+p*-a-c*-u,t[2]=p*l+f*-u+c*-s-h*-a,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,n,i,r,o,a){var s,u;for(n||(n=4),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,s=i;u>s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=r},{"./common.js":134}],143:[function(t,e,n){"use strict";function i(t){return function(){return t}}function r(t,e,n){return t*(1-n)+e*n}function o(t,e,n){for(var i=[],o=0;o<t.length;o++)i[o]=r(t[o],e[o],n);return i}n.interpolated=function(t){if(!t.stops)return i(t);var e=t.stops,n=t.base||1,a=Array.isArray(e[0][1])?o:r;return function(t){for(var i,r,o=0;o<e.length;o++){var s=e[o];if(s[0]<=t&&(i=s),s[0]>t){r=s;break}}if(i&&r){var u=r[0]-i[0],l=t-i[0],c=1===n?l/u:(Math.pow(n,l)-1)/(Math.pow(n,u)-1);return a(i[1],r[1],c)}return i?i[1]:r?r[1]:void 0}},n["piecewise-constant"]=function(t){if(!t.stops)return i(t);var e=t.stops;return function(t){for(var n=0;n<e.length;n++)if(e[n][0]>t)return e[0===n?0:n-1][1];return e[e.length-1][1]}}},{}],144:[function(t,e,n){"use strict";var i=t("../../reference/latest.min.js"),r=t("./parsed");e.exports=function(t){return r(t,i)}},{"../../reference/latest.min.js":147,"./parsed":145}],145:[function(t,e,n){"use strict";function i(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function r(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}var o=t("csscolorparser").parseCSSColor,a=t("util").format;e.exports=function(t,e){function n(t,e){var n={message:(t?t+": ":"")+a.apply(a,Array.prototype.slice.call(arguments,2))};null!==e&&void 0!==e&&e.__line__&&(n.line=e.__line__),h.push(n)}function s(t,r,o){var a=i(r);if("string"===a&&"@"===r[0]){if(e.$version>7)return n(t,r,"constants have been deprecated as of v8");if(!(r in l))return n(t,r,'constant "%s" not found',r);r=l[r],a=i(r)}if(o["function"]&&"object"===a)return s["function"](t,r,o);if(o.type){var u=s[o.type];if(u)return u(t,r,o);o=e[o.type]}s.object(t,r,o)}function u(t){return function(e,r,o){var a=i(r);a!==t&&n(e,r,"%s expected, %s found",t,a),"minimum"in o&&r<o.minimum&&n(e,r,"%s is less than the minimum value %s",r,o.minimum),"maximum"in o&&r>o.maximum&&n(e,r,"%s is greater than the maximum value %s",r,o.maximum)}}var l=t.constants||{},c={},h=[];return s.constants=function(t,r){if(e.$version>7){if(r)return n(t,r,"constants have been deprecated as of v8")}else{var o=i(r);if("object"!==o)return n(t,r,"object expected, %s found",o);for(var a in r)"@"!==a[0]&&n(t+"."+a,r[a],'constants must start with "@"')}},s.source=function(t,i){if(!i.type)return void n(t,i,'"type" is required');var o=r(i.type);switch(o){case"vector":case"raster":if(s.object(t,i,e.source_tile),"url"in i)for(var a in i)["type","url","tileSize"].indexOf(a)<0&&n(t+"."+a,i[a],'a source with a "url" property may not include a "%s" property',a);break;case"geojson":s.object(t,i,e.source_geojson);break;case"video":s.object(t,i,e.source_video);break;case"image":s.object(t,i,e.source_image);break;default:s["enum"](t+".type",i.type,{values:["vector","raster","geojson","video","image"]})}},s.layer=function(i,o){o.type||o.ref||n(i,o,'either "type" or "ref" is required');var a=r(o.type),u=r(o.ref);if(o.id&&(c[o.id]?n(i,o.id,'duplicate layer id "%s", previously used at line %d',o.id,c[o.id]):c[o.id]=o.id.__line__),"ref"in o){["type","source","source-layer","filter","layout"].forEach(function(t){t in o&&n(i,o[t],'"%s" is prohibited for ref layers',t)});var l;t.layers.forEach(function(t){t.id==u&&(l=t)}),l?l.ref?n(i,o.ref,"ref cannot reference another ref layer"):a=l.type:n(i,o.ref,'ref layer "%s" not found',u)}else if("background"!==a)if(o.source){var h=t.sources[o.source];h?"vector"==h.type&&"raster"==a?n(i,o.source,'layer "%s" requires a raster source',o.id):"raster"==h.type&&"raster"!=a?n(i,o.source,'layer "%s" requires a vector source',o.id):"vector"!=h.type||o["source-layer"]||n(i,o,'layer "%s" must specify a "source-layer"',o.id):n(i,o.source,'source "%s" not found',o.source)}else n(i,o,'missing required property "source"');s.object(i,o,e.layer,{filter:s.filter,layout:function(t,n){var i=e["layout_"+a];return a&&i&&s(t,n,i)},paint:function(t,n){var i=e["paint_"+a];return a&&i&&s(t,n,i)}})},s.object=function(t,r,o,a){a=a||{};var u=i(r);if("object"!==u)return n(t,r,"object expected, %s found",u);for(var l in r){var c=l.split(".")[0],h=o[c]||o["*"],p=c.match(/^(.*)-transition$/);h?(a[c]||s)((t?t+".":t)+l,r[l],h):p&&o[p[1]]&&o[p[1]].transition?s((t?t+".":t)+l,r[l],e.transition):""!==t&&1!==t.split(".").length&&n(t,r[l],'unknown property "%s"',l)}for(var f in o)o[f].required&&void 0===o[f]["default"]&&void 0===r[f]&&n(t,r,'missing required property "%s"',f)},s.array=function(e,r,o,a){if("array"!==i(r))return n(e,r,"array expected, %s found",i(r));if(o.length&&r.length!==o.length)return n(e,r,"array length %d expected, length %d found",o.length,r.length);if(o["min-length"]&&r.length<o["min-length"])return n(e,r,"array length at least %d expected, length %d found",o["min-length"],r.length);var u={type:o.value};t.version<7&&(u["function"]=o["function"]),"object"===i(o.value)&&(u=o.value);for(var l=0;l<r.length;l++)(a||s)(e+"["+l+"]",r[l],u)},s.filter=function(t,o){var a;if("array"!==i(o))return n(t,o,"array expected, %s found",i(o));if(o.length<1)return n(t,o,"filter array must have at least 1 element");switch(s["enum"](t+"[0]",o[0],e.filter_operator),r(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&"$type"==o[1]&&n(t,o,'"$type" cannot be use with operator "%s"',o[0]);case"==":case"!=":3!=o.length&&n(t,o,'filter array for operator "%s" must have 3 elements',o[0]);case"in":case"!in":o.length>=2&&(a=i(o[1]),"string"!==a?n(t+"[1]",o[1],"string expected, %s found",a):"@"===o[1][0]&&n(t+"[1]",o[1],"filter key cannot be a constant"));for(var u=2;u<o.length;u++)a=i(o[u]),"$type"==o[1]?s["enum"](t+"["+u+"]",o[u],e.geometry_type):"string"===a&&"@"===o[u][0]?n(t+"["+u+"]",o[u],"filter value cannot be a constant"):"string"!==a&&"number"!==a&&"boolean"!==a&&n(t+"["+u+"]",o[u],"string, number, or boolean expected, %s found",a);break;case"any":case"all":case"none":for(u=1;u<o.length;u++)s.filter(t+"["+u+"]",o[u])}},s["function"]=function(t,r,o){s.object(t,r,e["function"],{stops:function(t,e,r){var a=-(1/0);s.array(t,e,r,function(t,e){return"array"!==i(e)?n(t,e,"array expected, %s found",i(e)):2!==e.length?n(t,e,"array length %d expected, length %d found",2,e.length):(s(t+"[0]",e[0],{type:"number"}),s(t+"[1]",e[1],o),void("number"===i(e[0])&&("piecewise-constant"===o["function"]&&e[0]%1!==0&&n(t+"[0]",e[0],"zoom level for piecewise-constant functions must be an integer"),e[0]<a&&n(t+"[0]",e[0],"array stops must appear in ascending order"),a=e[0])))}),"array"===i(e)&&0===e.length&&n(t,e,"array must have at least one stop")}})},s["enum"]=function(t,e,i){-1===i.values.indexOf(r(e))&&n(t,e,"expected one of [%s], %s found",i.values.join(", "),e)},s.color=function(t,e){var r=i(e);return"string"!==r?n(t,e,"color expected, %s found",r):null===o(e)?n(t,e,'color expected, "%s" found',e):void 0},s.number=u("number"),s.string=u("string"),s["boolean"]=u("boolean"),s["*"]=function(){},s("",t,e.$root),e.$version>7&&t.constants&&s.constants("constants",t.constants),h.sort(function(t,e){return t.line-e.line}),h}},{csscolorparser:124,util:10}],146:[function(t,e,n){e.exports=t("./v8.json")},{"./v8.json":148}],147:[function(t,e,n){e.exports=t("./v8.min.json")},{"./v8.min.json":149}],148:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Stylesheet version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:"Default bearing, in degrees.  The style bearing will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface.  The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. Valid tokens are {fontstack} and {range}.",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided."}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"],doc:"The data type of the tile source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"],doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":14,doc:"Maximum zoom to preserve detail at."},buffer:{type:"number","default":64,doc:"Tile buffer on each side."},tolerance:{type:"number","default":3,doc:"Simplification tolerance (higher means simpler)."}},source_video:{type:{required:!0,type:"enum",values:["video"],doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:["image"],doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image"},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name."},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"],doc:"Rendering type of this layer."},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},ref:{type:"string",doc:"References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient."},source:{type:"string",doc:"Name of a source description to be used for this layer."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required if the source supports multiple layers."},minzoom:{type:"number",minimum:0,maximum:22,doc:"The minimum zoom level on which the layer gets parsed and appears on."},maxzoom:{type:"number",minimum:0,maximum:22,doc:"The maximum zoom level on which the layer gets parsed and appears on."},interactive:{type:"boolean",doc:"Enable querying of feature data from this layer for interactivity.","default":!1},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."},"paint.*":{type:"paint",doc:"Class-specific paint properties for this layer. The class name is the part after the first dot."}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt",doc:"The display of line endings."},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter",doc:"The display of lines when joining."},"line-miter-limit":{type:"number","default":2,"function":"interpolated",doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point",doc:"Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons."},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer."},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of icon when map is rotated.",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",doc:"Scale factor for icon. 1 is original size, 3 triples the size.",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",doc:"A string with {tokens} replaced, referencing the data property to pull from.",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of text when map is rotated.",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0,doc:"Value to use for a text label. Feature properties are specified using tokens like {field_name}."},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",doc:"Font size.",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",doc:"The maximum line width for text wrapping.",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",doc:"Text leading value for multi-line text.",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",doc:"Text tracking amount.",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",doc:"Text justification options.",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",doc:"Rotates the text clockwise.",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"]},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"],doc:"The filter operator."},geometry_type:{type:"enum",values:["Point","LineString","Polygon"],doc:"The geometry type for the filter to select."},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"],doc:"A color operation to apply."},"function":{stops:{type:"array",required:!0,doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0,doc:"Whether or not the fill should be antialiased."},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,doc:"The opacity given to the fill color.",transition:!0},"fill-color":{type:"color","default":"#000000",doc:"The color of the fill.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Stroke thickness."},"line-gap-width":{type:"number","default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.","function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,doc:'The line\'s offset perpendicular to its direction. Values may be positive or negative, where positive indicates "leftwards" (if you were moving in the direction of the line) and negative indicates "rightwards."',"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels."},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",
transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512)."}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Circle radius."},"circle-color":{type:"color","default":"#000000",doc:"The color of the circle.","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.","function":"interpolated",transition:!0},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees",doc:"Rotates hues around the color wheel."},"raster-brightness-min":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds",doc:"Fade duration when a new tile is added."}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.","function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}}}},{}],149:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number","default":14},buffer:{type:"number","default":64},tolerance:{type:"number","default":3}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string"},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean","default":!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},"function":{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number","default":1,minimum:0}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_line:{"line-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated",transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],150:[function(t,e,n){"use strict";function i(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=o.readUInt32LE,n.writeUInt32LE=o.writeUInt32LE,n.readInt32LE=o.readInt32LE,n.writeInt32LE=o.writeInt32LE,n.readFloatLE=o.readFloatLE,n.writeFloatLE=o.writeFloatLE,n.readDoubleLE=o.readDoubleLE,n.writeDoubleLE=o.writeDoubleLE,n.toString=o.toString,n.write=o.write,n.slice=o.slice,n.copy=o.copy,n._isBuffer=!0,n}function r(t){for(var e,n,i=t.length,r=[],o=0;i>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!n){e>56319||o+1===i?r.push(239,191,189):n=e;continue}if(56320>e){r.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(r.push(239,191,189),n=null);128>e?r.push(e):2048>e?r.push(e>>6|192,63&e|128):65536>e?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}e.exports=i;var o,a,s,u=t("ieee754");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return u.read(this,t,!0,23,4)},readDoubleLE:function(t){return u.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return u.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return u.write(this,t,e,!0,52,8)},toString:function(t,e,n){var i="",r="";e=e||0,n=Math.min(this.length,n||this.length);for(var o=e;n>o;o++){var a=this[o];127>=a?(i+=decodeURIComponent(r)+String.fromCharCode(a),r=""):r+="%"+a.toString(16)}return i+=decodeURIComponent(r)},write:function(t,e){for(var n=t===a?s:r(t),i=0;i<n.length;i++)this[e+i]=n[i]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},o.writeInt32LE=o.writeUInt32LE,i.byteLength=function(t){return a=t,s=r(t),s.length},i.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:152}],151:[function(t,e,n){(function(n){"use strict";function i(t){this.buf=f.isBuffer(t)?t:new f(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function o(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function a(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function s(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}e.exports=i;var f=n.Buffer||t("./buffer");i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var d=4294967296,m=1/d,g=Math.pow(2,63);i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*d;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*d;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n,i,r,o,a=this.buf;if(n=a[this.pos++],128>n)return n;if(n=127&n,i=a[this.pos++],128>i)return n|i<<7;if(i=(127&i)<<7,r=a[this.pos++],128>r)return n|i|r<<14;if(r=(127&r)<<14,o=a[this.pos++],128>o)return n|i|r|o<<21;if(t=n|i|r|(127&o)<<21,e=a[this.pos++],t+=268435456*(127&e),128>e)return t;if(e=a[this.pos++],t+=34359738368*(127&e),128>e)return t;if(e=a[this.pos++],t+=4398046511104*(127&e),128>e)return t;if(e=a[this.pos++],t+=562949953421312*(127&e),128>e)return t;if(e=a[this.pos++],t+=72057594037927940*(127&e),128>e)return t;if(e=a[this.pos++],t+=0x8000000000000000*(127&e),128>e)return t;throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){var t=this.pos,e=this.readVarint();if(g>e)return e;for(var n=this.pos-2;255===this.buf[n];)n--;t>n&&(n=t),e=0;for(var i=0;n-t+1>i;i++){var r=127&~this.buf[t+i];e+=4>i?r<<7*i:r*Math.pow(2,7*i)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new f(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127>=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383>=t)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(2097151>=t)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(268435455>=t)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=f.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;e>n;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n,r=127>=i?1:16383>=i?2:2097151>=i?3:268435455>=i?4:Math.ceil(Math.log(i)/(7*Math.LN2));if(r>1){this.realloc(r-1);for(var o=this.pos-1;o>=n;o--)this.buf[o+r-1]=this.buf[o]}this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,r,e)},writePackedSVarint:function(t,e){this.writeMessage(t,o,e)},writePackedBoolean:function(t,e){this.writeMessage(t,u,e)},writePackedFloat:function(t,e){this.writeMessage(t,a,e)},writePackedDouble:function(t,e){this.writeMessage(t,s,e)},writePackedFixed32:function(t,e){this.writeMessage(t,l,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,c,e)},writePackedFixed64:function(t,e){this.writeMessage(t,h,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,p,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":150}],152:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],153:[function(t,e,n){"use strict";function i(t,e){this.x=t,this.y=e}e.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],154:[function(t,e,n){!function(){"use strict";function t(e,n){return this instanceof t?(this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),void this.clear()):new t(e,n)}function n(t,e){t.bbox=i(t,0,t.children.length,e)}function i(t,e,n,i){for(var a,s=r(),u=e;n>u;u++)a=t.children[u],o(s,t.leaf?i(a):a.bbox);
return s}function r(){return[1/0,1/0,-(1/0),-(1/0)]}function o(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function a(t,e){return t.bbox[0]-e.bbox[0]}function s(t,e){return t.bbox[1]-e.bbox[1]}function u(t){return(t[2]-t[0])*(t[3]-t[1])}function l(t){return t[2]-t[0]+(t[3]-t[1])}function c(t,e){return(Math.max(e[2],t[2])-Math.min(e[0],t[0]))*(Math.max(e[3],t[3])-Math.min(e[1],t[1]))}function h(t,e){var n=Math.max(t[0],e[0]),i=Math.max(t[1],e[1]),r=Math.min(t[2],e[2]),o=Math.min(t[3],e[3]);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function f(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function d(t,e,n,i,r){for(var o,a=[e,n];a.length;)n=a.pop(),e=a.pop(),i>=n-e||(o=e+Math.ceil((n-e)/i/2)*i,m(t,e,n,o,r),a.push(e,o,o,n))}function m(t,e,n,i,r){for(var o,a,s,u,l,c,h,p,f;n>e;){for(n-e>600&&(o=n-e+1,a=i-e+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(0>a-o/2?-1:1),c=Math.max(e,Math.floor(i-a*u/o+l)),h=Math.min(n,Math.floor(i+(o-a)*u/o+l)),m(t,c,h,i,r)),p=t[i],a=e,f=n,g(t,e,i),r(t[n],p)>0&&g(t,e,n);f>a;){for(g(t,a,f),a++,f--;r(t[a],p)<0;)a++;for(;r(t[f],p)>0;)f--}0===r(t[e],p)?g(t,e,f):(f++,g(t,f,n)),i>=f&&(e=f+1),f>=i&&(n=f-1)}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}t.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!f(t,e.bbox))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;o>r;r++)a=e.children[r],s=e.leaf?i(a):a.bbox,f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!f(t,e.bbox))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;r>i;i++)if(o=e.children[i],a=e.leaf?n(o):o.bbox,f(t,a)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;n>e;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:r(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,n,i,r,o=this.data,a=this.toBBox(t),s=[],u=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],e=u.pop(),r=!0),o.leaf&&(i=o.children.indexOf(t),-1!==i))return o.children.splice(i,1),s.push(o),this._condense(s),this;r||o.leaf||!p(o.bbox,a)?n?(e++,o=n.children[e],r=!1):o=null:(s.push(o),u.push(e),e=0,n=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,i,r){var o,a=i-e+1,s=this._maxEntries;if(s>=a)return o={children:t.slice(e,i+1),height:1,bbox:null,leaf:!0},n(o,this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),o={children:[],height:r,bbox:null,leaf:!1};var u,l,c,h,p=Math.ceil(a/s),f=p*Math.ceil(Math.sqrt(s));for(d(t,e,i,f,this.compareMinX),u=e;i>=u;u+=f)for(c=Math.min(u+f-1,i),d(t,u,c,p,this.compareMinY),l=u;c>=l;l+=p)h=Math.min(l+p-1,c),o.children.push(this._build(t,l,h,r-1));return n(o,this.toBBox),o},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,l,h,p,f;;){if(i.push(e),e.leaf||i.length-1===n)break;for(p=f=1/0,r=0,o=e.children.length;o>r;r++)a=e.children[r],l=u(a.bbox),h=c(t,a.bbox)-l,f>h?(f=h,p=p>l?l:p,s=a):h===f&&p>l&&(p=l,s=a);e=s}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t.bbox:i(t),a=[],s=this._chooseSubtree(r,this.data,e,a);for(s.children.push(t),o(s.bbox,r);e>=0&&a[e].children.length>this._maxEntries;)this._split(a,e),e--;this._adjustParentBBoxes(r,a,e)},_split:function(t,e){var i=t[e],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);var a=this._chooseSplitIndex(i,o,r),s={children:i.children.splice(a,i.children.length-a),height:i.height,bbox:null,leaf:!1};i.leaf&&(s.leaf=!0),n(i,this.toBBox),n(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1,bbox:null,leaf:!1},n(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,a,s,l,c,p,f;for(c=p=1/0,r=e;n-e>=r;r++)o=i(t,0,r,this.toBBox),a=i(t,r,n,this.toBBox),s=h(o,a),l=u(o)+u(a),c>s?(c=s,f=r,p=p>l?l:p):s===c&&p>l&&(p=l,f=r);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:a,r=t.leaf?this.compareMinY:s,o=this._allDistMargin(t,e,n,i),u=this._allDistMargin(t,e,n,r);u>o&&t.children.sort(i)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var a,s,u=this.toBBox,c=i(t,0,e,u),h=i(t,n-e,n,u),p=l(c)+l(h);for(a=e;n-e>a;a++)s=t.children[a],o(c,t.leaf?u(s):s.bbox),p+=l(c);for(a=n-e-1;a>=e;a--)s=t.children[a],o(h,t.leaf?u(s):s.bbox),p+=l(h);return p},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)o(e[i].bbox,t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}},"function"==typeof define&&define.amd?define("rbush",function(){return t}):"undefined"!=typeof e?e.exports=t:"undefined"!=typeof self?self.rbush=t:window.rbush=t}()},{}],155:[function(t,e,n){void function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():t.resolveUrl=i()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var i,r=document.createElement("a"),o=1;t>o;o++)r.href=arguments[o],i=r.href,e.href=i;return n.removeChild(e),i}return t})},{}],156:[function(t,e,n){function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}e.exports=i,i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,i,r,o,a;for(r=t,a=0;8>a;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,r=t,n>r)return n;if(r>i)return i;for(;i>n;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],157:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":158,"./lib/vectortilefeature.js":159,"./lib/vectortilelayer.js":160}],158:[function(t,e,n){"use strict";function i(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,n){if(3===t){var i=new o(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}var o=t("./vectortilelayer");e.exports=i},{"./vectortilelayer":160}],159:[function(t,e,n){"use strict";function i(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(r,this,e)}function r(t,e,n){1==t?e._id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}var a=t("point-geometry");e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,s=0,u=[];t.pos<n;){if(!r){var l=t.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new a(o,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)r+=t.readSVarint(),o+=t.readSVarint(),a>r&&(a=r),r>s&&(s=r),u>o&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},i.prototype.toGeoJSON=function(t,e,n){for(var r=this.extent*Math.pow(2,n),o=this.extent*t,a=this.extent*e,s=this.loadGeometry(),u=i.types[this.type],l=0;l<s.length;l++)for(var c=s[l],h=0;h<c.length;h++){var p=c[h],f=180-360*(p.y+a)/r;c[h]=[360*(p.x+o)/r-180,360/Math.PI*Math.atan(Math.exp(f*Math.PI/180))-90]}"Point"===u&&1===s.length?s=s[0][0]:"Point"===u?(s=s[0],u="MultiPoint"):"LineString"===u&&1===s.length?s=s[0]:"LineString"===u&&(u="MultiLineString");var d={type:"Feature",geometry:{type:u,coordinates:s},properties:this.properties};return"_id"in this&&(d.id=this._id),d}},{"point-geometry":153}],160:[function(t,e,n){"use strict";function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=i,i.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":159}],161:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t){for(var e,n=Object.keys(o),s=0,u=n.length;u>s;s++){var l=n[s],c=o[l].exports;if(c===t||c["default"]===t){e=l;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},s=0,u=n.length;u>s;s++){var l=n[s];h[l]=l}r[e]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[e]=e,r[p]=[Function(["require"],"var f = require("+a(e)+");(f.default ? f.default : f)(self);"),f];var d="("+i+")({"+Object.keys(r).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(m.createObjectURL(new Blob([d],{type:"text/javascript"})))}},{}],162:[function(t,e,n){function i(t,e,n){function i(t){return t>=200&&300>t||304===t}function r(){void 0===s.status||i(s.status)?e.call(s,null,s):e.call(s,s,null)}var o=!1;if("undefined"==typeof window.XMLHttpRequest)return e(Error("Browser not supported"));if("undefined"==typeof n){var a=t.match(/^\s*https?:\/\/[^\/]*/);n=a&&a[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var s=new window.XMLHttpRequest;if(n&&!("withCredentials"in s)){s=new window.XDomainRequest;var u=e;e=function(){if(o)u.apply(this,arguments);else{var t=this,e=arguments;setTimeout(function(){u.apply(t,e)},0)}}}return"onload"in s?s.onload=r:s.onreadystatechange=function(){4===s.readyState&&r()},s.onerror=function(t){e.call(this,t||!0,null),e=function(){}},s.onprogress=function(){},s.ontimeout=function(t){e.call(this,t,null),e=function(){}},s.onabort=function(t){e.call(this,t,null),e=function(){}},s.open("GET",t,!0),s.send(null),o=!0,s}"undefined"!=typeof e&&(e.exports=i)},{}],163:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],164:[function(t,e,n){!function(t,n,i){var r=t.L,o={};o.version="0.7.7","object"==typeof e&&"object"==typeof e.exports?e.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=r,this},t.L=o,o.Util={extend:function(t){var e,n,i,r,o=Array.prototype.slice.call(arguments,1);for(n=0,i=o.length;i>n;n++){r=o[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function o(){var a=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(o.apply(n,a),r=!1)},e),void t.apply(n,a))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var r=e[n];if(r===i)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,r=t.requestAnimationFrame||e("RequestAnimationFrame")||n,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,i,a,s){return e=o.bind(e,i),a&&r===n?void e():r.call(t,e,s)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=o.extend({},i.options,t.options)),o.extend(i,t),i._initHooks=[];var a=this;return e.__super__=a.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var a="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,r,s,u,l,c,h,p=this[a]=this[a]||{},f=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;r>i;i++)s={action:e,context:n||this},u=t[i],f?(l=u+"_idx",c=l+"_len",h=p[l]=p[l]||{},h[f]||(h[f]=[],p[c]=(p[c]||0)+1),h[f].push(s)):(p[u]=p[u]||[],p[u].push(s));return this},hasEventListeners:function(t){var e=this[a];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[a])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,r,s,u,l,c,h,p,f,d=this[a],m=n&&n!==this&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,r=t.length;r>i;i++)if(s=t[i],c=s+"_idx",h=c+"_len",p=d[c],e){if(u=m&&p?p[m]:d[s]){for(l=u.length-1;l>=0;l--)u[l].action!==e||n&&u[l].context!==n||(f=u.splice(l,1),f[0].action=o.Util.falseFn);n&&p&&0===u.length&&(delete p[m],d[h]--)}}else delete d[s],delete d[c],delete d[h];return this},clearAllEventListeners:function(){return delete this[a],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,r,s,u,l=o.Util.extend({},e,{type:t,target:this}),c=this[a];if(c[t])for(n=c[t].slice(),i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,l);s=c[t+"_idx"];for(u in s)if(n=s[u].slice())for(i=0,r=n.length;r>i;i++)n[i].action.call(n[i].context,l);return this},addOneTimeEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=o.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in t,r=e&&!n.addEventListener,a=navigator.userAgent.toLowerCase(),s=-1!==a.indexOf("webkit"),u=-1!==a.indexOf("chrome"),l=-1!==a.indexOf("phantom"),c=-1!==a.indexOf("android"),h=-1!==a.search("android [23]"),p=-1!==a.indexOf("gecko"),f=typeof orientation!=i+"",d=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||d,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=n.documentElement,_=e&&"transition"in v.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,b="MozPerspective"in v.style,x="OTransition"in v.style,w=!t.L_DISABLE_3D&&(_||y||b||x)&&!l,E=!t.L_NO_TOUCH&&!l&&(m||"ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch);o.Browser={ie:e,ielt9:r,webkit:s,gecko:p&&!s&&!t.opera&&!e,android:c,android23:h,chrome:u,ie3d:_,webkit3d:y,gecko3d:b,opera3d:x,any3d:w,mobile:f,mobileWebkit:f&&s,mobileWebkit3d:f&&y,mobileOpera:f&&t.opera,touch:E,msPointer:d,pointer:m,retina:g}}(),o.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,a=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||"auto"===i)&&n.defaultView){var r=n.defaultView.getComputedStyle(t,null);i=r?r[e]:null}return"auto"===i?null:i},getViewportOffset:function(t){var e,i=0,r=0,a=t,s=n.body,u=n.documentElement;do{if(i+=a.offsetTop||0,r+=a.offsetLeft||0,i+=parseInt(o.DomUtil.getStyle(a,"borderTopWidth"),10)||0,r+=parseInt(o.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,e=o.DomUtil.getStyle(a,"position"),a.offsetParent===s&&"absolute"===e)break;if("fixed"===e){i+=s.scrollTop||u.scrollTop||0,r+=s.scrollLeft||u.scrollLeft||0;break}if("relative"===e&&!a.offsetLeft){var l=o.DomUtil.getStyle(a,"width"),c=o.DomUtil.getStyle(a,"max-width"),h=a.getBoundingClientRect();("none"!==l||"none"!==c)&&(r+=h.left+a.clientLeft),i+=h.top+(s.scrollTop||u.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===s)break;i-=a.scrollTop||0,r-=a.scrollLeft||0,a=a.parentNode}while(a);return new o.Point(r,i)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(n.body,"direction")),o.DomUtil._docIsLtr},create:function(t,e,i){var r=n.createElement(t);return r.className=e,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),r=0,a=n.length;a>r;r++)t.classList.add(n[r]);else if(!o.DomUtil.hasClass(t,e)){var s=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in n)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var e=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(e){var t=n.documentElement.style;this._userSelect=t[e],t[e]="none"}},enableTextSelection:function(){e&&(n.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,n=o.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,r=(t.lng-this.lng)*n,a=this.lat*n,s=t.lat*n,u=Math.sin(i/2),l=Math.sin(r/2),c=u*u+l*l*Math.cos(a)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new o.LatLng(this.lat,n)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;r>i;i++)this.extend(n[i])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-i,e.lng-r),new o.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),a=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=t.lng*e,a=i*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new o.Point(r,a)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(i,n)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){
return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),a=t instanceof o.Point?t:this.latLngToContainerPoint(t),s=a.subtract(r).multiplyBy(1-1/i),u=this.containerPointToLatLng(r.add(s));return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var n=o.point(e.paddingTopLeft||e.padding||[0,0]),i=o.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));r=e.maxZoom?Math.min(e.maxZoom,r):r;var a=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),u=this.project(t.getNorthEast(),r),l=this.unproject(s.add(u).divideBy(2).add(a),r);return this.setView(l,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),a=i.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new o.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=o.latLngBounds(t);var i,r=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),s=this.getSize(),u=t.getNorthWest(),l=t.getSouthEast(),c=!0;n=o.point(n||[0,0]);do r++,i=this.project(l,r).subtract(this.project(u,r)).add(n),c=e?i.x<s.x||i.y<s.y:s.contains(i);while(c&&a>=r);return c&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var r=this._zoom!==e;i||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(r||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=r.length;i>n;n++)o.DomEvent[e](this._container,r[n],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),r=this.layerPointToLatLng(i);this.fire(e,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),a=new o.Bounds(i.subtract(r),i.add(r)),s=this._getBoundsOffset(a,n,e);return this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new o.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),r=this.project(e.getSouthEast(),n).subtract(t.max),a=this._rebound(i.x,-r.x),s=this._rebound(i.y,-r.y);return new o.Point(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=this.R_MAJOR,a=this.R_MINOR,s=t.lng*e*r,u=i*e,l=a/r,c=Math.sqrt(1-l*l),h=c*Math.sin(u);h=Math.pow((1-h)/(1+h),.5*c);var p=Math.tan(.5*(.5*Math.PI-u))/h;return u=-r*Math.log(p),new o.Point(s,u)},unproject:function(t){for(var e,n=o.LatLng.RAD_TO_DEG,i=this.R_MAJOR,r=this.R_MINOR,a=t.x*n/i,s=r/i,u=Math.sqrt(1-s*s),l=Math.exp(-t.y/i),c=Math.PI/2-2*Math.atan(l),h=15,p=1e-7,f=h,d=.1;Math.abs(d)>p&&--f>0;)e=u*Math.sin(c),d=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*u))-c,c+=d;return new o.LatLng(c*n,a)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new o.Transformation(n,.5,-n,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,o=t.children,a=-e(1/0,-(1/0));for(i=0,r=o.length;r>i;i++)o[i]!==this._container&&(n=parseInt(o[i].style.zIndex,10),isNaN(n)||(a=e(a,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var r=o.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(r),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(r)}}},_addTilesFromCenterOut:function(t){var e,i,r,a=[],s=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(i=t.min.x;i<=t.max.x;i++)r=new o.Point(i,e),this._tileShouldBeLoaded(r)&&a.push(r);var u=a.length;if(0!==u){a.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)});var l=n.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;u>i;i++)this._addTile(a[i],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),o=r.add([i,i]),a=this._map.unproject(r),s=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(a=a.wrap(),s=s.wrap()),!e.bounds.intersects([a,s]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();o.DomUtil.setPosition(i,n,o.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=o.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&o.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(n[r]=e[r]);this.wmsParams=n,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),r=i.add([n,n]),a=this._crs.project(e.unproject(i,t.z)),s=this._crs.project(e.unproject(r,t.z)),u=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[s.y,a.x,a.y,s.x].join(","):[a.x,s.y,s.x,a.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+u},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),s=e._latLngToNewLayerPoint(r,t.zoom,t.center),u=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(s),l=s._add(u._multiplyBy(.5*(1-1/i)));n.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,n){return new o.ImageOverlay(t,e,n)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,r=o.point(i[e+"Size"]);n="shadow"===e?o.point(i.shadowAnchor||i.iconAnchor):o.point(i.iconAnchor),!n&&r&&(n=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var n=o.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,e,i,r,o,a=n.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,e=a.length;e>t;t++)if(i=a[t].src,r=i.match(s))return o=i.split(s)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),a=!1;r!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(r.title=t.title),t.alt&&(r.alt=t.alt)),o.DomUtil.addClass(r,i),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var s=t.icon.createShadow(this._shadow),u=!1;s!==this._shadow&&(this._removeShadow(),u=!0),s&&o.DomUtil.addClass(s,i),this._shadow=s,t.opacity<1&&this._updateOpacity();var l=this._map._panes;a&&l.markerPane.appendChild(this._icon),s&&u&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)o.DomEvent.on(t,e[n],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;return i.html!==!1?e.innerHTML=i.html:e.innerHTML="",i.bgPos&&(e.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),
o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=o.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",i);o.DomEvent.disableClickPropagation(r),this._contentNode=o.DomUtil.create("div",e+"-content",r),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(r,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",i),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",o.DomUtil.addClass(t,a)):o.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(i),a=o.point(this.options.autoPanPadding),s=o.point(this.options.autoPanPaddingTopLeft||a),u=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,h=0;r.x+n+u.x>l.x&&(c=r.x+n-l.x+u.x),r.x-c-s.x<0&&(c=r.x-s.x),r.y+e+u.y>l.y&&(h=r.y+e-l.y+u.y),r.y-h-s.y<0&&(h=r.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof o.Popup)){var i=t;t=new o.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=o.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(o.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=o.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),n=o.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(i,r)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!n.createElementNS||!n.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return n.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),r=e.layerPointToLatLng(i);this.fire(t.type,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,r=n.y-e.y,a=this._pathRoot,s=this._panes.overlayPane;o.Browser.mobileWebkit&&s.removeChild(a),o.DomUtil.setPosition(a,e),a.setAttribute("width",i),a.setAttribute("height",r),a.setAttribute("viewBox",[e.x,e.y,i,r].join(" ")),o.Browser.mobileWebkit&&s.appendChild(a)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=n.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,r,a;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)r=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](r.x,r.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=n.createElement("canvas"),e.style.position="absolute",t=this._canvasCtx=e.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;o.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var a,s=[];for(a=0;n>a;a++)o[a]&&s.push(t[a]);return s},_simplifyDPStep:function(t,e,n,i,r){var o,a,s,u=0;for(a=i+1;r-1>=a;a++)s=this._sqClosestPointOnSegment(t[a],t[i],t[r],!0),s>u&&(o=a,u=s);u>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;o>i;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return o-1>r&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i){var r,o,a,s=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(s|u))return[t,e];if(s&u)return!1;r=s||u,o=this._getEdgeIntersection(t,e,r,n),a=this._getBitCode(o,n),r===s?(t=o,s=a):(e=o,u=a)}},_getEdgeIntersection:function(t,e,n,i){var r=e.x-t.x,a=e.y-t.y,s=i.min,u=i.max;return 8&n?new o.Point(t.x+r*(u.y-t.y)/a,u.y):4&n?new o.Point(t.x+r*(s.y-t.y)/a,s.y):2&n?new o.Point(u.x,t.y+a*(u.x-t.x)/r):1&n?new o.Point(s.x,t.y+a*(s.x-t.x)/r):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r,a=e.x,s=e.y,u=n.x-a,l=n.y-s,c=u*u+l*l;return c>0&&(r=((t.x-a)*u+(t.y-s)*l)/c,r>1?(a=n.x,s=n.y):r>0&&(a+=u*r,s+=l*r)),u=t.x-a,l=t.y-s,i?u*u+l*l:new o.Point(a,s)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,r=this._parts,a=null,s=0,u=r.length;u>s;s++)for(var l=r[s],c=1,h=l.length;h>c;c++){e=l[c-1],n=l[c];var p=o.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>p&&(i=p,a=o.LineUtil._sqClosestPointOnSegment(t,e,n))}return a&&(a.distance=Math.sqrt(i)),a},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,r=e?t:[];for(n=0,i=t.length;i>n;n++){if(o.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;r[n]=o.latLng(t[n])}return r},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=o.Path.VML,i=0,r=t.length,a="";r>i;i++)e=t[i],n&&e._round(),a+=(i?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,n,i=this._originalPoints,r=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var a=this._parts,s=this._map._pathViewport,u=o.LineUtil;for(t=0,e=0;r-1>t;t++)n=u.clipSegment(i[t],i[t+1],s,t),n&&(a[e]=a[e]||[],a[e].push(n[0]),(n[1]!==i[t+1]||t===r-2)&&(a[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var n,i,r,a,s,u,l,c,h,p=[1,4,2,8],f=o.LineUtil;for(i=0,l=t.length;l>i;i++)t[i]._code=f._getBitCode(t[i],e);for(a=0;4>a;a++){for(c=p[a],n=[],i=0,l=t.length,r=l-1;l>i;r=i++)s=t[i],u=t[r],s._code&c?u._code&c||(h=f._getEdgeIntersection(u,s,c,e),h._code=f._getBitCode(h,e),n.push(h)):(u._code&c&&(h=f._getEdgeIntersection(u,s,c,e),h._code=f._getBitCode(h,e),n.push(h)),n.push(s));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;n>e;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var r=o.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,n){o.Path.prototype.initialize.call(this,n),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new o.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),o.circle=function(t,e,n){return new o.Circle(t,e,n)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var n,i,r,a,s,u,l,c=this.options.weight/2;for(o.Browser.touch&&(c+=10),n=0,a=this._parts.length;a>n;n++)for(l=this._parts[n],i=0,s=l.length,r=s-1;s>i;r=i++)if((e||0!==i)&&(u=o.LineUtil.pointToSegmentDistance(t,l[r],l[i]),c>=u))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,n,i,r,a,s,u,l,c=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,u=this._parts.length;u>r;r++)for(e=this._parts[r],a=0,l=e.length,s=l-1;l>a;s=a++)n=e[a],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=o.Util.isArray(t)?t:t.features;if(r){for(e=0,n=r.length;n>e;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(r[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var s=o.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return s.feature=o.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,n,i){var r,a,s,u,l="Feature"===t.type?t.geometry:t,c=l.coordinates,h=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return r=n(c),e?e(t,r):new o.Marker(r);case"MultiPoint":for(s=0,u=c.length;u>s;s++)r=n(c[s]),h.push(e?e(t,r):new o.Marker(r));return new o.FeatureGroup(h);case"LineString":return a=this.coordsToLatLngs(c,0,n),new o.Polyline(a,i);case"Polygon":if(2===c.length&&!c[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(c,1,n),new o.Polygon(a,i);case"MultiLineString":return a=this.coordsToLatLngs(c,1,n),new o.MultiPolyline(a,i);case"MultiPolygon":return a=this.coordsToLatLngs(c,2,n),new o.MultiPolygon(a,i);case"GeometryCollection":for(s=0,u=l.geometries.length;u>s;s++)h.push(this.geometryToLayer({geometry:l.geometries[s],type:"Feature",properties:t.properties},e,n,i));return new o.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,r,o,a=[];for(r=0,o=t.length;o>r;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),a.push(i);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(o.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(s),o.Circle.include(s),o.CircleMarker.include(s),
o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,n,i=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=o.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var r=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(r?e.geometry:o.GeoJSON.asFeature(e)))}),r?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,n,i){var r,a,s,u=o.stamp(n),l="_leaflet_"+e+u;return t[l]?this:(r=function(e){return n.call(i||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,r,u):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,r,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(a=r,s="mouseenter"===e?"mouseover":"mouseout",r=function(e){return o.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(s,r,!1)):"click"===e&&o.Browser.android?(a=r,r=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[l]=r,this))},removeListener:function(t,e,n){var i=o.stamp(n),r="_leaflet_"+e+i,a=t[r];return a?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,n=o.Draggable.START.length-1;n>=0;n--)o.DomEvent.on(t,o.Draggable.START[n],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new o.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=o.DomEvent._lastClick&&n-o.DomEvent._lastClick;return i&&i>100&&500>i||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=n,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled&&(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){var e=t.touches?t.touches[0]:t;this._startPoint=new o.Point(e.clientX,e.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(n,o.Draggable.MOVE[t.type],this._onMove,this).on(n,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new o.Point(e.clientX,e.clientY),r=i.subtract(this._startPoint);(r.x||r.y)&&(o.Browser.touch&&Math.abs(r.x)+Math.abs(r.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(n,o.Draggable.MOVE[t],this._onMove).off(n,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,r=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),r)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+i-this._times[0])/1e3,u=n.easeLinearity,l=a.multiplyBy(u/s),c=l.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,c),p=l.multiplyBy(h/c),f=h/(n.inertiaDeceleration*u),d=p.multiplyBy(-f/2).round();d.x&&d.y?(d=e._limitOffset(d,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(d,{duration:f,easeLinearity:u,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function r(t){var e;if(o.Browser.pointer?(d.push(t.pointerId),e=d.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(s||n);u=t.touches?t.touches[0]:t,l=i>0&&c>=i,s=n}}function a(t){if(o.Browser.pointer){var n=d.indexOf(t.pointerId);if(-1===n)return;d.splice(n,1)}if(l){if(o.Browser.pointer){var i,r={};for(var a in u)i=u[a],"function"==typeof i?r[a]=i.bind(u):r[a]=i;u=r}u.type="dblclick",e(u),s=null}}var s,u,l=!1,c=250,h="_leaflet_",p=this._touchstart,f=this._touchend,d=[];t[h+p+i]=r,t[h+f+i]=a;var m=o.Browser.pointer?n.documentElement:t;return t.addEventListener(p,r,!1),m.addEventListener(f,a,!1),o.Browser.pointer&&m.addEventListener(o.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+e],!1),(o.Browser.pointer?n.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+e],!1),o.Browser.pointer&&n.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[i+this._touchend+e],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,i,r){var a="_leaflet_",s=this._pointers,u=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&o.DomEvent.preventDefault(t);for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[a+"touchstart"+r]=u,t.addEventListener(this.POINTER_DOWN,u,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};n.documentElement.addEventListener(this.POINTER_UP,l,!1),n.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",a=this._pointers;return t[o+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",o=this._pointers,a=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),r=e.mouseEventToLayerPoint(t.touches[1]),a=e._getCenterLayerPoint();this._startCenter=i.add(r)._divideBy(2),this._startDist=i.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),o.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd);var e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),r=t.getZoom(),a=t.getScaleZoom(this._scale)-r,s=a>0?Math.ceil(a):Math.floor(a),u=t._limitZoom(r+s),l=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,e,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new o.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),o.DomEvent.on(n,"touchmove",this._onMove,this).on(n,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(n,"touchmove",this._onMove,this).off(n,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&o.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(e,i){var r=n.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(n,"mousemove",this._onMouseMove,this).on(n,"mouseup",this._onMouseUp,this).on(n,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),r=i.subtract(e),a=new o.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));o.DomUtil.setPosition(n,a),this._moved=!0,n.style.width=Math.max(0,Math.abs(r.x)-4)+"px",n.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(n,"mousemove",this._onMouseMove).off(n,"mouseup",this._onMouseUp).off(n,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=n.body,i=n.documentElement,r=e.scrollTop||i.scrollTop,o=e.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;n>e;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;n>e;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;n>e;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;n>e;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;n>e;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;n>e;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=o.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&o.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return o.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var a=n+t+" "+n+r;e[t+r]=o.DomUtil.create("div",a,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=o.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,r,a){var s=o.DomUtil.create("a",n,i);s.innerHTML=t,s.href="#",s.title=e;var u=o.DomEvent.stopPropagation;return o.DomEvent.on(s,"click",u).on(s,"mousedown",u).on(s,"dblclick",u).on(s,"click",o.DomEvent.preventDefault).on(s,"click",r,a).on(s,"click",this._refocusOnMap,a),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=o.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,a=0;r.x>0&&(a=i*(o.maxWidth/r.x)),this._updateScales(o,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(i=this._getRoundNum(r),o.style.width=this._getScaleWidth(i/r)+"px",o.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){o.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",o.Browser.touch?o.DomEvent.on(i,"click",o.DomEvent.stop).on(i,"click",this._expand,this):o.DomEvent.on(i,"focus",this._expand,this),o.DomEvent.on(n,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",n),this._separator=o.DomUtil.create("div",t+"-separator",n),this._overlaysList=o.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=o.stamp(t);this._layers[i]={layer:t,name:e,overlay:n
},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var r=n.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var e,i=n.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),e.layerId=o.stamp(t.layer),o.DomEvent.on(e,"click",this._onInputClick,this);var a=n.createElement("span");a.innerHTML=" "+t.name,i.appendChild(e),i.appendChild(a);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;r>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,n){return new o.Control.Layers(t,e,n)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,r=this._el,a=t.getComputedStyle(r);if(o.Browser.any3d){if(i=a[o.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(a.left),n=parseFloat(a.top);return new o.Point(e,n,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),o=this._getCenterLayerPoint()._add(r);return n.animate===!0||this.getSize().contains(r)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,r,a,s){s||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:r,backwards:a}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),o.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)},this))}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=o.DomUtil.TRANSFORM,i=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[n],r=o.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?r+" "+i:i+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=r.length;n>e;e++)i=r[e],i.complete||(i.onload=o.Util.falseFn,i.onerror=o.Util.falseFn,i.src=o.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),n=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new o.LatLng(e,n),r=180*t.coords.accuracy/40075017,a=r/Math.cos(o.LatLng.DEG_TO_RAD*e),s=o.latLngBounds([e-r,n-a],[e+r,n+a]),u=this._locateOptions;if(u.setView){var l=Math.min(this.getBoundsZoom(s),u.maxZoom);this.setView(i,l)}var c={latlng:i,bounds:s,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(c[h]=t.coords[h]);this.fire("locationfound",c)}})}(window,document)},{}],165:[function(t,e,n){!function(t,e){if("object"==typeof n&&n)e(n);else{var i={};e(i),"function"==typeof define&&define.amd?define(i):t.Mustache=i}}(this,function(t){function e(t,e){return b.call(t,e)}function n(t){return!e(g,t)}function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t){return String(t).replace(/[&<>"'\/]/g,function(t){return E[t]})}function a(t){this.string=t,this.tail=t,this.pos=0}function s(t,e){this.view=null==t?{}:t,this.parent=e,this._cache={".":this.view}}function u(){this.clearCache()}function l(e,n,r,o){function a(t){return n.render(t,r)}for(var s,u,c,h="",p=0,f=e.length;f>p;++p)switch(s=e[p],u=s[1],s[0]){case"#":if(c=r.lookup(u),"object"==typeof c||"string"==typeof c)if(w(c))for(var d=0,m=c.length;m>d;++d)h+=l(s[4],n,r.push(c[d]),o);else c&&(h+=l(s[4],n,r.push(c),o));else if(i(c)){var g=null==o?null:o.slice(s[3],s[5]);c=c.call(r.view,g,a),null!=c&&(h+=c)}else c&&(h+=l(s[4],n,r,o));break;case"^":c=r.lookup(u),(!c||w(c)&&0===c.length)&&(h+=l(s[4],n,r,o));break;case">":c=n.getPartial(u),i(c)&&(h+=c(r));break;case"&":c=r.lookup(u),null!=c&&(h+=c);break;case"name":c=r.lookup(u),null!=c&&(h+=t.escape(c));break;case"text":h+=u}return h}function c(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;a>o;++o)switch(e=t[o],e[0]){case"#":case"^":r.push(e),i.push(e),i=e[4]=[];break;case"/":var s=r.pop();s[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}function h(t){for(var e,n,i=[],r=0,o=t.length;o>r;++r)e=t[r],e&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(n=e,i.push(e)));return i}function p(t){return[new RegExp(r(t[0])+"\\s*"),new RegExp("\\s*"+r(t[1]))]}function f(e,i){function o(){if(C&&!P)for(;T.length;)delete M[T.pop()];else T=[];C=!1,P=!1}if(e=e||"",i=i||t.tags,"string"==typeof i&&(i=i.split(m)),2!==i.length)throw new Error("Invalid tags: "+i.join(", "));for(var s,u,l,f,g,b,x=p(i),w=new a(e),E=[],M=[],T=[],C=!1,P=!1;!w.eos();){if(s=w.pos,l=w.scanUntil(x[0]))for(var L=0,S=l.length;S>L;++L)f=l.charAt(L),n(f)?T.push(M.length):P=!0,M.push(["text",f,s,s+1]),s+=1,"\n"==f&&o();if(!w.scan(x[0]))break;if(C=!0,u=w.scan(y)||"name",w.scan(d),"="===u?(l=w.scanUntil(v),w.scan(v),w.scanUntil(x[1])):"{"===u?(l=w.scanUntil(new RegExp("\\s*"+r("}"+i[1]))),w.scan(_),w.scanUntil(x[1]),u="&"):l=w.scanUntil(x[1]),!w.scan(x[1]))throw new Error("Unclosed tag at "+w.pos);if(g=[u,l,s,w.pos],M.push(g),"#"===u||"^"===u)E.push(g);else if("/"===u){if(b=E.pop(),!b)throw new Error('Unopened section "'+l+'" at '+s);if(b[1]!==l)throw new Error('Unclosed section "'+b[1]+'" at '+s)}else if("name"===u||"{"===u||"&"===u)P=!0;else if("="===u){if(i=l.split(m),2!==i.length)throw new Error("Invalid tags at "+s+": "+i.join(", "));x=p(i)}}if(b=E.pop())throw new Error('Unclosed section "'+b[1]+'" at '+w.pos);return c(h(M))}var d=/\s*/,m=/\s+/,g=/\S/,v=/\s*=/,_=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/,b=RegExp.prototype.test,x=Object.prototype.toString,w=Array.isArray||function(t){return"[object Array]"===x.call(t)},E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};a.prototype.eos=function(){return""===this.tail},a.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}return""},a.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},s.make=function(t){return t instanceof s?t:new s(t)},s.prototype.push=function(t){return new s(t,this)},s.prototype.lookup=function(t){var e;if(t in this._cache)e=this._cache[t];else{for(var n=this;n;){if(t.indexOf(".")>0){e=n.view;for(var r=t.split("."),o=0;null!=e&&o<r.length;)e=e[r[o++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return i(e)&&(e=e.call(this.view)),e},u.prototype.clearCache=function(){this._cache={},this._partialCache={}},u.prototype.compile=function(e,n){var i=this._cache[e];if(!i){var r=t.parse(e,n);i=this._cache[e]=this.compileTokens(r,e)}return i},u.prototype.compilePartial=function(t,e,n){var i=this.compile(e,n);return this._partialCache[t]=i,i},u.prototype.getPartial=function(t){return t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},u.prototype.compileTokens=function(t,e){var n=this;return function(r,o){if(o)if(i(o))n._loadPartial=o;else for(var a in o)n.compilePartial(a,o[a]);return l(t,n,s.make(r),e)}},u.prototype.render=function(t,e,n){return this.compile(t)(e,n)},t.name="mustache.js",t.version="0.7.3",t.tags=["{{","}}"],t.Scanner=a,t.Context=s,t.Writer=u,t.parse=f,t.escape=o;var M=new u;t.clearCache=function(){return M.clearCache()},t.compile=function(t,e){return M.compile(t,e)},t.compilePartial=function(t,e,n){return M.compilePartial(t,e,n)},t.compileTokens=function(t,e){return M.compileTokens(t,e)},t.render=function(t,e,n){return M.render(t,e,n)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);return i(o)?void o(a):a}})},{}],166:[function(t,e,n){function i(t){"use strict";return/^https?/.test(t.getScheme())?t.toString():/^mailto?/.test(t.getScheme())?t.toString():"data"==t.getScheme()&&/^image/.test(t.getPath())?t.toString():void 0}function r(t){return t}var o=t("./sanitizer-bundle.js");e.exports=function(t){return t?o(t,i,r):""}},{"./sanitizer-bundle.js":167}],167:[function(t,e,n){var i=function(){function t(t){var e=(""+t).match(f);return e?new u(l(e[1]),l(e[2]),l(e[3]),l(e[4]),l(e[5]),l(e[6]),l(e[7])):null}function e(t,e,o,a,s,l,c){var h=new u(i(t,d),i(e,d),n(o),a>0?a.toString():null,i(s,m),null,n(c));return l&&("string"==typeof l?h.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,r)):h.setAllParameters(l)),h}function n(t){return"string"==typeof t?encodeURIComponent(t):null}function i(t,e){return"string"==typeof t?encodeURI(t).replace(e,r):null}function r(t){var e=t.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}function o(t){return t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function a(t){if(null===t)return null;for(var e,n=o(t),i=h;(e=n.replace(i,"$1"))!=n;n=e);return n}function s(t,e){var n=t.clone(),i=e.hasScheme();i?n.setRawScheme(e.getRawScheme()):i=e.hasCredentials(),i?n.setRawCredentials(e.getRawCredentials()):i=e.hasDomain(),i?n.setRawDomain(e.getRawDomain()):i=e.hasPort();var r=e.getRawPath(),o=a(r);if(i)n.setPort(e.getPort()),o=o&&o.replace(p,"");else if(i=!!r){if(47!==o.charCodeAt(0)){var s=a(n.getRawPath()||"").replace(p,""),u=s.lastIndexOf("/")+1;o=a((u?s.substring(0,u):"")+a(r)).replace(p,"")}}else o=o&&o.replace(p,""),o!==r&&n.setRawPath(o);return i?n.setRawPath(o):i=e.hasQuery(),i?n.setRawQuery(e.getRawQuery()):i=e.hasFragment(),i&&n.setRawFragment(e.getRawFragment()),n}function u(t,e,n,i,r,o,a){this.scheme_=t,this.credentials_=e,this.domain_=n,this.port_=i,this.path_=r,this.query_=o,this.fragment_=a,this.paramCache_=null}function l(t){return"string"==typeof t&&t.length>0?t:null}var c=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),h=new RegExp(c),p=/^(?:\.\.\/)*(?:\.\.$)?/;u.prototype.toString=function(){var t=[];return null!==this.scheme_&&t.push(this.scheme_,":"),null!==this.domain_&&(t.push("//"),null!==this.credentials_&&t.push(this.credentials_,"@"),t.push(this.domain_),null!==this.port_&&t.push(":",this.port_.toString())),null!==this.path_&&t.push(this.path_),null!==this.query_&&t.push("?",this.query_),null!==this.fragment_&&t.push("#",this.fragment_),t.join("")},u.prototype.clone=function(){return new u(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},u.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},u.prototype.getRawScheme=function(){return this.scheme_},u.prototype.setScheme=function(t){return this.scheme_=i(t,d),this},u.prototype.setRawScheme=function(t){return this.scheme_=t?t:null,this},u.prototype.hasScheme=function(){return null!==this.scheme_},u.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},u.prototype.getRawCredentials=function(){return this.credentials_},u.prototype.setCredentials=function(t){return this.credentials_=i(t,d),this},u.prototype.setRawCredentials=function(t){return this.credentials_=t?t:null,this},u.prototype.hasCredentials=function(){return null!==this.credentials_},u.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},u.prototype.getRawDomain=function(){return this.domain_},u.prototype.setDomain=function(t){return this.setRawDomain(t&&encodeURIComponent(t))},u.prototype.setRawDomain=function(t){return this.domain_=t?t:null,this.setRawPath(this.path_)},u.prototype.hasDomain=function(){return null!==this.domain_},u.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},u.prototype.setPort=function(t){if(t){if(t=Number(t),t!==(65535&t))throw new Error("Bad port number "+t);this.port_=""+t}else this.port_=null;return this},u.prototype.hasPort=function(){return null!==this.port_},u.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},u.prototype.getRawPath=function(){return this.path_},u.prototype.setPath=function(t){return this.setRawPath(i(t,m))},u.prototype.setRawPath=function(t){return t?(t=String(t),this.path_=!this.domain_||/^\//.test(t)?t:"/"+t):this.path_=null,this},u.prototype.hasPath=function(){return null!==this.path_},u.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},u.prototype.getRawQuery=function(){return this.query_},u.prototype.setQuery=function(t){return this.paramCache_=null,this.query_=n(t),this},u.prototype.setRawQuery=function(t){return this.paramCache_=null,this.query_=t?t:null,this},u.prototype.hasQuery=function(){return null!==this.query_},u.prototype.setAllParameters=function(t){if("object"==typeof t&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e=[],n=-1;for(var i in t){var r=t[i];"string"==typeof r&&(e[++n]=i,e[++n]=r)}t=e}this.paramCache_=null;for(var o=[],a="",s=0;s<t.length;){var i=t[s++],r=t[s++];o.push(a,encodeURIComponent(i.toString())),a="&",r&&o.push("=",encodeURIComponent(r.toString()))}return this.query_=o.join(""),this},u.prototype.checkParameterCache_=function(){if(!this.paramCache_){var t=this.query_;if(t){for(var e=t.split(/[&\?]/),n=[],i=-1,r=0;r<e.length;++r){var o=e[r].match(/^([^=]*)(?:=(.*))?$/);n[++i]=decodeURIComponent(o[1]).replace(/\+/g," "),n[++i]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},u.prototype.setParameterValues=function(t,e){"string"==typeof e&&(e=[e]),this.checkParameterCache_();for(var n=0,i=this.paramCache_,r=[],o=0;o<i.length;o+=2)t===i[o]?n<e.length&&r.push(t,e[n++]):r.push(i[o],i[o+1]);for(;n<e.length;)r.push(t,e[n++]);return this.setAllParameters(r),this},u.prototype.removeParameter=function(t){return this.setParameterValues(t,[])},u.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},u.prototype.getParameterValues=function(t){this.checkParameterCache_();for(var e=[],n=0;n<this.paramCache_.length;n+=2)t===this.paramCache_[n]&&e.push(this.paramCache_[n+1]);return e},u.prototype.getParameterMap=function(t){this.checkParameterCache_();for(var e={},n=0;n<this.paramCache_.length;n+=2){var i=this.paramCache_[n++],r=this.paramCache_[n++];i in e?e[i].push(r):e[i]=[r]}return e},u.prototype.getParameterValue=function(t){this.checkParameterCache_();for(var e=0;e<this.paramCache_.length;e+=2)if(t===this.paramCache_[e])return this.paramCache_[e+1];return null},u.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},u.prototype.getRawFragment=function(){return this.fragment_},u.prototype.setFragment=function(t){return this.fragment_=t?encodeURIComponent(t):null,this},u.prototype.setRawFragment=function(t){return this.fragment_=t?t:null,this},u.prototype.hasFragment=function(){return null!==this.fragment_};var f=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),d=/[#\/\?@]/g,m=/[\#\?]/g;return u.parse=t,u.create=e,u.resolve=s,u.collapse_dots=a,u.utils={mimeTypeOf:function(e){var n=t(e);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(e,n){return e?s(t(e),t(n)).toString():""+n}},u}(),r={};if(r.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},r.atype=r.atype,r.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},r.ATTRIBS=r.ATTRIBS,r.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},r.eflags=r.eflags,r.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:16,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},r.ELEMENTS=r.ELEMENTS,r.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",
title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},r.ELEMENT_DOM_INTERFACES=r.ELEMENT_DOM_INTERFACES,r.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},r.ueffects=r.ueffects,r.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},r.URIEFFECTS=r.URIEFFECTS,r.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},r.ltypes=r.ltypes,r.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},r.LOADERTYPES=r.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var o=function(t){function e(t){if(D.hasOwnProperty(t))return D[t];var e=t.match(k);if(e)return String.fromCharCode(parseInt(e[1],10));if(e=t.match(O))return String.fromCharCode(parseInt(e[1],16));if(N&&A.test(t)){N.innerHTML="&"+t+";";var n=N.textContent;return D[t]=n,n}return"&"+t+";"}function n(t,n){return e(n)}function r(t){return t.replace(I,"")}function o(t){return t.replace(U,n)}function a(t){return(""+t).replace(B,"&amp;").replace(F,"&lt;").replace(q,"&gt;").replace(V,"&#34;")}function s(t){return t.replace(j,"&amp;$1").replace(F,"&lt;").replace(q,"&gt;")}function u(t){var e={cdata:t.cdata||t.cdata,comment:t.comment||t.comment,endDoc:t.endDoc||t.endDoc,endTag:t.endTag||t.endTag,pcdata:t.pcdata||t.pcdata,rcdata:t.rcdata||t.rcdata,startDoc:t.startDoc||t.startDoc,startTag:t.startTag||t.startTag};return function(t,n){return l(t,e,n)}}function l(t,e,n){var i=p(t),r={noMoreGT:!1,noMoreEndComments:!1};h(e,i,0,r,n)}function c(t,e,n,i,r){return function(){h(t,e,n,i,r)}}function h(e,n,i,r,o){try{e.startDoc&&0==i&&e.startDoc(o);for(var a,s,u,l=i,h=n.length;h>l;){var p=n[l++],g=n[l];switch(p){case"&":z.test(g)?(e.pcdata&&e.pcdata("&"+g,o,W,c(e,n,l,r,o)),l++):e.pcdata&&e.pcdata("&amp;",o,W,c(e,n,l,r,o));break;case"</":(a=/^([-\w:]+)[^\'\"]*/.exec(g))?a[0].length===g.length&&">"===n[l+1]?(l+=2,u=a[1].toLowerCase(),e.endTag&&e.endTag(u,o,W,c(e,n,l,r,o))):l=f(n,l,e,o,W,r):e.pcdata&&e.pcdata("&lt;/",o,W,c(e,n,l,r,o));break;case"<":if(a=/^([-\w:]+)\s*\/?/.exec(g))if(a[0].length===g.length&&">"===n[l+1]){l+=2,u=a[1].toLowerCase(),e.startTag&&e.startTag(u,[],o,W,c(e,n,l,r,o));var v=t.ELEMENTS[u];if(v&G){var _={name:u,next:l,eflags:v};l=m(n,_,e,o,W,r)}}else l=d(n,l,e,o,W,r);else e.pcdata&&e.pcdata("&lt;",o,W,c(e,n,l,r,o));break;case"<!--":if(!r.noMoreEndComments){for(s=l+1;h>s&&(">"!==n[s]||!/--$/.test(n[s-1]));s++);if(h>s){if(e.comment){var y=n.slice(l,s).join("");e.comment(y.substr(0,y.length-2),o,W,c(e,n,s+1,r,o))}l=s+1}else r.noMoreEndComments=!0}r.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",o,W,c(e,n,l,r,o));break;case"<!":if(/^\w/.test(g)){if(!r.noMoreGT){for(s=l+1;h>s&&">"!==n[s];s++);h>s?l=s+1:r.noMoreGT=!0}r.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",o,W,c(e,n,l,r,o))}else e.pcdata&&e.pcdata("&lt;!",o,W,c(e,n,l,r,o));break;case"<?":if(!r.noMoreGT){for(s=l+1;h>s&&">"!==n[s];s++);h>s?l=s+1:r.noMoreGT=!0}r.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",o,W,c(e,n,l,r,o));break;case">":e.pcdata&&e.pcdata("&gt;",o,W,c(e,n,l,r,o));break;case"":break;default:e.pcdata&&e.pcdata(p,o,W,c(e,n,l,r,o))}}e.endDoc&&e.endDoc(o)}catch(b){if(b!==W)throw b}}function p(t){var e=/(<\/|<\!--|<[!?]|[&<>])/g;if(t+="",Z)return t.split(e);for(var n,i=[],r=0;null!==(n=e.exec(t));)i.push(t.substring(r,n.index)),i.push(n[0]),r=n.index+n[0].length;return i.push(t.substring(r)),i}function f(t,e,n,i,r,o){var a=g(t,e);return a?(n.endTag&&n.endTag(a.name,i,r,c(n,t,e,o,i)),a.next):t.length}function d(t,e,n,i,r,o){var a=g(t,e);return a?(n.startTag&&n.startTag(a.name,a.attrs,i,r,c(n,t,a.next,o,i)),a.eflags&G?m(t,a,n,i,r,o):a.next):t.length}function m(e,n,i,r,o,a){var u=e.length;Y.hasOwnProperty(n.name)||(Y[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=Y[n.name],h=n.next,p=n.next+1;u>p&&("</"!==e[p-1]||!l.test(e[p]));p++);u>p&&(p-=1);var f=e.slice(h,p).join("");if(n.eflags&t.eflags.CDATA)i.cdata&&i.cdata(f,r,o,c(i,e,p,a,r));else{if(!(n.eflags&t.eflags.RCDATA))throw new Error("bug");i.rcdata&&i.rcdata(s(f),r,o,c(i,e,p,a,r))}return p}function g(e,n){var i=/^([-\w:]+)/.exec(e[n]),r={};r.name=i[1].toLowerCase(),r.eflags=t.ELEMENTS[r.name];for(var o=e[n].substr(i[0].length),a=n+1,s=e.length;s>a&&">"!==e[a];a++)o+=e[a];if(!(a>=s)){for(var u=[];""!==o;)if(i=H.exec(o)){if(i[4]&&!i[5]||i[6]&&!i[7]){for(var l=i[4]||i[6],c=!1,h=[o,e[a++]];s>a;a++){if(c){if(">"===e[a])break}else 0<=e[a].indexOf(l)&&(c=!0);h.push(e[a])}if(a>=s)break;o=h.join("");continue}var p=i[1].toLowerCase(),f=i[2]?v(i[3]):"";u.push(p,f),o=o.substr(i[0].length)}else o=o.replace(/^[\s\S][^a-z\s]*/,"");return r.attrs=u,r.next=a+1,r}}function v(t){var e=t.charCodeAt(0);return(34===e||39===e)&&(t=t.substr(1,t.length-2)),o(r(t))}function _(e){var n,i,r=function(t,e){i||e.push(t)};return u({startDoc:function(t){n=[],i=!1},startTag:function(r,o,s){if(!i&&t.ELEMENTS.hasOwnProperty(r)){var u=t.ELEMENTS[r];if(!(u&t.eflags.FOLDABLE)){var l=e(r,o);if(!l)return void(i=!(u&t.eflags.EMPTY));if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");o=l.attribs;var c,h;if("tagName"in l?(h=l.tagName,c=t.ELEMENTS[h]):(h=r,c=u),u&t.eflags.OPTIONAL_ENDTAG){var p=n[n.length-1];!p||p.orig!==r||p.rep===h&&r===h||s.push("</",p.rep,">")}u&t.eflags.EMPTY||n.push({orig:r,rep:h}),s.push("<",h);for(var f=0,d=o.length;d>f;f+=2){var m=o[f],g=o[f+1];null!==g&&void 0!==g&&s.push(" ",m,'="',a(g),'"')}s.push(">"),u&t.eflags.EMPTY&&!(c&t.eflags.EMPTY)&&s.push("</",h,">")}}},endTag:function(e,r){if(i)return void(i=!1);if(t.ELEMENTS.hasOwnProperty(e)){var o=t.ELEMENTS[e];if(!(o&(t.eflags.EMPTY|t.eflags.FOLDABLE))){var a;if(o&t.eflags.OPTIONAL_ENDTAG)for(a=n.length;--a>=0;){var s=n[a].orig;if(s===e)break;if(!(t.ELEMENTS[s]&t.eflags.OPTIONAL_ENDTAG))return}else for(a=n.length;--a>=0&&n[a].orig!==e;);if(0>a)return;for(var u=n.length;--u>a;){var l=n[u].rep;t.ELEMENTS[l]&t.eflags.OPTIONAL_ENDTAG||r.push("</",l,">")}a<n.length&&(e=n[a].rep),n.length=a,r.push("</",e,">")}}},pcdata:r,rcdata:r,cdata:r,endDoc:function(t){for(;n.length;n.length--)t.push("</",n[n.length-1].rep,">")}})}function y(t,e,n,r,o){if(!o)return null;try{var a=i.parse(""+t);if(a&&(!a.hasScheme()||X.test(a.getScheme()))){var s=o(a,e,n,r);return s?s.toString():null}}catch(u){return null}return null}function b(t,e,n,i,r){if(n||t(e+" removed",{change:"removed",tagName:e}),i!==r){var o="changed";i&&!r?o="removed":!i&&r&&(o="added"),t(e+"."+n+" "+o,{change:o,tagName:e,attribName:n,oldValue:i,newValue:r})}}function x(t,e,n){var i;return i=e+"::"+n,t.hasOwnProperty(i)?t[i]:(i="*::"+n,t.hasOwnProperty(i)?t[i]:void 0)}function w(e,n){return x(t.LOADERTYPES,e,n)}function E(e,n){return x(t.URIEFFECTS,e,n)}function M(e,n,i,r,o){for(var a=0;a<n.length;a+=2){var s,u=n[a],l=n[a+1],c=l,h=null;if(s=e+"::"+u,(t.ATTRIBS.hasOwnProperty(s)||(s="*::"+u,t.ATTRIBS.hasOwnProperty(s)))&&(h=t.ATTRIBS[s]),null!==h)switch(h){case t.atype.NONE:break;case t.atype.SCRIPT:l=null,o&&b(o,e,u,c,l);break;case t.atype.STYLE:if("undefined"==typeof L){l=null,o&&b(o,e,u,c,l);break}var p=[];L(l,{declaration:function(e,n){var r=e.toLowerCase(),o=R[r];o&&(S(r,o,n,i?function(e){return y(e,t.ueffects.SAME_DOCUMENT,t.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:r},i)}:null),p.push(e+": "+n.join(" ")))}}),l=p.length>0?p.join(" ; "):null,o&&b(o,e,u,c,l);break;case t.atype.ID:case t.atype.IDREF:case t.atype.IDREFS:case t.atype.GLOBAL_NAME:case t.atype.LOCAL_NAME:case t.atype.CLASSES:l=r?r(l):l,o&&b(o,e,u,c,l);break;case t.atype.URI:l=y(l,E(e,u),w(e,u),{TYPE:"MARKUP",XML_ATTR:u,XML_TAG:e},i),o&&b(o,e,u,c,l);break;case t.atype.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=r?r(l):l,null!==l&&void 0!==l&&(l="#"+l)):l=null,o&&b(o,e,u,c,l);break;default:l=null,o&&b(o,e,u,c,l)}else l=null,o&&b(o,e,u,c,l);n[a+1]=l}return n}function T(e,n,i){return function(r,o){return t.ELEMENTS[r]&t.eflags.UNSAFE?void(i&&b(i,r,void 0,void 0,void 0)):{attribs:M(r,o,e,n,i)}}}function C(t,e){var n=[];return _(e)(t,n),n.join("")}function P(t,e,n,i){var r=T(e,n,i);return C(t,r)}var L,S,R;"undefined"!=typeof window&&(L=window.parseCssDeclarations,S=window.sanitizeCssProperty,R=window.cssSchema);var D={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},k=/^#(\d+)$/,O=/^#x([0-9A-Fa-f]+)$/,A=/^[A-Za-z][A-za-z0-9]+$/,N="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,I=/\0/g,U=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,z=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,B=/&/g,j=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,F=/[<]/g,q=/>/g,V=/\"/g,H=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),Z=3==="a,b".split(/(,)/).length,G=t.eflags.CDATA|t.eflags.RCDATA,W={},Y={},X=/^(?:https?|mailto|data)$/i,K={};return K.escapeAttrib=K.escapeAttrib=a,K.makeHtmlSanitizer=K.makeHtmlSanitizer=_,K.makeSaxParser=K.makeSaxParser=u,K.makeTagPolicy=K.makeTagPolicy=T,K.normalizeRCData=K.normalizeRCData=s,K.sanitize=K.sanitize=P,K.sanitizeAttribs=K.sanitizeAttribs=M,K.sanitizeWithPolicy=K.sanitizeWithPolicy=C,K.unescapeEntities=K.unescapeEntities=o,K}(r),a=o.sanitize;r.ATTRIBS["*::style"]=0,r.ELEMENTS.style=0,r.ATTRIBS["a::target"]=0,r.ELEMENTS.video=0,r.ATTRIBS["video::src"]=0,r.ATTRIBS["video::poster"]=0,r.ATTRIBS["video::controls"]=0,r.ELEMENTS.audio=0,r.ATTRIBS["audio::src"]=0,r.ATTRIBS["video::autoplay"]=0,r.ATTRIBS["video::controls"]=0,"undefined"!=typeof e&&(e.exports=a)},{}],168:[function(t,e,n){e.exports={author:{name:"Mapbox"},name:"mapbox.js",description:"mapbox javascript api",version:"2.2.4",homepage:"http://mapbox.com/",repository:{type:"git",url:"git://github.com/mapbox/mapbox.js.git"},main:"src/index.js",dependencies:{corslite:"0.0.6",isarray:"0.0.1",leaflet:"0.7.7",mustache:"0.7.3","sanitize-caja":"0.1.3"},scripts:{test:"eslint --no-eslintrc -c .eslintrc src && mocha-phantomjs test/index.html"},license:"BSD-3-Clause",devDependencies:{browserify:"^6.3.2","clean-css":"~2.0.7",eslint:"^0.23.0","expect.js":"0.3.1",happen:"0.1.3","leaflet-fullscreen":"0.0.4","leaflet-hash":"0.2.1",marked:"~0.3.0",minifyify:"^6.1.0",minimist:"0.0.5",mocha:"1.17.1","mocha-phantomjs":"3.1.6",sinon:"1.10.2"},optionalDependencies:{},engines:{node:"*"},gitHead:"562aafee5a30c112df5f2c2e4abc6df8662301a9",bugs:{url:"https://github.com/mapbox/mapbox.js/issues"},_id:"mapbox.js@2.2.4",_shasum:"72e64514ed34b539da33869ee28fbacbd1474159",_from:"mapbox.js@>=2.2.1 <3.0.0",_npmVersion:"1.4.28",_npmUser:{name:"alulsh",email:"alexandra.ulsh@gmail.com"},maintainers:[{name:"1ec5",email:"mxn@1ec5.org"},{name:"aaronlidman",email:"aaronlidman@gmail.com"},{name:"ajashton",email:"aj.ashton@gmail.com"},{name:"alulsh",email:"ulsh@mapbox.com"},{name:"ansis",email:"ansis.brammanis@gmail.com"},{name:"apendleton",email:"andrew@mapbox.com"},{name:"bergwerkgis",email:"wb@bergwerk-gis.at"},{name:"bhousel",email:"bryan@mapbox.com"},{name:"bsudekum",email:"bobby@mapbox.com"},{name:"camilleanne",email:"camille@mapbox.com"},{name:"dnomadb",email:"damon@mapbox.com"},{name:"dthompson",email:"dthompson@gmail.com"},{name:"emilymcafee",email:"emily@mapbox.com"},{name:"flippmoke",email:"flippmoke@gmail.com"},{name:"freenerd",email:"spam@freenerd.de"},{name:"gretacb",email:"carol@mapbox.com"},{name:"ian29",email:"ian.villeda@gmail.com"},{name:"ianshward",email:"ian@mapbox.com"},{name:"ingalls",email:"nicholas.ingalls@gmail.com"},{name:"jfirebaugh",email:"john.firebaugh@gmail.com"},{name:"jrpruit1",email:"jake@jakepruitt.com"},{name:"karenzshea",email:"karen@mapbox.com"},{name:"kelvinabrokwa",email:"kelvinabrokwa@gmail.com"},{name:"kkaefer",email:"kkaefer@gmail.com"},{name:"lbud",email:"lauren@mapbox.com"},{name:"lucaswoj",email:"lucas@lucaswoj.com"},{name:"lxbarth",email:"alex@mapbox.com"},{name:"lyzidiamond",email:"lyzi@mapbox.com"},{name:"mapbox-admin",email:"accounts@mapbox.com"},{name:"mateov",email:"matt@mapbox.com"},{name:"mcwhittemore",email:"mcwhittemore@gmail.com"},{name:"miccolis",email:"jeff@miccolis.net"},{name:"mikemorris",email:"michael.patrick.morris@gmail.com"},{name:"morganherlocker",email:"morgan.herlocker@gmail.com"},{name:"mourner",email:"agafonkin@gmail.com"},{name:"mtirwin",email:"irwin@mapbox.com"},{name:"nickidlugash",email:"nicki@mapbox.com"},{name:"rclark",email:"ryan.clark.j@gmail.com"},{name:"samanbb",email:"saman@mapbox.com"},{name:"sbma44",email:"tlee@mapbox.com"},{name:"scothis",email:"scothis@gmail.com"},{name:"sgillies",email:"sean@mapbox.com"},{name:"springmeyer",email:"dane@mapbox.com"},{name:"themarex",email:"patrick@mapbox.com"},{name:"tmcw",email:"tom@macwright.org"},{name:"tristen",email:"tristen.brown@gmail.com"},{name:"willwhite",email:"will@mapbox.com"},{name:"yhahn",email:"young@mapbox.com"}],dist:{shasum:"72e64514ed34b539da33869ee28fbacbd1474159",tarball:"http://registry.npmjs.org/mapbox.js/-/mapbox.js-2.2.4.tgz"},directories:{},_resolved:"https://registry.npmjs.org/mapbox.js/-/mapbox.js-2.2.4.tgz"}},{}],169:[function(t,e,n){"use strict";e.exports={HTTP_URL:"http://a.tiles.mapbox.com/v4",HTTPS_URL:"https://a.tiles.mapbox.com/v4",FORCE_HTTPS:!1,REQUIRE_ACCESS_TOKEN:!0}},{}],170:[function(t,e,n){"use strict";var i=t("./util"),r=t("./format_url"),o=t("./request"),a=t("./marker"),s=t("./simplestyle"),u=L.FeatureGroup.extend({options:{filter:function(){return!0},sanitizer:t("sanitize-caja"),style:s.style,popupOptions:{closeButton:!1}},initialize:function(t,e){L.setOptions(this,e),this._layers={},"string"==typeof t?i.idUrl(t,this):t&&"object"==typeof t&&this.setGeoJSON(t)},setGeoJSON:function(t){return this._geojson=t,this.clearLayers(),this._initialize(t),this},getGeoJSON:function(){return this._geojson},loadURL:function(t){return this._request&&"abort"in this._request&&this._request.abort(),this._request=o(t,L.bind(function(e,n){this._request=null,e&&"abort"!==e.type?(i.log("could not load features at "+t),this.fire("error",{error:e})):n&&(this.setGeoJSON(n),this.fire("ready"))},this)),this},loadID:function(t){return this.loadURL(r("/v4/"+t+"/features.json",this.options.accessToken))},setFilter:function(t){return this.options.filter=t,this._geojson&&(this.clearLayers(),this._initialize(this._geojson)),this},getFilter:function(){return this.options.filter},_initialize:function(t){var e,n,i=L.Util.isArray(t)?t:t.features;if(i)for(e=0,n=i.length;n>e;e++)(i[e].geometries||i[e].geometry||i[e].features)&&this._initialize(i[e]);else if(this.options.filter(t)){var r={accessToken:this.options.accessToken},o=this.options.pointToLayer||function(t,e){return a.style(t,e,r)},u=L.GeoJSON.geometryToLayer(t,o),l=a.createPopup(t,this.options.sanitizer),c=this.options.style,h=c===s.style;!(c&&"setStyle"in u)||h&&(u instanceof L.Circle||u instanceof L.CircleMarker)||("function"==typeof c&&(c=c(t)),u.setStyle(c)),u.feature=t,l&&u.bindPopup(l,this.options.popupOptions),this.addLayer(u)}}});e.exports.FeatureLayer=u,e.exports.featureLayer=function(t,e){return new u(t,e)}},{"./format_url":172,"./marker":185,"./request":186,"./simplestyle":188,"./util":190,"sanitize-caja":166}],171:[function(t,e,n){"use strict";var i=L.Class.extend({includes:L.Mixin.Events,data:{},record:function(t){L.extend(this.data,t),this.fire("change")}});e.exports=new i},{}],172:[function(t,e,n){"use strict";var i=t("./config"),r=t("../package.json").version;e.exports=function(t,e){if(e=e||L.mapbox.accessToken,!e&&i.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox.js. See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");var n="https:"===document.location.protocol||i.FORCE_HTTPS?i.HTTPS_URL:i.HTTP_URL;if(n=n.replace(/\/v4$/,""),n+=t,n+=-1!==n.indexOf("?")?"&access_token=":"?access_token=",i.REQUIRE_ACCESS_TOKEN){if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox.js, not a secret access token (sk.*). See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");n+=e}return n},e.exports.tileJSON=function(t,n){if(-1!==t.indexOf("/"))return t;var i=e.exports("/v4/"+t+".json",n);return 0===i.indexOf("https")&&(i+="&secure"),i}},{"../package.json":168,"./config":169}],173:[function(t,e,n){"use strict";var i=t("isarray"),r=t("./util"),o=t("./format_url"),a=t("./feedback"),s=t("./request");e.exports=function(t,e){function n(t,e){var n=Math.pow(10,e);return t.lat=Math.round(t.lat*n)/n,t.lng=Math.round(t.lng*n)/n,t}e||(e={});var u={};return r.strict(t,"string"),-1===t.indexOf("/")&&(t=o("/geocoding/v5/"+t+"/{query}.json",e.accessToken,5)),u.getURL=function(){return t},u.queryURL=function(t){var e=!(i(t)||"string"==typeof t),r=e?t.query:t;if(i(r)){for(var o=[],s=0;s<r.length;s++)o[s]=encodeURIComponent(r[s]);r=o.join(";")}else r=encodeURIComponent(r);a.record({geocoding:r});var l=L.Util.template(u.getURL(),{query:r});if(e&&t.types&&(l+=i(t.types)?"&types="+t.types.join():"&types="+t.types),e&&t.proximity){var c=n(L.latLng(t.proximity),3);l+="&proximity="+c.lng+","+c.lat}return l},u.query=function(t,e){return r.strict(e,"function"),s(u.queryURL(t),function(t,n){if(n&&(n.length||n.features)){var i={results:n};n.features&&n.features.length&&(i.latlng=[n.features[0].center[1],n.features[0].center[0]],n.features[0].bbox&&(i.bounds=n.features[0].bbox,i.lbounds=r.lbounds(i.bounds))),e(null,i)}else e(t||!0)}),u},u.reverseQuery=function(t,e){function i(t){var e;return e=void 0!==t.lat&&void 0!==t.lng?L.latLng(t.lat,t.lng):void 0!==t.lat&&void 0!==t.lon?L.latLng(t.lat,t.lon):L.latLng(t[1],t[0]),e=n(e,5),e.lng+","+e.lat}var r="";if(t.length&&t[0].length){for(var o=0,a=[];o<t.length;o++)a.push(i(t[o]));r=a.join(";")}else r=i(t);return s(u.queryURL(r),function(t,n){e(t,n)}),u},u}},{"./feedback":171,"./format_url":172,"./request":186,"./util":190,isarray:163}],174:[function(t,e,n){"use strict";var i=t("./geocoder"),r=t("./util"),o=L.Control.extend({includes:L.Mixin.Events,options:{proximity:!0,position:"topleft",pointZoom:16,keepOpen:!1,autocomplete:!1},initialize:function(t,e){L.Util.setOptions(this,e),this.setURL(t),this._updateSubmit=L.bind(this._updateSubmit,this),this._updateAutocomplete=L.bind(this._updateAutocomplete,this),this._chooseResult=L.bind(this._chooseResult,this)},setURL:function(t){return this.geocoder=i(t,{accessToken:this.options.accessToken}),this},getURL:function(){return this.geocoder.getURL()},setID:function(t){return this.setURL(t)},setTileJSON:function(t){return this.setURL(t.geocoder)},_toggle:function(t){t&&L.DomEvent.stop(t),L.DomUtil.hasClass(this._container,"active")?(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur()):(L.DomUtil.addClass(this._container,"active"),this._input.focus(),this._input.select())},_closeIfOpen:function(){L.DomUtil.hasClass(this._container,"active")&&!this.options.keepOpen&&(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur())},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-mapbox-geocoder leaflet-bar leaflet-control"),n=L.DomUtil.create("a","leaflet-control-mapbox-geocoder-toggle mapbox-icon mapbox-icon-geocoder",e),i=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-results",e),r=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-wrap",e),o=L.DomUtil.create("form","leaflet-control-mapbox-geocoder-form",r),a=L.DomUtil.create("input","",o);return n.href="#",n.innerHTML="&nbsp;",a.type="text",a.setAttribute("placeholder","Search"),L.DomEvent.addListener(o,"submit",this._geocode,this),L.DomEvent.addListener(a,"keyup",this._autocomplete,this),L.DomEvent.disableClickPropagation(e),this._map=t,this._results=i,this._input=a,this._form=o,this.options.keepOpen?L.DomUtil.addClass(e,"active"):(this._map.on("click",this._closeIfOpen,this),L.DomEvent.addListener(n,"click",this._toggle,this)),e},_updateSubmit:function(t,e){if(L.DomUtil.removeClass(this._container,"searching"),this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var n=[];e.results&&e.results.features&&(n=e.results.features),1===n.length?(this.fire("autoselect",{feature:n[0]}),this.fire("found",{results:e.results}),this._chooseResult(n[0]),this._closeIfOpen()):n.length>1?(this.fire("found",{results:e.results}),this._displayResults(n)):this._displayResults(n)}},_updateAutocomplete:function(t,e){if(this._results.innerHTML="",t||!e)this.fire("error",{error:t});else{var n=[];e.results&&e.results.features&&(n=e.results.features),n.length&&this.fire("found",{results:e.results}),this._displayResults(n)}},_displayResults:function(t){for(var e=0,n=Math.min(t.length,5);n>e;e++){var i=t[e],r=i.place_name;if(r.length){var o=L.DomUtil.create("a","",this._results),a="innerText"in o?"innerText":"textContent";o[a]=r,o.setAttribute("title",r),o.href="#",L.bind(function(t){L.DomEvent.addListener(o,"click",function(e){this._chooseResult(t),L.DomEvent.stop(e),this.fire("select",{feature:t})},this)},this)(i)}}if(t.length>5){var s=L.DomUtil.create("span","",this._results);s.innerHTML="Top 5 of "+t.length+"  results"}},_chooseResult:function(t){t.bbox?this._map.fitBounds(r.lbounds(t.bbox)):t.center&&this._map.setView([t.center[1],t.center[0]],void 0===this._map.getZoom()?this.options.pointZoom:Math.max(this._map.getZoom(),this.options.pointZoom))},_geocode:function(t){return L.DomEvent.preventDefault(t),""===this._input.value?this._updateSubmit():(L.DomUtil.addClass(this._container,"searching"),void this.geocoder.query({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this._updateSubmit))},_autocomplete:function(){return this.options.autocomplete?""===this._input.value?this._updateAutocomplete():void this.geocoder.query({query:this._input.value,proximity:this.options.proximity?this._map.getCenter():!1},this._updateAutocomplete):void 0}});e.exports.GeocoderControl=o,e.exports.geocoderControl=function(t,e){return new o(t,e)}},{"./geocoder":173,"./util":190}],175:[function(t,e,n){"use strict";function i(t){return t>=93&&t--,t>=35&&t--,t-32}e.exports=function(t){return function(e,n){if(t){var r=i(t.grid[n].charCodeAt(e)),o=t.keys[r];return t.data[o]}}}},{}],176:[function(t,e,n){"use strict";var i=t("./util"),r=t("mustache"),o=L.Control.extend({options:{pinnable:!0,follow:!1,sanitizer:t("sanitize-caja"),touchTeaser:!0,location:!0},_currentContent:"",_pinned:!1,initialize:function(t,e){L.Util.setOptions(this,e),i.strict_instance(t,L.Class,"L.mapbox.gridLayer"),this._layer=t},setTemplate:function(t){return i.strict(t,"string"),this.options.template=t,this},_template:function(t,e){if(e){var n=this.options.template||this._layer.getTileJSON().template;if(n){var i={};return i["__"+t+"__"]=!0,this.options.sanitizer(r.to_html(n,L.extend(i,e)))}}},_show:function(t,e){t!==this._currentContent&&(this._currentContent=t,this.options.follow?(this._popup.setContent(t).setLatLng(e.latLng),this._map._popup!==this._popup&&this._popup.openOn(this._map)):(this._container.style.display="block",this._contentWrapper.innerHTML=t))},hide:function(){return this._pinned=!1,this._currentContent="",this._map.closePopup(),this._container.style.display="none",this._contentWrapper.innerHTML="",L.DomUtil.removeClass(this._container,"closable"),this},_mouseover:function(t){if(t.data?L.DomUtil.addClass(this._map._container,"map-clickable"):L.DomUtil.removeClass(this._map._container,"map-clickable"),!this._pinned){var e=this._template("teaser",t.data);e?this._show(e,t):this.hide()}},_mousemove:function(t){this._pinned||this.options.follow&&this._popup.setLatLng(t.latLng)},_navigateTo:function(t){window.top.location.href=t},_click:function(t){var e=this._template("location",t.data);if(this.options.location&&e&&0===e.search(/^https?:/))return this._navigateTo(this._template("location",t.data));if(this.options.pinnable){var n=this._template("full",t.data);!n&&this.options.touchTeaser&&L.Browser.touch&&(n=this._template("teaser",t.data)),n?(L.DomUtil.addClass(this._container,"closable"),this._pinned=!0,this._show(n,t)):this._pinned&&(L.DomUtil.removeClass(this._container,"closable"),this._pinned=!1,this.hide())}},_onPopupClose:function(){this._currentContent=null,this._pinned=!1},_createClosebutton:function(t,e){var n=L.DomUtil.create("a","close",t);return n.innerHTML="close",n.href="#",n.title="close",L.DomEvent.on(n,"click",L.DomEvent.stopPropagation).on(n,"mousedown",L.DomEvent.stopPropagation).on(n,"dblclick",L.DomEvent.stopPropagation).on(n,"click",L.DomEvent.preventDefault).on(n,"click",e,this),n},onAdd:function(t){this._map=t;var e="leaflet-control-grid map-tooltip",n=L.DomUtil.create("div",e),i=L.DomUtil.create("div","map-tooltip-content");return n.style.display="none",this._createClosebutton(n,this.hide),n.appendChild(i),this._contentWrapper=i,this._popup=new L.Popup({autoPan:!1,closeOnClick:!1}),t.on("popupclose",this._onPopupClose,this),L.DomEvent.disableClickPropagation(n).addListener(n,"mousewheel",L.DomEvent.stopPropagation),this._layer.on("mouseover",this._mouseover,this).on("mousemove",this._mousemove,this).on("click",this._click,this),n},onRemove:function(t){t.off("popupclose",this._onPopupClose,this),this._layer.off("mouseover",this._mouseover,this).off("mousemove",this._mousemove,this).off("click",this._click,this)}});e.exports.GridControl=o,e.exports.gridControl=function(t,e){return new o(t,e)}},{"./util":190,mustache:165,"sanitize-caja":166}],177:[function(t,e,n){"use strict";var i=t("./util"),r=t("./request"),o=t("./grid"),a=L.Class.extend({includes:[L.Mixin.Events,t("./load_tilejson")],options:{template:function(){return""}},_mouseOn:null,_tilejson:{},_cache:{},initialize:function(t,e){L.Util.setOptions(this,e),this._loadTileJSON(t)},_setTileJSON:function(t){return i.strict(t,"object"),L.extend(this.options,{grids:t.grids,minZoom:t.minzoom,maxZoom:t.maxzoom,bounds:t.bounds&&i.lbounds(t.bounds)}),this._tilejson=t,this._cache={},this._update(),this},getTileJSON:function(){return this._tilejson},active:function(){return!!(this._map&&this.options.grids&&this.options.grids.length)},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t,this._update(),this._map.on("click",this._click,this).on("mousemove",this._move,this).on("moveend",this._update,this)},onRemove:function(){this._map.off("click",this._click,this).off("mousemove",this._move,this).off("moveend",this._update,this)},getData:function(t,e){if(this.active()){var n=this._map,i=n.project(t.wrap()),r=256,o=4,a=Math.floor(i.x/r),s=Math.floor(i.y/r),u=n.options.crs.scale(n.getZoom())/r;return a=(a+u)%u,s=(s+u)%u,this._getTile(n.getZoom(),a,s,function(t){var n=Math.floor((i.x-a*r)/o),u=Math.floor((i.y-s*r)/o);e(t(n,u))}),this}},_click:function(t){this.getData(t.latlng,L.bind(function(e){this.fire("click",{latLng:t.latlng,data:e})},this))},_move:function(t){this.getData(t.latlng,L.bind(function(e){e!==this._mouseOn?(this._mouseOn&&this.fire("mouseout",{latLng:t.latlng,data:this._mouseOn}),this.fire("mouseover",{latLng:t.latlng,data:e}),this._mouseOn=e):this.fire("mousemove",{latLng:t.latlng,data:e})},this))},_getTileURL:function(t){var e=this.options.grids,n=(t.x+t.y)%e.length,i=e[n];return L.Util.template(i,t)},_update:function(){if(this.active()){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=256;if(!(e>this.options.maxZoom||e<this.options.minZoom))for(var i=L.bounds(t.min.divideBy(n)._floor(),t.max.divideBy(n)._floor()),r=this._map.options.crs.scale(e)/n,o=i.min.x;o<=i.max.x;o++)for(var a=i.min.y;a<=i.max.y;a++)this._getTile(e,(o%r+r)%r,(a%r+r)%r)}},_getTile:function(t,e,n,i){var a=t+"_"+e+"_"+n,s=L.point(e,n);if(s.z=t,this._tileShouldBeLoaded(s)){if(a in this._cache){if(!i)return;return void("function"==typeof this._cache[a]?i(this._cache[a]):this._cache[a].push(i))}this._cache[a]=[],i&&this._cache[a].push(i),r(this._getTileURL(s),L.bind(function(t,e){var n=this._cache[a];this._cache[a]=o(e);for(var i=0;i<n.length;++i)n[i](this._cache[a])},this))}},_tileShouldBeLoaded:function(t){if(t.z>this.options.maxZoom||t.z<this.options.minZoom)return!1;if(this.options.bounds){var e=256,n=t.multiplyBy(e),i=n.add(new L.Point(e,e)),r=this._map.unproject(n),o=this._map.unproject(i),a=new L.LatLngBounds([r,o]);if(!this.options.bounds.intersects(a))return!1}return!0}});e.exports.GridLayer=a,e.exports.gridLayer=function(t,e){return new a(t,e)}},{"./grid":175,"./load_tilejson":181,"./request":186,"./util":190}],178:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:t("sanitize-caja")},initialize:function(t){L.setOptions(this,t),this._info={},console.warn("infoControl has been deprecated and will be removed in mapbox.js v3.0.0. Use the default attribution control instead, which is now responsive.")},onAdd:function(t){this._container=L.DomUtil.create("div","mapbox-control-info mapbox-small"),this._content=L.DomUtil.create("div","map-info-container",this._container);var e=L.DomUtil.create("a","mapbox-info-toggle mapbox-icon mapbox-icon-info",this._container);e.href="#",L.DomEvent.addListener(e,"click",this._showInfo,this),L.DomEvent.disableClickPropagation(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addInfo(t._layers[n].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd,this).off("layerremove",this._onLayerRemove,this)},addInfo:function(t){return t?(this._info[t]||(this._info[t]=0),this._info[t]=!0,this._update()):this},removeInfo:function(t){return t?(this._info[t]&&(this._info[t]=!1),this._update()):this},_showInfo:function(t){return L.DomEvent.preventDefault(t),this._active===!0?this._hidecontent():(L.DomUtil.addClass(this._container,"active"),this._active=!0,void this._update())},_hidecontent:function(){this._content.innerHTML="",this._active=!1,L.DomUtil.removeClass(this._container,"active")},_update:function(){if(!this._map)return this;this._content.innerHTML="";var t="none",e=[];for(var n in this._info)this._info.hasOwnProperty(n)&&this._info[n]&&(e.push(this.options.sanitizer(n)),t="block");return this._content.innerHTML+=e.join(" | "),this._container.style.display=t,this},_onLayerAdd:function(t){t.layer.getAttribution&&t.layer.getAttribution()?this.addInfo(t.layer.getAttribution()):"on"in t.layer&&t.layer.getAttribution&&t.layer.on("ready",L.bind(function(){this.addInfo(t.layer.getAttribution())},this))},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeInfo(t.layer.getAttribution())}});e.exports.InfoControl=i,e.exports.infoControl=function(t){return new i(t)}},{"sanitize-caja":166}],179:[function(t,e,n){e.exports=window.L=t("leaflet/dist/leaflet-src")},{"leaflet/dist/leaflet-src":164}],180:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:t("sanitize-caja")},initialize:function(t){L.setOptions(this,t),this._legends={}},onAdd:function(){return this._container=L.DomUtil.create("div","map-legends wax-legends"),L.DomEvent.disableClickPropagation(this._container),this._update(),this._container},addLegend:function(t){return t?(this._legends[t]||(this._legends[t]=0),this._legends[t]++,this._update()):this},removeLegend:function(t){return t?(this._legends[t]&&this._legends[t]--,this._update()):this},_update:function(){if(!this._map)return this;this._container.innerHTML="";var t="none";for(var e in this._legends)if(this._legends.hasOwnProperty(e)&&this._legends[e]){var n=L.DomUtil.create("div","map-legend wax-legend",this._container);n.innerHTML=this.options.sanitizer(e),t="block"}return this._container.style.display=t,this}});e.exports.LegendControl=i,e.exports.legendControl=function(t){return new i(t)}},{"sanitize-caja":166}],181:[function(t,e,n){"use strict";var i=t("./request"),r=t("./format_url"),o=t("./util");e.exports={_loadTileJSON:function(t){"string"==typeof t?(t=r.tileJSON(t,this.options&&this.options.accessToken),
i(t,L.bind(function(e,n){e?(o.log("could not load TileJSON at "+t),this.fire("error",{error:e})):n&&(this._setTileJSON(n),this.fire("ready"))},this))):t&&"object"==typeof t&&this._setTileJSON(t)}}},{"./format_url":172,"./request":186,"./util":190}],182:[function(t,e,n){"use strict";function i(t,e){return!e||t.accessToken?t:L.extend({accessToken:e},t)}var r=t("./tile_layer").tileLayer,o=t("./feature_layer").featureLayer,a=t("./grid_layer").gridLayer,s=t("./grid_control").gridControl,u=t("./info_control").infoControl,l=t("./share_control").shareControl,c=t("./legend_control").legendControl,h=t("./mapbox_logo").mapboxLogoControl,p=t("./feedback"),f=L.Map.extend({includes:[t("./load_tilejson")],options:{tileLayer:{},featureLayer:{},gridLayer:{},legendControl:{},gridControl:{},infoControl:!1,shareControl:!1,sanitizer:t("sanitize-caja")},_tilejson:{},initialize:function(t,e,n){if(L.Map.prototype.initialize.call(this,t,L.extend({},L.Map.prototype.options,n)),this.attributionControl){this.attributionControl.setPrefix("");var f=this.options.attributionControl.compact;(f||f!==!1&&this._container.offsetWidth<=640)&&L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution"),void 0===f&&this.on("resize",function(){this._container.offsetWidth>640?L.DomUtil.removeClass(this.attributionControl._container,"leaflet-compact-attribution"):L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution")})}this.options.tileLayer&&(this.tileLayer=r(void 0,i(this.options.tileLayer,this.options.accessToken)),this.addLayer(this.tileLayer)),this.options.featureLayer&&(this.featureLayer=o(void 0,i(this.options.featureLayer,this.options.accessToken)),this.addLayer(this.featureLayer)),this.options.gridLayer&&(this.gridLayer=a(void 0,i(this.options.gridLayer,this.options.accessToken)),this.addLayer(this.gridLayer)),this.options.gridLayer&&this.options.gridControl&&(this.gridControl=s(this.gridLayer,this.options.gridControl),this.addControl(this.gridControl)),this.options.infoControl&&(this.infoControl=u(this.options.infoControl),this.addControl(this.infoControl)),this.options.legendControl&&(this.legendControl=c(this.options.legendControl),this.addControl(this.legendControl)),this.options.shareControl&&(this.shareControl=l(void 0,i(this.options.shareControl,this.options.accessToken)),this.addControl(this.shareControl)),this._mapboxLogoControl=h(this.options.mapboxLogoControl),this.addControl(this._mapboxLogoControl),this._loadTileJSON(e),this.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this).on("moveend",this._updateMapFeedbackLink,this),this.whenReady(function(){p.on("change",this._updateMapFeedbackLink,this)}),this.on("unload",function(){p.off("change",this._updateMapFeedbackLink,this)})},_setTileJSON:function(t){return this._tilejson=t,this._initialize(t),this},getTileJSON:function(){return this._tilejson},_initialize:function(t){if(this.tileLayer&&(this.tileLayer._setTileJSON(t),this._updateLayer(this.tileLayer)),this.featureLayer&&!this.featureLayer.getGeoJSON()&&t.data&&t.data[0]&&this.featureLayer.loadURL(t.data[0]),this.gridLayer&&(this.gridLayer._setTileJSON(t),this._updateLayer(this.gridLayer)),this.infoControl&&t.attribution&&(this.infoControl.addInfo(this.options.sanitizer(t.attribution)),this._updateMapFeedbackLink()),this.legendControl&&t.legend&&this.legendControl.addLegend(t.legend),this.shareControl&&this.shareControl._setTileJSON(t),this._mapboxLogoControl._setTileJSON(t),!this._loaded&&t.center){var e=void 0!==this.getZoom()?this.getZoom():t.center[2],n=L.latLng(t.center[1],t.center[0]);this.setView(n,e)}},_updateMapFeedbackLink:function(){if(this._controlContainer.getElementsByClassName){var t=this._controlContainer.getElementsByClassName("mapbox-improve-map");if(t.length&&this._loaded){var e=this.getCenter().wrap(),n=this._tilejson||{},i=n.id||"",r="#"+i+"/"+e.lng.toFixed(3)+"/"+e.lat.toFixed(3)+"/"+this.getZoom();for(var o in p.data)r+="/"+o+"="+p.data[o];for(var a=0;a<t.length;a++)t[a].hash=r}}},_onLayerAdd:function(t){"on"in t.layer&&t.layer.on("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerRemove:function(t){"on"in t.layer&&t.layer.off("ready",this._onLayerReady,this),window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerReady:function(t){this._updateLayer(t.target)},_updateLayer:function(t){t.options&&(this.infoControl&&this._loaded&&this.infoControl.addInfo(t.options.infoControl),this.attributionControl&&this._loaded&&t.getAttribution&&this.attributionControl.addAttribution(t.getAttribution()),L.stamp(t)in this._zoomBoundLayers||!t.options.maxZoom&&!t.options.minZoom||(this._zoomBoundLayers[L.stamp(t)]=t),this._updateMapFeedbackLink(),this._updateZoomLevels())}});e.exports.Map=f,e.exports.map=function(t,e,n){return new f(t,e,n)}},{"./feature_layer":170,"./feedback":171,"./grid_control":176,"./grid_layer":177,"./info_control":178,"./legend_control":180,"./load_tilejson":181,"./mapbox_logo":184,"./share_control":187,"./tile_layer":189,"sanitize-caja":166}],183:[function(t,e,n){"use strict";var i=t("./geocoder_control"),r=t("./grid_control"),o=t("./feature_layer"),a=t("./legend_control"),s=t("./share_control"),u=t("./tile_layer"),l=t("./info_control"),c=t("./map"),h=t("./grid_layer");L.mapbox=e.exports={VERSION:t("../package.json").version,geocoder:t("./geocoder"),marker:t("./marker"),simplestyle:t("./simplestyle"),tileLayer:u.tileLayer,TileLayer:u.TileLayer,infoControl:l.infoControl,InfoControl:l.InfoControl,shareControl:s.shareControl,ShareControl:s.ShareControl,legendControl:a.legendControl,LegendControl:a.LegendControl,geocoderControl:i.geocoderControl,GeocoderControl:i.GeocoderControl,gridControl:r.gridControl,GridControl:r.GridControl,gridLayer:h.gridLayer,GridLayer:h.GridLayer,featureLayer:o.featureLayer,FeatureLayer:o.FeatureLayer,map:c.map,Map:c.Map,config:t("./config"),sanitize:t("sanitize-caja"),template:t("mustache").to_html,feedback:t("./feedback")},window.L.Icon.Default.imagePath=("https:"===document.location.protocol||"http:"===document.location.protocol?"":"https:")+"//api.tiles.mapbox.com/mapbox.js/v"+t("../package.json").version+"/images"},{"../package.json":168,"./config":169,"./feature_layer":170,"./feedback":171,"./geocoder":173,"./geocoder_control":174,"./grid_control":176,"./grid_layer":177,"./info_control":178,"./legend_control":180,"./map":182,"./marker":185,"./share_control":187,"./simplestyle":188,"./tile_layer":189,mustache:165,"sanitize-caja":166}],184:[function(t,e,n){"use strict";var i=L.Control.extend({options:{position:"bottomleft"},initialize:function(t){L.setOptions(this,t)},onAdd:function(){return this._container=L.DomUtil.create("div","mapbox-logo"),this._container},_setTileJSON:function(t){t.mapbox_logo&&L.DomUtil.addClass(this._container,"mapbox-logo-true")}});e.exports.MapboxLogoControl=i,e.exports.mapboxLogoControl=function(t){return new i(t)}},{}],185:[function(t,e,n){"use strict";function i(t,e){t=t||{};var n={small:[20,50],medium:[30,70],large:[35,90]},i=t["marker-size"]||"medium",r="marker-symbol"in t&&""!==t["marker-symbol"]?"-"+t["marker-symbol"]:"",o=(t["marker-color"]||"7e7e7e").replace("#","");return L.icon({iconUrl:a("/v4/marker/pin-"+i.charAt(0)+r+"+"+o+(L.Browser.retina?"@2x":"")+".png",e&&e.accessToken),iconSize:n[i],iconAnchor:[n[i][0]/2,n[i][1]/2],popupAnchor:[0,-n[i][1]/2]})}function r(t,e,n){return L.marker(e,{icon:i(t.properties,n),title:s.strip_tags(u(t.properties&&t.properties.title||""))})}function o(t,e){if(!t||!t.properties)return"";var n="";return t.properties.title&&(n+='<div class="marker-title">'+t.properties.title+"</div>"),t.properties.description&&(n+='<div class="marker-description">'+t.properties.description+"</div>"),(e||u)(n)}var a=t("./format_url"),s=t("./util"),u=t("sanitize-caja");e.exports={icon:i,style:r,createPopup:o}},{"./format_url":172,"./util":190,"sanitize-caja":166}],186:[function(t,e,n){"use strict";var i=t("corslite"),r=t("./util").strict,o=t("./config"),a=/^(https?:)?(?=\/\/(.|api)\.tiles\.mapbox\.com\/)/;e.exports=function(t,e){function n(t,n){!t&&n&&(n=JSON.parse(n.responseText)),e(t,n)}return r(t,"string"),r(e,"function"),t=t.replace(a,function(t,e){return"withCredentials"in new window.XMLHttpRequest?"https:"===e||"https:"===document.location.protocol||o.FORCE_HTTPS?"https:":"http:":document.location.protocol}),i(t,n)}},{"./config":169,"./util":190,corslite:162}],187:[function(t,e,n){"use strict";var i=t("./format_url"),r=L.Control.extend({includes:[t("./load_tilejson")],options:{position:"topleft",url:""},initialize:function(t,e){L.setOptions(this,e),this._loadTileJSON(t)},_setTileJSON:function(t){this._tilejson=t},onAdd:function(t){this._map=t;var e=L.DomUtil.create("div","leaflet-control-mapbox-share leaflet-bar"),n=L.DomUtil.create("a","mapbox-share mapbox-icon mapbox-icon-share",e);return n.href="#",this._modal=L.DomUtil.create("div","mapbox-modal",this._map._container),this._mask=L.DomUtil.create("div","mapbox-modal-mask",this._modal),this._content=L.DomUtil.create("div","mapbox-modal-content",this._modal),L.DomEvent.addListener(n,"click",this._shareClick,this),L.DomEvent.disableClickPropagation(e),this._map.on("mousedown",this._clickOut,this),e},_clickOut:function(t){return this._sharing?(L.DomEvent.preventDefault(t),L.DomUtil.removeClass(this._modal,"active"),this._content.innerHTML="",void(this._sharing=null)):void 0},_shareClick:function(t){function e(t,e,n){var i=document.createElement("a");return i.setAttribute("class",t),i.setAttribute("href",e),i.setAttribute("target","_blank"),n=document.createTextNode(n),i.appendChild(n),i}if(L.DomEvent.stop(t),this._sharing)return this._clickOut(t);var n=this._tilejson||this._map._tilejson||{},r=encodeURIComponent(this.options.url||n.webpage||window.location),o=encodeURIComponent(n.name),a=i("/v4/"+n.id+"/"+this._map.getCenter().lng+","+this._map.getCenter().lat+","+this._map.getZoom()+"/600x600.png",this.options.accessToken),s=i("/v4/"+n.id+".html",this.options.accessToken),u="//twitter.com/intent/tweet?status="+o+" "+r,l="//www.facebook.com/sharer.php?u="+r+"&t="+o,c="//www.pinterest.com/pin/create/button/?url="+r+"&media="+a+"&description="+o,h='<iframe width="100%" height="500px" frameBorder="0" src="'+s+'"></iframe>',p="Copy and paste this <strong>HTML code</strong> into documents to embed this map on web pages.";L.DomUtil.addClass(this._modal,"active"),this._sharing=L.DomUtil.create("div","mapbox-modal-body",this._content);var f=e("mapbox-button mapbox-button-icon mapbox-icon-twitter",u,"Twitter"),d=e("mapbox-button mapbox-button-icon mapbox-icon-facebook",l,"Facebook"),m=e("mapbox-button mapbox-button-icon mapbox-icon-pinterest",c,"Pinterest"),g=document.createElement("h3"),v=document.createTextNode("Share this map");g.appendChild(v);var _=document.createElement("div");_.setAttribute("class","mapbox-share-buttons"),_.appendChild(d),_.appendChild(f),_.appendChild(m),this._sharing.appendChild(g),this._sharing.appendChild(_);var y=L.DomUtil.create("input","mapbox-embed",this._sharing);y.type="text",y.value=h;var b=L.DomUtil.create("label","mapbox-embed-description",this._sharing);b.innerHTML=p;var x=L.DomUtil.create("a","leaflet-popup-close-button",this._sharing);x.href="#",L.DomEvent.disableClickPropagation(this._sharing),L.DomEvent.addListener(x,"click",this._clickOut,this),L.DomEvent.addListener(y,"click",function(t){t.target.focus(),t.target.select()})}});e.exports.ShareControl=r,e.exports.shareControl=function(t,e){return new r(t,e)}},{"./format_url":172,"./load_tilejson":181}],188:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in e)void 0===t[i]?n[i]=e[i]:n[i]=t[i];return n}function r(t){for(var e={},n=0;n<s.length;n++)e[s[n][1]]=t[s[n][0]];return e}function o(t){return r(i(t.properties||{},a))}var a={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5},s=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"]];e.exports={style:o,defaults:a}},{}],189:[function(t,e,n){"use strict";var i=t("./util"),r=/\.((?:png|jpg)\d*)(?=$|\?)/,o=L.TileLayer.extend({includes:[t("./load_tilejson")],options:{sanitizer:t("sanitize-caja")},formats:["png","jpg","png32","png64","png128","png256","jpg70","jpg80","jpg90"],scalePrefix:"@2x.",initialize:function(t,e){L.TileLayer.prototype.initialize.call(this,void 0,e),this._tilejson={},e&&e.format&&i.strict_oneof(e.format,this.formats),this._loadTileJSON(t)},setFormat:function(t){return i.strict(t,"string"),this.options.format=t,this.redraw(),this},setUrl:null,_setTileJSON:function(t){return i.strict(t,"object"),this.options.format=this.options.format||t.tiles[0].match(r)[1],L.extend(this.options,{tiles:t.tiles,attribution:this.options.sanitizer(t.attribution),minZoom:t.minzoom||0,maxZoom:t.maxzoom||18,tms:"tms"===t.scheme,bounds:t.bounds&&i.lbounds(t.bounds)}),this._tilejson=t,this.redraw(),this},getTileJSON:function(){return this._tilejson},getTileUrl:function(t){var e=this.options.tiles,n=Math.floor(Math.abs(t.x+t.y)%e.length),i=e[n],o=L.Util.template(i,t);return o?o.replace(r,(L.Browser.retina?this.scalePrefix:".")+this.options.format):o},_update:function(){this.options.tiles&&L.TileLayer.prototype._update.call(this)}});e.exports.TileLayer=o,e.exports.tileLayer=function(t,e){return new o(t,e)}},{"./load_tilejson":181,"./util":190,"sanitize-caja":166}],190:[function(t,e,n){"use strict";function i(t,e){if(!e||!e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}e.exports={idUrl:function(t,e){-1===t.indexOf("/")?e.loadID(t):e.loadURL(t)},log:function(t){"object"==typeof console&&"function"==typeof console.error&&console.error(t)},strict:function(t,e){if(typeof t!==e)throw new Error("Invalid argument: "+e+" expected")},strict_instance:function(t,e,n){if(!(t instanceof e))throw new Error("Invalid argument: "+n+" expected")},strict_oneof:function(t,e){if(!i(t,e))throw new Error("Invalid argument: "+t+" given, valid values are "+e.join(", "))},strip_tags:function(t){return t.replace(/<[^<]+>/g,"")},lbounds:function(t){return new L.LatLngBounds([[t[1],t[0]],[t[3],t[2]]])}}},{}],191:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)e(t[n])}function r(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,n){var i=t;return h(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=f(e,{uri:t}),i.callback=n,i}function a(t,e,n){return e=o(t,e,n),s(e)}function s(t){function e(){4===l.readyState&&o()}function n(){var t=void 0;if(l.response?t=l.response:"text"!==l.responseType&&l.responseType||(t=l.responseText||l.responseXML),b)try{t=JSON.parse(t)}catch(e){}return t}function i(t){clearTimeout(d),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,u)}function o(){if(!f){var e;clearTimeout(d),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var i=u,r=null;0!==e?(i={body:n(),statusCode:e,method:g,headers:{},url:m,rawRequest:l},l.getAllResponseHeaders&&(i.headers=p(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),s(r,i,i.body)}}var s=t.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=c(s);var u={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:l},l=t.xhr||null;l||(l=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var h,f,d,m=l.url=t.uri||t.url,g=l.method=t.method||"GET",v=t.body||t.data||null,_=l.headers=t.headers||{},y=!!t.sync,b=!1;if("json"in t&&(b=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),v=JSON.stringify(t.json))),l.onreadystatechange=e,l.onload=o,l.onerror=i,l.onprogress=function(){},l.ontimeout=i,l.open(g,m,!y,t.username,t.password),y||(l.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(d=setTimeout(function(){f=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)},t.timeout)),l.setRequestHeader)for(h in _)_.hasOwnProperty(h)&&l.setRequestHeader(h,_[h]);else if(t.headers&&!r(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(v),l}function u(){}var l=t("global/window"),c=t("once"),h=t("is-function"),p=t("parse-headers"),f=t("xtend");e.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,i(["get","put","post","patch","head","delete"],function(t){a["delete"===t?"del":t]=function(e,n,i){return n=o(e,n,i),n.method=t.toUpperCase(),s(n)}})},{"global/window":192,"is-function":193,once:194,"parse-headers":197,xtend:198}],192:[function(t,e,n){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],193:[function(t,e,n){function i(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=i;var r=Object.prototype.toString},{}],194:[function(t,e,n){function i(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=i,i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0})})},{}],195:[function(t,e,n){function i(t,e,n){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?r(t,e,n):"string"==typeof t?o(t,e,n):a(t,e,n)}function r(t,e,n){for(var i=0,r=t.length;r>i;i++)l.call(t,i)&&e.call(n,t[i],i,t)}function o(t,e,n){for(var i=0,r=t.length;r>i;i++)e.call(n,t.charAt(i),i,t)}function a(t,e,n){for(var i in t)l.call(t,i)&&e.call(n,t[i],i,t)}var s=t("is-function");e.exports=i;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":193}],196:[function(t,e,n){function i(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=i,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],197:[function(t,e,n){var i=t("trim"),r=t("for-each"),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return r(i(t).split("\n"),function(t){var n=t.indexOf(":"),r=i(t.slice(0,n)).toLowerCase(),a=i(t.slice(n+1));"undefined"==typeof e[r]?e[r]=a:o(e[r])?e[r].push(a):e[r]=[e[r],a]}),e}},{"for-each":195,trim:196}],198:[function(t,e,n){function i(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}e.exports=i;var r=Object.prototype.hasOwnProperty},{}],199:[function(t,e,n){"use strict";function i(t){c=t,h="object"==typeof c}function r(t){for(null===t?t=0:t++;t<c.length&&0===c[t];)t++;return t===c.length?null:t}function o(t){for(null===t?t=c.length-1:t--;t>=0&&0===c[t];)t--;return-1===t?null:t}function a(t){var e=l(t,2),n=e[0],i=e[1];return h?null===i||i===c[n]-1?(n=r(n),null===n?[null,null]:[n,0]):[n,i+1]:0===c||i===c-1?[null,null]:null===i?[null,0]:[null,i+1]}function s(t){var e=l(t,2),n=e[0],i=e[1];return h?null===i||0===i?(n=o(n),null===n?[null,null]:[n,c[n]-1]):[n,i-1]:0===c||0===i?[null,null]:null===i?[null,c-1]:[null,i-1]}function u(t){return null===a(t)[1]}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=void 0,h=void 0;n["default"]={setData:i,next:a,prev:s,isLast:u},e.exports=n["default"]},{}],200:[function(t,e,n){var i=t("date-now");e.exports=function(t,e,n){function r(){var c=i()-u;e>c&&c>0?o=setTimeout(r,e-c):(o=null,n||(l=t.apply(s,a),o||(s=a=null)))}var o,a,s,u,l;return null==e&&(e=100),function(){s=this,a=arguments,u=i();var c=n&&!o;return o||(o=setTimeout(r,e)),c&&(l=t.apply(s,a),s=a=null),l}}},{"date-now":201}],201:[function(t,e,n){function i(){return(new Date).getTime()}e.exports=Date.now||i},{}],202:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var o=t("object-assign"),a=i(o),s=function(t){return t};n["default"]=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];var u=i.map(function(e){return t[e]}).filter(s);return"string"==typeof u[0]?{key:e,className:u.join(" ")}:{key:e,style:a["default"].apply(void 0,[{}].concat(r(u)))}}},e.exports=n["default"]},{"object-assign":"object-assign"}],203:[function(t,e,n){"use strict";function i(){}e.exports=i},{}],204:[function(t,e,n){"use strict";var i=t("invariant"),r=t("can-use-dom"),o={length:1,back:function(){i(r,"Cannot use History.back without a DOM"),o.length-=1,window.history.back()}};e.exports=o},{"can-use-dom":236,invariant:237}],205:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n){var i=t.childRoutes;if(i)for(var o,u,l=0,c=i.length;c>l;++l)if(u=i[l],!u.isDefault&&!u.isNotFound&&(o=r(u,e,n)))return o.routes.unshift(t),o;var h=t.defaultRoute;if(h&&(f=a.extractParams(h.path,e)))return new s(e,f,n,[t,h]);var p=t.notFoundRoute;if(p&&(f=a.extractParams(p.path,e)))return new s(e,f,n,[t,p]);var f=a.extractParams(t.path,e);return f?new s(e,f,n,[t]):null}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./PathUtils"),s=function(){function t(e,n,r,o){i(this,t),this.pathname=e,this.params=n,this.query=r,this.routes=o}return o(t,null,[{key:"findMatch",value:function(t,e){for(var n=a.withoutQuery(e),i=a.extractQuery(e),o=null,s=0,u=t.length;null==o&&u>s;++s)o=r(t[s],n,i);return o}}]),t}();e.exports=s},{"./PathUtils":207}],206:[function(t,e,n){"use strict";var i=t("./PropTypes"),r={contextTypes:{router:i.router.isRequired},makePath:function(t,e,n){return this.context.router.makePath(t,e,n)},makeHref:function(t,e,n){return this.context.router.makeHref(t,e,n)},transitionTo:function(t,e,n){this.context.router.transitionTo(t,e,n)},replaceWith:function(t,e,n){this.context.router.replaceWith(t,e,n)},goBack:function(){return this.context.router.goBack()}};e.exports=r},{"./PropTypes":208}],207:[function(t,e,n){"use strict";function i(t){if(!(t in h)){var e=[],n=t.replace(s,function(t,n){return n?(e.push(n),"([^/?#]+)"):"*"===t?(e.push("splat"),"(.*?)"):"\\"+t});h[t]={matcher:new RegExp("^"+n+"$","i"),paramNames:e}}return h[t]}var r=t("invariant"),o=t("object-assign"),a=t("qs"),s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,u=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,l=/\/\/\?|\/\?\/|\/\?(?![^\/=]+=.*$)/g,c=/\?(.*)$/,h={},p={isAbsolute:function(t){return"/"===t.charAt(0)},join:function(t,e){return t.replace(/\/*$/,"/")+e},extractParamNames:function(t){return i(t).paramNames},extractParams:function(t,e){var n=i(t),r=n.matcher,o=n.paramNames,a=e.match(r);if(!a)return null;var s={};return o.forEach(function(t,e){s[t]=a[e+1]}),s},injectParams:function(t,e){e=e||{};var n=0;return t.replace(u,function(i,o){if(o=o||"splat","?"===o.slice(-1)){if(o=o.slice(0,-1),null==e[o])return""}else r(null!=e[o],'Missing "%s" parameter for path "%s"',o,t);var a;return"splat"===o&&Array.isArray(e[o])?(a=e[o][n++],r(null!=a,'Missing splat # %s for path "%s"',n,t)):a=e[o],a}).replace(l,"/")},extractQuery:function(t){var e=t.match(c);return e&&a.parse(e[1])},withoutQuery:function(t){return t.replace(c,"")},withQuery:function(t,e){var n=p.extractQuery(t);n&&(e=e?o(n,e):n);var i=a.stringify(e,{arrayFormat:"brackets"});return i?p.withoutQuery(t)+"?"+i:p.withoutQuery(t)}};e.exports=p},{invariant:237,"object-assign":"object-assign",qs:238}],208:[function(t,e,n){"use strict";var i=t("react/lib/Object.assign"),r=t("react").PropTypes,o=t("./Route"),a=i({},r,{falsy:function(t,e,n){return t[e]?new Error("<"+n+'> should not have a "'+e+'" prop'):void 0},route:r.instanceOf(o),router:r.func});e.exports=a},{"./Route":210,react:"react","react/lib/Object.assign":268}],209:[function(t,e,n){"use strict";function i(t,e,n){this.to=t,this.params=e,this.query=n}e.exports=i},{}],210:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("react/lib/Object.assign"),s=t("invariant"),u=t("./warning"),l=t("./PathUtils"),c=function(){function t(e,n,r,o,a,s,u,c){i(this,t),this.name=e,this.path=n,this.paramNames=l.extractParamNames(this.path),this.ignoreScrollBehavior=!!r,this.isDefault=!!o,this.isNotFound=!!a,this.onEnter=s,this.onLeave=u,this.handler=c}return o(t,null,[{key:"createRoute",value:function(e,n){e=e||{},"string"==typeof e&&(e={path:e});var i=r;i?u(null==e.parentRoute||e.parentRoute===i,"You should not use parentRoute with createRoute inside another route's child callback; it is ignored"):i=e.parentRoute;var o=e.name,a=e.path||o;!a||e.isDefault||e.isNotFound?a=i?i.path:"/":l.isAbsolute(a)?i&&s(a===i.path||0===i.paramNames.length,'You cannot nest path "%s" inside "%s"; the parent requires URL parameters',a,i.path):a=i?l.join(i.path,a):"/"+a,e.isNotFound&&!/\*$/.test(a)&&(a+="*");var c=new t(o,a,e.ignoreScrollBehavior,e.isDefault,e.isNotFound,e.onEnter,e.onLeave,e.handler);if(i&&(c.isDefault?(s(null==i.defaultRoute,"%s may not have more than one default route",i),i.defaultRoute=c):c.isNotFound&&(s(null==i.notFoundRoute,"%s may not have more than one not found route",i),i.notFoundRoute=c),i.appendChild(c)),"function"==typeof n){var h=r;r=c,n.call(c,c),r=h}return c}},{key:"createDefaultRoute",value:function(e){return t.createRoute(a({},e,{isDefault:!0}))}},{key:"createNotFoundRoute",value:function(e){return t.createRoute(a({},e,{isNotFound:!0}))}},{key:"createRedirect",value:function(e){return t.createRoute(a({},e,{path:e.path||e.from||"*",onEnter:function(t,n,i){t.redirect(e.to,e.params||n,e.query||i)}}))}}]),o(t,[{key:"appendChild",value:function(e){s(e instanceof t,"route.appendChild must use a valid Route"),this.childRoutes||(this.childRoutes=[]),this.childRoutes.push(e)}},{key:"toString",value:function(){var t="<Route";return this.name&&(t+=' name="'+this.name+'"'),t+=' path="'+this.path+'">'}}]),t}();e.exports=c},{"./PathUtils":207,"./warning":235,invariant:237,"react/lib/Object.assign":268}],211:[function(t,e,n){"use strict";function i(t,e){if(!e)return!0;if(t.pathname===e.pathname)return!1;var n=t.routes,i=e.routes,r=n.filter(function(t){return-1!==i.indexOf(t)});return!r.some(function(t){return t.ignoreScrollBehavior})}var r=t("invariant"),o=t("can-use-dom"),a=t("./getWindowScrollPosition"),s={statics:{recordScrollPosition:function(t){this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[t]=a()},getScrollPosition:function(t){return this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[t]||null}},componentWillMount:function(){r(null==this.constructor.getScrollBehavior()||o,"Cannot use scroll behavior without a DOM")},componentDidMount:function(){this._updateScroll()},componentDidUpdate:function(t,e){this._updateScroll(e)},_updateScroll:function(t){if(i(this.state,t)){var e=this.constructor.getScrollBehavior();e&&e.updateScrollPosition(this.constructor.getScrollPosition(this.state.path),this.state.action)}}};e.exports=s},{"./getWindowScrollPosition":226,"can-use-dom":236,invariant:237}],212:[function(t,e,n){"use strict";var i=t("./PropTypes"),r={contextTypes:{router:i.router.isRequired},getPath:function(){return this.context.router.getCurrentPath()},getPathname:function(){return this.context.router.getCurrentPathname()},getParams:function(){return this.context.router.getCurrentParams()},getQuery:function(){return this.context.router.getCurrentQuery()},getRoutes:function(){return this.context.router.getCurrentRoutes()},isActive:function(t,e,n){return this.context.router.isActive(t,e,n)}};e.exports=r},{"./PropTypes":208}],213:[function(t,e,n){"use strict";function i(t,e){this.path=t,this.abortReason=null,this.retry=e.bind(this)}var r=t("./Cancellation"),o=t("./Redirect");i.prototype.abort=function(t){null==this.abortReason&&(this.abortReason=t||"ABORT")},i.prototype.redirect=function(t,e,n){this.abort(new o(t,e,n))},i.prototype.cancel=function(){this.abort(new r)},i.from=function(t,e,n,i){e.reduce(function(e,i,r){return function(o){if(o||t.abortReason)e(o);else if(i.onLeave)try{i.onLeave(t,n[r],e),i.onLeave.length<3&&e()}catch(a){e(a)}else e()}},i)()},i.to=function(t,e,n,i,r){e.reduceRight(function(e,r){return function(o){if(o||t.abortReason)e(o);else if(r.onEnter)try{r.onEnter(t,n,i,e),r.onEnter.length<4&&e()}catch(a){e(a)}else e()}},r)()},e.exports=i},{"./Cancellation":203,"./Redirect":209}],214:[function(t,e,n){"use strict";var i={PUSH:"push",REPLACE:"replace",POP:"pop"};e.exports=i},{}],215:[function(t,e,n){"use strict";var i=t("../actions/LocationActions"),r={updateScrollPosition:function(t,e){switch(e){case i.PUSH:case i.REPLACE:window.scrollTo(0,0);break;case i.POP:t?window.scrollTo(t.x,t.y):window.scrollTo(0,0)}}};e.exports=r},{"../actions/LocationActions":214}],216:[function(t,e,n){"use strict";var i={updateScrollPosition:function(){window.scrollTo(0,0)}};e.exports=i},{}],217:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},s=t("react"),u=function(t){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"render",value:function(){return this.props.children}}]),e}(s.Component);e.exports=u},{react:"react"}],218:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);
var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},a=t("../PropTypes"),s=t("./RouteHandler"),u=t("./Route"),l=function(t){function e(){i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),e}(u);l.propTypes={name:a.string,path:a.falsy,children:a.falsy,handler:a.func.isRequired},l.defaultProps={handler:s},e.exports=l},{"../PropTypes":208,"./Route":222,"./RouteHandler":223}],219:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return 0===t.button}function a(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},l=t("react"),c=t("react/lib/Object.assign"),h=t("../PropTypes"),p=function(t){function e(){i(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"handleClick",value:function(t){var e,n=!0;this.props.onClick&&(e=this.props.onClick(t)),!a(t)&&o(t)&&((e===!1||t.defaultPrevented===!0)&&(n=!1),t.preventDefault(),n&&this.context.router.transitionTo(this.props.to,this.props.params,this.props.query))}},{key:"getHref",value:function(){return this.context.router.makeHref(this.props.to,this.props.params,this.props.query)}},{key:"getClassName",value:function(){var t=this.props.className;return this.getActiveState()&&(t+=" "+this.props.activeClassName),t}},{key:"getActiveState",value:function(){return this.context.router.isActive(this.props.to,this.props.params,this.props.query)}},{key:"render",value:function(){var t=c({},this.props,{href:this.getHref(),className:this.getClassName(),onClick:this.handleClick.bind(this)});return t.activeStyle&&this.getActiveState()&&(t.style=t.activeStyle),l.DOM.a(t,this.props.children)}}]),e}(l.Component);p.contextTypes={router:h.router.isRequired},p.propTypes={activeClassName:h.string.isRequired,to:h.oneOfType([h.string,h.route]).isRequired,params:h.object,query:h.object,activeStyle:h.object,onClick:h.func},p.defaultProps={activeClassName:"active",className:""},e.exports=p},{"../PropTypes":208,react:"react","react/lib/Object.assign":268}],220:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},a=t("../PropTypes"),s=t("./RouteHandler"),u=t("./Route"),l=function(t){function e(){i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),e}(u);l.propTypes={name:a.string,path:a.falsy,children:a.falsy,handler:a.func.isRequired},l.defaultProps={handler:s},e.exports=l},{"../PropTypes":208,"./Route":222,"./RouteHandler":223}],221:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},a=t("../PropTypes"),s=t("./Route"),u=function(t){function e(){i(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),e}(s);u.propTypes={path:a.string,from:a.string,to:a.string,handler:a.falsy},u.defaultProps={},e.exports=u},{"../PropTypes":208,"./Route":222}],222:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},s=t("react"),u=t("invariant"),l=t("../PropTypes"),c=t("./RouteHandler"),h=function(t){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"render",value:function(){u(!1,"%s elements are for router configuration only and should not be rendered",this.constructor.name)}}]),e}(s.Component);h.propTypes={name:l.string,path:l.string,handler:l.func,ignoreScrollBehavior:l.bool},h.defaultProps={handler:c},e.exports=h},{"../PropTypes":208,"./RouteHandler":223,invariant:237,react:"react"}],223:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},s=t("react"),u=t("./ContextWrapper"),l=t("react/lib/Object.assign"),c=t("../PropTypes"),h="__routeHandler__",p=function(t){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"getChildContext",value:function(){return{routeDepth:this.context.routeDepth+1}}},{key:"componentDidMount",value:function(){this._updateRouteComponent(this.refs[h])}},{key:"componentDidUpdate",value:function(){this._updateRouteComponent(this.refs[h])}},{key:"componentWillUnmount",value:function(){this._updateRouteComponent(null)}},{key:"_updateRouteComponent",value:function(t){this.context.router.setRouteComponentAtDepth(this.getRouteDepth(),t)}},{key:"getRouteDepth",value:function(){return this.context.routeDepth}},{key:"createChildRouteHandler",value:function(t){var e=this.context.router.getRouteAtDepth(this.getRouteDepth());if(null==e)return null;var n=l({},t||this.props,{ref:h,params:this.context.router.getCurrentParams(),query:this.context.router.getCurrentQuery()});return s.createElement(e.handler,n)}},{key:"render",value:function(){var t=this.createChildRouteHandler();return t?s.createElement(u,null,t):s.createElement("script",null)}}]),e}(s.Component);p.contextTypes={routeDepth:c.number.isRequired,router:c.router.isRequired},p.childContextTypes={routeDepth:c.number.isRequired},e.exports=p},{"../PropTypes":208,"./ContextWrapper":217,react:"react","react/lib/Object.assign":268}],224:[function(t,e,n){(function(n){"use strict";function i(t,e){for(var n in e)if(e.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}function r(t,e,n,r,o,a){return t.some(function(t){if(t!==e)return!1;for(var s,u=e.paramNames,l=0,c=u.length;c>l;++l)if(s=u[l],r[s]!==n[s])return!1;return i(o,a)&&i(a,o)})}function o(t,e){for(var n,i=0,r=t.length;r>i;++i)n=t[i],n.name&&(p(null==e[n.name],'You may not have more than one route named "%s"',n.name),e[n.name]=n),n.childRoutes&&o(n.childRoutes,e)}function a(t,e){return t.some(function(t){return t.name===e})}function s(t,e){for(var n in e)if(String(t[n])!==String(e[n]))return!1;return!0}function u(t,e){for(var n in e)if(String(t[n])!==String(e[n]))return!1;return!0}function l(t){t=t||{},w(t)&&(t={routes:t});var e=[],i=t.location||k,l=t.scrollBehavior||O,m={},A={},N=null,I=null;"string"==typeof i&&(i=new y(i)),i instanceof y?h(!f||"test"===n.env.NODE_ENV,"You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL"):p(f||i.needsDOM===!1,"You cannot use %s without a DOM",i),i!==v||R()||(i=_);var U=c.createClass({displayName:"Router",statics:{isRunning:!1,cancelPendingTransition:function(){N&&(N.cancel(),N=null)},clearAllRoutes:function(){U.cancelPendingTransition(),U.namedRoutes={},U.routes=[]},addRoutes:function(t){w(t)&&(t=x(t)),o(t,U.namedRoutes),U.routes.push.apply(U.routes,t)},replaceRoutes:function(t){U.clearAllRoutes(),U.addRoutes(t),U.refresh()},match:function(t){return L.findMatch(U.routes,t)},makePath:function(t,e,n){var i;if(D.isAbsolute(t))i=t;else{var r=t instanceof S?t:U.namedRoutes[t];p(r instanceof S,'Cannot find a route named "%s"',t),i=r.path}return D.withQuery(D.injectParams(i,e),n)},makeHref:function(t,e,n){var r=U.makePath(t,e,n);return i===g?"#"+r:r},transitionTo:function(t,e,n){var r=U.makePath(t,e,n);N?i.replace(r):i.push(r)},replaceWith:function(t,e,n){i.replace(U.makePath(t,e,n))},goBack:function(){return C.length>1||i===_?(i.pop(),!0):(h(!1,"goBack() was ignored because there is no router history"),!1)},handleAbort:t.onAbort||function(t){if(i instanceof y)throw new Error("Unhandled aborted transition! Reason: "+t);t instanceof P||(t instanceof T?i.replace(U.makePath(t.to,t.params,t.query)):i.pop())},handleError:t.onError||function(t){throw t},handleLocationChange:function(t){U.dispatch(t.path,t.type)},dispatch:function(t,n){U.cancelPendingTransition();var i=m.path,o=null==n;if(i!==t||o){i&&n===d.PUSH&&U.recordScrollPosition(i);var a=U.match(t);h(null!=a,'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes',t,t),null==a&&(a={});var s,u,l=m.routes||[],c=m.params||{},p=m.query||{},f=a.routes||[],g=a.params||{},v=a.query||{};l.length?(s=l.filter(function(t){return!r(f,t,c,g,p,v)}),u=f.filter(function(t){return!r(l,t,c,g,p,v)})):(s=[],u=f);var _=new E(t,U.replaceWith.bind(U,t));N=_;var y=e.slice(l.length-s.length);E.from(_,s,y,function(e){return e||_.abortReason?I.call(U,e,_):void E.to(_,u,g,v,function(e){I.call(U,e,_,{path:t,action:n,pathname:a.pathname,routes:f,params:g,query:v})})})}},run:function(t){p(!U.isRunning,"Router is already running"),I=function(e,n,i){e&&U.handleError(e),N===n&&(N=null,n.abortReason?U.handleAbort(n.abortReason):t.call(U,U,A=i))},i instanceof y||(i.addChangeListener&&i.addChangeListener(U.handleLocationChange),U.isRunning=!0),U.refresh()},refresh:function(){U.dispatch(i.getCurrentPath(),null)},stop:function(){U.cancelPendingTransition(),i.removeChangeListener&&i.removeChangeListener(U.handleLocationChange),U.isRunning=!1},getLocation:function(){return i},getScrollBehavior:function(){return l},getRouteAtDepth:function(t){var e=m.routes;return e&&e[t]},setRouteComponentAtDepth:function(t,n){e[t]=n},getCurrentPath:function(){return m.path},getCurrentPathname:function(){return m.pathname},getCurrentParams:function(){return m.params},getCurrentQuery:function(){return m.query},getCurrentRoutes:function(){return m.routes},isActive:function(t,e,n){return D.isAbsolute(t)?t===m.path:a(m.routes,t)&&s(m.params,e)&&(null==n||u(m.query,n))}},mixins:[b],propTypes:{children:M.falsy},childContextTypes:{routeDepth:M.number.isRequired,router:M.router.isRequired},getChildContext:function(){return{routeDepth:1,router:U}},getInitialState:function(){return m=A},componentWillReceiveProps:function(){this.setState(m=A)},componentWillUnmount:function(){U.stop()},render:function(){var t=U.getRouteAtDepth(0);return t?c.createElement(t.handler,this.props):null}});return U.clearAllRoutes(),t.routes&&U.addRoutes(t.routes),U}var c=t("react"),h=t("./warning"),p=t("invariant"),f=t("can-use-dom"),d=t("./actions/LocationActions"),m=t("./behaviors/ImitateBrowserBehavior"),g=t("./locations/HashLocation"),v=t("./locations/HistoryLocation"),_=t("./locations/RefreshLocation"),y=t("./locations/StaticLocation"),b=t("./ScrollHistory"),x=t("./createRoutesFromReactChildren"),w=t("./isReactChildren"),E=t("./Transition"),M=t("./PropTypes"),T=t("./Redirect"),C=t("./History"),P=t("./Cancellation"),L=t("./Match"),S=t("./Route"),R=t("./supportsHistory"),D=t("./PathUtils"),k=f?g:"/",O=f?m:null;e.exports=l}).call(this,t("_process"))},{"./Cancellation":203,"./History":204,"./Match":205,"./PathUtils":207,"./PropTypes":208,"./Redirect":209,"./Route":210,"./ScrollHistory":211,"./Transition":213,"./actions/LocationActions":214,"./behaviors/ImitateBrowserBehavior":215,"./createRoutesFromReactChildren":225,"./isReactChildren":227,"./locations/HashLocation":228,"./locations/HistoryLocation":229,"./locations/RefreshLocation":230,"./locations/StaticLocation":231,"./supportsHistory":234,"./warning":235,_process:8,"can-use-dom":236,invariant:237,react:"react"}],225:[function(t,e,n){"use strict";function i(t,e,n){t=t||"UnknownComponent";for(var i in e)if(e.hasOwnProperty(i)){var r=e[i](n,i,t);r instanceof Error&&l(!1,r.message)}}function r(t){var e=u({},t),n=e.handler;return n&&(e.onEnter=n.willTransitionTo,e.onLeave=n.willTransitionFrom),e}function o(t){if(s.isValidElement(t)){var e=t.type,n=u({},e.defaultProps,t.props);return e.propTypes&&i(e.displayName,e.propTypes,n),e===c?f.createDefaultRoute(r(n)):e===h?f.createNotFoundRoute(r(n)):e===p?f.createRedirect(r(n)):f.createRoute(r(n),function(){n.children&&a(n.children)})}}function a(t){var e=[];return s.Children.forEach(t,function(t){(t=o(t))&&e.push(t)}),e}var s=t("react"),u=t("react/lib/Object.assign"),l=t("./warning"),c=t("./components/DefaultRoute"),h=t("./components/NotFoundRoute"),p=t("./components/Redirect"),f=t("./Route");e.exports=a},{"./Route":210,"./components/DefaultRoute":218,"./components/NotFoundRoute":220,"./components/Redirect":221,"./warning":235,react:"react","react/lib/Object.assign":268}],226:[function(t,e,n){"use strict";function i(){return r(o,"Cannot get current scroll position without a DOM"),{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}var r=t("invariant"),o=t("can-use-dom");e.exports=i},{"can-use-dom":236,invariant:237}],227:[function(t,e,n){"use strict";function i(t){return null==t||o.isValidElement(t)}function r(t){return i(t)||Array.isArray(t)&&t.every(i)}var o=t("react");e.exports=r},{react:"react"}],228:[function(t,e,n){"use strict";function i(t){t===s.PUSH&&(u.length+=1);var e={path:h.getCurrentPath(),type:t};l.forEach(function(t){t.call(h,e)})}function r(){var t=h.getCurrentPath();return"/"===t.charAt(0)?!0:(h.replace("/"+t),!1)}function o(){if(r()){var t=a;a=null,i(t||s.POP)}}var a,s=t("../actions/LocationActions"),u=t("../History"),l=[],c=!1,h={addChangeListener:function(t){l.push(t),r(),c||(window.addEventListener?window.addEventListener("hashchange",o,!1):window.attachEvent("onhashchange",o),c=!0)},removeChangeListener:function(t){l=l.filter(function(e){return e!==t}),0===l.length&&(window.removeEventListener?window.removeEventListener("hashchange",o,!1):window.removeEvent("onhashchange",o),c=!1)},push:function(t){a=s.PUSH,window.location.hash=t},replace:function(t){a=s.REPLACE,window.location.replace(window.location.pathname+window.location.search+"#"+t)},pop:function(){a=s.POP,u.back()},getCurrentPath:function(){return decodeURI(window.location.href.split("#")[1]||"")},toString:function(){return"<HashLocation>"}};e.exports=h},{"../History":204,"../actions/LocationActions":214}],229:[function(t,e,n){"use strict";function i(t){var e={path:l.getCurrentPath(),type:t};s.forEach(function(t){t.call(l,e)})}function r(t){void 0!==t.state&&i(o.POP)}var o=t("../actions/LocationActions"),a=t("../History"),s=[],u=!1,l={addChangeListener:function(t){s.push(t),u||(window.addEventListener?window.addEventListener("popstate",r,!1):window.attachEvent("onpopstate",r),u=!0)},removeChangeListener:function(t){s=s.filter(function(e){return e!==t}),0===s.length&&(window.addEventListener?window.removeEventListener("popstate",r,!1):window.removeEvent("onpopstate",r),u=!1)},push:function(t){window.history.pushState({path:t},"",t),a.length+=1,i(o.PUSH)},replace:function(t){window.history.replaceState({path:t},"",t),i(o.REPLACE)},pop:a.back,getCurrentPath:function(){return decodeURI(window.location.pathname+window.location.search)},toString:function(){return"<HistoryLocation>"}};e.exports=l},{"../History":204,"../actions/LocationActions":214}],230:[function(t,e,n){"use strict";var i=t("./HistoryLocation"),r=t("../History"),o={push:function(t){window.location=t},replace:function(t){window.location.replace(t)},pop:r.back,getCurrentPath:i.getCurrentPath,toString:function(){return"<RefreshLocation>"}};e.exports=o},{"../History":204,"./HistoryLocation":229}],231:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){a(!1,"You cannot modify a static location")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("invariant"),s=function(){function t(e){i(this,t),this.path=e}return o(t,[{key:"getCurrentPath",value:function(){return this.path}},{key:"toString",value:function(){return'<StaticLocation path="'+this.path+'">'}}]),t}();s.prototype.push=r,s.prototype.replace=r,s.prototype.pop=r,e.exports=s},{invariant:237}],232:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=t("invariant"),a=t("../actions/LocationActions"),s=t("../History"),u=function(){function t(e){i(this,t),this.history=e||[],this.listeners=[],this.needsDOM=!1,this._updateHistoryLength()}return r(t,[{key:"_updateHistoryLength",value:function(){s.length=this.history.length}},{key:"_notifyChange",value:function(t){for(var e={path:this.getCurrentPath(),type:t},n=0,i=this.listeners.length;i>n;++n)this.listeners[n].call(this,e)}},{key:"addChangeListener",value:function(t){this.listeners.push(t)}},{key:"removeChangeListener",value:function(t){this.listeners=this.listeners.filter(function(e){return e!==t})}},{key:"push",value:function(t){this.history.push(t),this._updateHistoryLength(),this._notifyChange(a.PUSH)}},{key:"replace",value:function(t){o(this.history.length,"You cannot replace the current path with no history"),this.history[this.history.length-1]=t,this._notifyChange(a.REPLACE)}},{key:"pop",value:function(){this.history.pop(),this._updateHistoryLength(),this._notifyChange(a.POP)}},{key:"getCurrentPath",value:function(){return this.history[this.history.length-1]}},{key:"toString",value:function(){return"<TestLocation>"}}]),t}();e.exports=u},{"../History":204,"../actions/LocationActions":214,invariant:237}],233:[function(t,e,n){"use strict";function i(t,e,n){"function"==typeof e&&(n=e,e=null);var i=r({routes:t,location:e});return i.run(n),i}var r=t("./createRouter");e.exports=i},{"./createRouter":224}],234:[function(t,e,n){"use strict";function i(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}e.exports=i},{}],235:[function(t,e,n){(function(t){"use strict";var n="production"!==t.env.NODE_ENV,i=function(){};n&&(i=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;n>r;r++)i[r-2]=arguments[r];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var o=0,a="Warning: "+e.replace(/%s/g,function(){return i[o++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),e.exports=i}).call(this,t("_process"))},{_process:8}],236:[function(t,e,n){var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=i},{}],237:[function(t,e,n){(function(t){"use strict";var n=function(e,n,i,r,o,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,r,o,a,s,u],h=0;l=new Error(n.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n}).call(this,t("_process"))},{_process:8}],238:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":239}],239:[function(t,e,n){var i=t("./stringify"),r=t("./parse");e.exports={stringify:i,parse:r}},{"./parse":240,"./stringify":241}],240:[function(t,e,n){var i=t("./utils"),r={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};r.parseValues=function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0,a=r.length;a>o;++o){var s=r[o],u=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===u)n[i.decode(s)]="";else{var l=i.decode(s.slice(0,u)),c=i.decode(s.slice(u+1));if(Object.prototype.hasOwnProperty(l))continue;n.hasOwnProperty(l)?n[l]=[].concat(n[l]).concat(c):n[l]=c}}return n},r.parseObject=function(t,e,n){if(!t.length)return e;var i=t.shift(),o={};if("[]"===i)o=[],o=o.concat(r.parseObject(t,e,n));else{var a="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,s=parseInt(a,10),u=""+s;!isNaN(s)&&i!==a&&u===a&&s>=0&&s<=n.arrayLimit?(o=[],o[s]=r.parseObject(t,e,n)):o[a]=r.parseObject(t,e,n)}return o},r.parseKeys=function(t,e,n){if(t){var i=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=i.exec(t);if(!Object.prototype.hasOwnProperty(a[1])){var s=[];a[1]&&s.push(a[1]);for(var u=0;null!==(a=o.exec(t))&&u<n.depth;)++u,Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||s.push(a[1]);return a&&s.push("["+t.slice(a.index)+"]"),r.parseObject(s,e,n)}}},e.exports=function(t,e){if(""===t||null===t||"undefined"==typeof t)return{};e=e||{},e.delimiter="string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:r.delimiter,e.depth="number"==typeof e.depth?e.depth:r.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:r.arrayLimit,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:r.parameterLimit;for(var n="string"==typeof t?r.parseValues(t,e):t,o={},a=Object.keys(n),s=0,u=a.length;u>s;++s){var l=a[s],c=r.parseKeys(l,n[l],e);o=i.merge(o,c)}return i.compact(o)}},{"./utils":242}],241:[function(t,e,n){var i=t("./utils"),r={delimiter:"&",arrayPrefixGenerators:{brackets:function(t,e){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t,e){return t}}};r.stringify=function(t,e,n){if(i.isBuffer(t)?t=t.toString():t instanceof Date?t=t.toISOString():null===t&&(t=""),"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return[encodeURIComponent(e)+"="+encodeURIComponent(t)];var o=[];if("undefined"==typeof t)return o;for(var a=Object.keys(t),s=0,u=a.length;u>s;++s){var l=a[s];o=Array.isArray(t)?o.concat(r.stringify(t[l],n(e,l),n)):o.concat(r.stringify(t[l],e+"["+l+"]",n))}return o},e.exports=function(t,e){e=e||{};var n="undefined"==typeof e.delimiter?r.delimiter:e.delimiter,i=[];if("object"!=typeof t||null===t)return"";var o;o=e.arrayFormat in r.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";for(var a=r.arrayPrefixGenerators[o],s=Object.keys(t),u=0,l=s.length;l>u;++u){var c=s[u];i=i.concat(r.stringify(t[c],c,a))}return i.join(n)}},{"./utils":242}],242:[function(t,e,n){n.arrayToObject=function(t){for(var e={},n=0,i=t.length;i>n;++n)"undefined"!=typeof t[n]&&(e[n]=t[n]);return e},n.merge=function(t,e){if(!e)return t;if("object"!=typeof e)return Array.isArray(t)?t.push(e):t[e]=!0,t;if("object"!=typeof t)return t=[t].concat(e);Array.isArray(t)&&!Array.isArray(e)&&(t=n.arrayToObject(t));for(var i=Object.keys(e),r=0,o=i.length;o>r;++r){var a=i[r],s=e[a];t[a]?t[a]=n.merge(t[a],s):t[a]=s}return t},n.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},n.compact=function(t,e){if("object"!=typeof t||null===t)return t;e=e||[];var i=e.indexOf(t);if(-1!==i)return e[i];if(e.push(t),Array.isArray(t)){for(var r=[],o=0,a=t.length;a>o;++o)"undefined"!=typeof t[o]&&r.push(t[o]);return r}var s=Object.keys(t);for(o=0,a=s.length;a>o;++o){var u=s[o];t[u]=n.compact(t[u],e)}return t},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.isBuffer=function(t){return null===t||"undefined"==typeof t?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],243:[function(t,e,n){"use strict";var i=t("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};e.exports=r},{"./focusNode":361}],244:[function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case L.topCompositionStart:return S.compositionStart;case L.topCompositionEnd:return S.compositionEnd;case L.topCompositionUpdate:return S.compositionUpdate}}function a(t,e){return t===L.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case L.topKeyUp:return-1!==b.indexOf(e.keyCode);case L.topKeyDown:return e.keyCode!==x;case L.topKeyPress:case L.topMouseDown:case L.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,i){var r,l;if(w?r=o(t):D?s(t,i)&&(r=S.compositionEnd):a(t,i)&&(r=S.compositionStart),!r)return null;T&&(D||r!==S.compositionStart?r===S.compositionEnd&&D&&(l=D.getData()):D=g.getPooled(e));var c=v.getPooled(r,n,i);if(l)c.data=l;else{var h=u(i);null!==h&&(c.data=h)}return d.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case L.topCompositionEnd:return u(e);case L.topKeyPress:var n=e.which;return n!==C?null:(R=!0,P);case L.topTextInput:var i=e.data;return i===P&&R?null:i;default:return null}}function h(t,e){if(D){if(t===L.topCompositionEnd||s(t,e)){var n=D.getData();return g.release(D),D=null,n}return null}switch(t){case L.topPaste:return null;case L.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case L.topCompositionEnd:return T?null:e.data;default:return null}}function p(t,e,n,i){var r;if(r=M?c(t,i):h(t,i),!r)return null;var o=_.getPooled(S.beforeInput,n,i);return o.data=r,d.accumulateTwoPhaseDispatches(o),o}var f=t("./EventConstants"),d=t("./EventPropagators"),m=t("./ExecutionEnvironment"),g=t("./FallbackCompositionState"),v=t("./SyntheticCompositionEvent"),_=t("./SyntheticInputEvent"),y=t("./keyOf"),b=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var M=m.canUseDOM&&"TextEvent"in window&&!E&&!i(),T=m.canUseDOM&&(!w||E&&E>8&&11>=E),C=32,P=String.fromCharCode(C),L=f.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[L.topCompositionEnd,L.topKeyPress,L.topTextInput,L.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[L.topBlur,L.topCompositionEnd,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[L.topBlur,L.topCompositionStart,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[L.topBlur,L.topCompositionUpdate,L.topKeyDown,L.topKeyPress,L.topKeyUp,L.topMouseDown]}},R=!1,D=null,k={eventTypes:S,extractEvents:function(t,e,n,i){return[l(t,e,n,i),p(t,e,n,i)]}};e.exports=k},{"./EventConstants":256,"./EventPropagators":261,"./ExecutionEnvironment":262,"./FallbackCompositionState":263,"./SyntheticCompositionEvent":335,"./SyntheticInputEvent":339,"./keyOf":383}],245:[function(t,e,n){"use strict";function i(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[i(e,t)]=r[t]})});var a={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:a};e.exports=s},{}],246:[function(t,e,n){(function(n){"use strict";var i=t("./CSSProperty"),r=t("./ExecutionEnvironment"),o=t("./camelizeStyleName"),a=t("./dangerousStyleValue"),s=t("./hyphenateStyleName"),u=t("./memoizeStringOnly"),l=t("./warning"),c=u(function(t){
return s(t)}),h="cssFloat";if(r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(h="styleFloat"),"production"!==n.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,f=/;\s*$/,d={},m={},g=function(t){d.hasOwnProperty(t)&&d[t]||(d[t]=!0,"production"!==n.env.NODE_ENV?l(!1,"Unsupported style property %s. Did you mean %s?",t,o(t)):null)},v=function(t){d.hasOwnProperty(t)&&d[t]||(d[t]=!0,"production"!==n.env.NODE_ENV?l(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):null)},_=function(t,e){m.hasOwnProperty(e)&&m[e]||(m[e]=!0,"production"!==n.env.NODE_ENV?l(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,e.replace(f,"")):null)},y=function(t,e){t.indexOf("-")>-1?g(t):p.test(t)?v(t):f.test(e)&&_(t,e)};var b={createMarkupForStyles:function(t){var e="";for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];"production"!==n.env.NODE_ENV&&y(i,r),null!=r&&(e+=c(i)+":",e+=a(i,r)+";")}return e||null},setValueForStyles:function(t,e){var r=t.style;for(var o in e)if(e.hasOwnProperty(o)){"production"!==n.env.NODE_ENV&&y(o,e[o]);var s=a(o,e[o]);if("float"===o&&(o=h),s)r[o]=s;else{var u=i.shorthandPropertyExpansions[o];if(u)for(var l in u)r[l]="";else r[o]=""}}}};e.exports=b}).call(this,t("_process"))},{"./CSSProperty":245,"./ExecutionEnvironment":262,"./camelizeStyleName":350,"./dangerousStyleValue":355,"./hyphenateStyleName":375,"./memoizeStringOnly":385,"./warning":396,_process:8}],247:[function(t,e,n){(function(n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=t("./PooledClass"),o=t("./Object.assign"),a=t("./invariant");o(i.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){"production"!==n.env.NODE_ENV?a(t.length===e.length,"Mismatched list of contexts in callback queue"):a(t.length===e.length),this._callbacks=null,this._contexts=null;for(var i=0,r=t.length;r>i;i++)t[i].call(e[i]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i}).call(this,t("_process"))},{"./Object.assign":268,"./PooledClass":269,"./invariant":377,_process:8}],248:[function(t,e,n){"use strict";function i(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function r(t){var e=E.getPooled(L.change,R,t);b.accumulateTwoPhaseDispatches(e),w.batchedUpdates(o,e)}function o(t){y.enqueueEvents(t),y.processEventQueue()}function a(t,e){S=t,R=e,S.attachEvent("onchange",r)}function s(){S&&(S.detachEvent("onchange",r),S=null,R=null)}function u(t,e,n){return t===P.topChange?n:void 0}function l(t,e,n){t===P.topFocus?(s(),a(e,n)):t===P.topBlur&&s()}function c(t,e){S=t,R=e,D=t.value,k=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(S,"value",N),S.attachEvent("onpropertychange",p)}function h(){S&&(delete S.value,S.detachEvent("onpropertychange",p),S=null,R=null,D=null,k=null)}function p(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==D&&(D=e,r(t))}}function f(t,e,n){return t===P.topInput?n:void 0}function d(t,e,n){t===P.topFocus?(h(),c(e,n)):t===P.topBlur&&h()}function m(t,e,n){return t!==P.topSelectionChange&&t!==P.topKeyUp&&t!==P.topKeyDown||!S||S.value===D?void 0:(D=S.value,R)}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===P.topClick?n:void 0}var _=t("./EventConstants"),y=t("./EventPluginHub"),b=t("./EventPropagators"),x=t("./ExecutionEnvironment"),w=t("./ReactUpdates"),E=t("./SyntheticEvent"),M=t("./isEventSupported"),T=t("./isTextInputElement"),C=t("./keyOf"),P=_.topLevelTypes,L={change:{phasedRegistrationNames:{bubbled:C({onChange:null}),captured:C({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},S=null,R=null,D=null,k=null,O=!1;x.canUseDOM&&(O=M("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;x.canUseDOM&&(A=M("input")&&(!("documentMode"in document)||document.documentMode>9));var N={get:function(){return k.get.call(this)},set:function(t){D=""+t,k.set.call(this,t)}},I={eventTypes:L,extractEvents:function(t,e,n,r){var o,a;if(i(e)?O?o=u:a=l:T(e)?A?o=f:(o=m,a=d):g(e)&&(o=v),o){var s=o(t,e,n);if(s){var c=E.getPooled(L.change,s,r);return b.accumulateTwoPhaseDispatches(c),c}}a&&a(t,e,n)}};e.exports=I},{"./EventConstants":256,"./EventPluginHub":258,"./EventPropagators":261,"./ExecutionEnvironment":262,"./ReactUpdates":329,"./SyntheticEvent":337,"./isEventSupported":378,"./isTextInputElement":380,"./keyOf":383}],249:[function(t,e,n){"use strict";var i=0,r={createReactRootIndex:function(){return i++}};e.exports=r},{}],250:[function(t,e,n){(function(n){"use strict";function i(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var r=t("./Danger"),o=t("./ReactMultiChildUpdateTypes"),a=t("./setTextContent"),s=t("./invariant"),u={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(t,e){for(var u,l=null,c=null,h=0;h<t.length;h++)if(u=t[h],u.type===o.MOVE_EXISTING||u.type===o.REMOVE_NODE){var p=u.fromIndex,f=u.parentNode.childNodes[p],d=u.parentID;"production"!==n.env.NODE_ENV?s(f,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,d):s(f),l=l||{},l[d]=l[d]||[],l[d][p]=f,c=c||[],c.push(f)}var m=r.dangerouslyRenderMarkup(e);if(c)for(var g=0;g<c.length;g++)c[g].parentNode.removeChild(c[g]);for(var v=0;v<t.length;v++)switch(u=t[v],u.type){case o.INSERT_MARKUP:i(u.parentNode,m[u.markupIndex],u.toIndex);break;case o.MOVE_EXISTING:i(u.parentNode,l[u.parentID][u.fromIndex],u.toIndex);break;case o.TEXT_CONTENT:a(u.parentNode,u.textContent);break;case o.REMOVE_NODE:}}};e.exports=u}).call(this,t("_process"))},{"./Danger":253,"./ReactMultiChildUpdateTypes":314,"./invariant":377,"./setTextContent":391,_process:8}],251:[function(t,e,n){(function(n){"use strict";function i(t,e){return(t&e)===e}var r=t("./invariant"),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=t.Properties||{},a=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var c in e){"production"!==n.env.NODE_ENV?r(!s.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c):r(!s.isStandardName.hasOwnProperty(c)),s.isStandardName[c]=!0;var h=c.toLowerCase();if(s.getPossibleStandardName[h]=c,a.hasOwnProperty(c)){var p=a[c];s.getPossibleStandardName[p]=c,s.getAttributeName[c]=p}else s.getAttributeName[c]=h;s.getPropertyName[c]=u.hasOwnProperty(c)?u[c]:c,l.hasOwnProperty(c)?s.getMutationMethod[c]=l[c]:s.getMutationMethod[c]=null;var f=e[c];s.mustUseAttribute[c]=i(f,o.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=i(f,o.MUST_USE_PROPERTY),s.hasSideEffects[c]=i(f,o.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=i(f,o.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=i(f,o.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=i(f,o.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=i(f,o.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==n.env.NODE_ENV?r(!s.mustUseAttribute[c]||!s.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c):r(!s.mustUseAttribute[c]||!s.mustUseProperty[c]),"production"!==n.env.NODE_ENV?r(s.mustUseProperty[c]||!s.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c):r(s.mustUseProperty[c]||!s.hasSideEffects[c]),"production"!==n.env.NODE_ENV?r(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c):r(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1)}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,i=a[t];return i||(a[t]=i={}),e in i||(n=document.createElement(t),i[e]=n[e]),i[e]},injection:o};e.exports=s}).call(this,t("_process"))},{"./invariant":377,_process:8}],252:[function(t,e,n){(function(n){"use strict";function i(t,e){return null==e||r.hasBooleanValue[t]&&!e||r.hasNumericValue[t]&&isNaN(e)||r.hasPositiveNumericValue[t]&&1>e||r.hasOverloadedBooleanValue[t]&&e===!1}var r=t("./DOMProperty"),o=t("./quoteAttributeValueForBrowser"),a=t("./warning");if("production"!==n.env.NODE_ENV)var s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},l=function(t){if(!(s.hasOwnProperty(t)&&s[t]||u.hasOwnProperty(t)&&u[t])){u[t]=!0;var e=t.toLowerCase(),i=r.isCustomAttribute(e)?e:r.getPossibleStandardName.hasOwnProperty(e)?r.getPossibleStandardName[e]:null;"production"!==n.env.NODE_ENV?a(null==i,"Unknown DOM property %s. Did you mean %s?",t,i):null}};var c={createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+"="+o(t)},createMarkupForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){if(i(t,e))return"";var a=r.getAttributeName[t];return r.hasBooleanValue[t]||r.hasOverloadedBooleanValue[t]&&e===!0?a:a+"="+o(e)}return r.isCustomAttribute(t)?null==e?"":t+"="+o(e):("production"!==n.env.NODE_ENV&&l(t),null)},setValueForProperty:function(t,e,o){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var a=r.getMutationMethod[e];if(a)a(t,o);else if(i(e,o))this.deleteValueForProperty(t,e);else if(r.mustUseAttribute[e])t.setAttribute(r.getAttributeName[e],""+o);else{var s=r.getPropertyName[e];r.hasSideEffects[e]&&""+t[s]==""+o||(t[s]=o)}}else r.isCustomAttribute(e)?null==o?t.removeAttribute(e):t.setAttribute(e,""+o):"production"!==n.env.NODE_ENV&&l(e)},deleteValueForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var i=r.getMutationMethod[e];if(i)i(t,void 0);else if(r.mustUseAttribute[e])t.removeAttribute(r.getAttributeName[e]);else{var o=r.getPropertyName[e],a=r.getDefaultValueForProperty(t.nodeName,o);r.hasSideEffects[e]&&""+t[o]===a||(t[o]=a)}}else r.isCustomAttribute(e)?t.removeAttribute(e):"production"!==n.env.NODE_ENV&&l(e)}};e.exports=c}).call(this,t("_process"))},{"./DOMProperty":251,"./quoteAttributeValueForBrowser":389,"./warning":396,_process:8}],253:[function(t,e,n){(function(n){"use strict";function i(t){return t.substring(1,t.indexOf(" "))}var r=t("./ExecutionEnvironment"),o=t("./createNodesFromMarkup"),a=t("./emptyFunction"),s=t("./getMarkupWrap"),u=t("./invariant"),l=/^(<[^ \/>]+)/,c="data-danger-index",h={dangerouslyRenderMarkup:function(t){"production"!==n.env.NODE_ENV?u(r.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(r.canUseDOM);for(var e,h={},p=0;p<t.length;p++)"production"!==n.env.NODE_ENV?u(t[p],"dangerouslyRenderMarkup(...): Missing markup."):u(t[p]),e=i(t[p]),e=s(e)?e:"*",h[e]=h[e]||[],h[e][p]=t[p];var f=[],d=0;for(e in h)if(h.hasOwnProperty(e)){var m,g=h[e];for(m in g)if(g.hasOwnProperty(m)){var v=g[m];g[m]=v.replace(l,"$1 "+c+'="'+m+'" ')}for(var _=o(g.join(""),a),y=0;y<_.length;++y){var b=_[y];b.hasAttribute&&b.hasAttribute(c)?(m=+b.getAttribute(c),b.removeAttribute(c),"production"!==n.env.NODE_ENV?u(!f.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."):u(!f.hasOwnProperty(m)),f[m]=b,d+=1):"production"!==n.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",b)}}return"production"!==n.env.NODE_ENV?u(d===f.length,"Danger: Did not assign to every index of resultList."):u(d===f.length),"production"!==n.env.NODE_ENV?u(f.length===t.length,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,f.length):u(f.length===t.length),f},dangerouslyReplaceNodeWithMarkup:function(t,e){"production"!==n.env.NODE_ENV?u(r.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(r.canUseDOM),"production"!==n.env.NODE_ENV?u(e,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):u(e),"production"!==n.env.NODE_ENV?u("html"!==t.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):u("html"!==t.tagName.toLowerCase());var i=o(e,a)[0];t.parentNode.replaceChild(i,t)}};e.exports=h}).call(this,t("_process"))},{"./ExecutionEnvironment":262,"./createNodesFromMarkup":354,"./emptyFunction":356,"./getMarkupWrap":369,"./invariant":377,_process:8}],254:[function(t,e,n){"use strict";var i=t("./keyOf"),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];e.exports=r},{"./keyOf":383}],255:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./EventPropagators"),o=t("./SyntheticMouseEvent"),a=t("./ReactMount"),s=t("./keyOf"),u=i.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(t,e,n,i){if(t===u.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var s;if(e.window===e)s=e;else{var p=e.ownerDocument;s=p?p.defaultView||p.parentWindow:window}var f,d;if(t===u.topMouseOut?(f=e,d=l(i.relatedTarget||i.toElement)||s):(f=s,d=e),f===d)return null;var m=f?a.getID(f):"",g=d?a.getID(d):"",v=o.getPooled(c.mouseLeave,m,i);v.type="mouseleave",v.target=f,v.relatedTarget=d;var _=o.getPooled(c.mouseEnter,g,i);return _.type="mouseenter",_.target=d,_.relatedTarget=f,r.accumulateEnterLeaveDispatches(v,_,m,g),h[0]=v,h[1]=_,h}};e.exports=p},{"./EventConstants":256,"./EventPropagators":261,"./ReactMount":312,"./SyntheticMouseEvent":341,"./keyOf":383}],256:[function(t,e,n){"use strict";var i=t("./keyMirror"),r=i({bubbled:null,captured:null}),o=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};e.exports=a},{"./keyMirror":382}],257:[function(t,e,n){(function(n){var i=t("./emptyFunction"),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,r){return t.addEventListener?(t.addEventListener(e,r,!0),{remove:function(){t.removeEventListener(e,r,!0)}}):("production"!==n.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};e.exports=r}).call(this,t("_process"))},{"./emptyFunction":356,_process:8}],258:[function(t,e,n){(function(n){"use strict";function i(){var t=p&&p.traverseTwoPhase&&p.traverseEnterLeave;"production"!==n.env.NODE_ENV?u(t,"InstanceHandle not injected before use!"):u(t)}var r=t("./EventPluginRegistry"),o=t("./EventPluginUtils"),a=t("./accumulateInto"),s=t("./forEachAccumulated"),u=t("./invariant"),l={},c=null,h=function(t){if(t){var e=o.executeDispatch,n=r.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},p=null,f={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(t){p=t,"production"!==n.env.NODE_ENV&&i()},getInstanceHandle:function(){return"production"!==n.env.NODE_ENV&&i(),p},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(t,e,i){"production"!==n.env.NODE_ENV?u(!i||"function"==typeof i,"Expected %s listener to be a function, instead got type %s",e,typeof i):u(!i||"function"==typeof i);var r=l[e]||(l[e]={});r[t]=i},getListener:function(t,e){var n=l[e];return n&&n[t]},deleteListener:function(t,e){var n=l[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in l)delete l[e][t]},extractEvents:function(t,e,n,i){for(var o,s=r.plugins,u=0,l=s.length;l>u;u++){var c=s[u];if(c){var h=c.extractEvents(t,e,n,i);h&&(o=a(o,h))}}return o},enqueueEvents:function(t){t&&(c=a(c,t))},processEventQueue:function(){var t=c;c=null,s(t,h),"production"!==n.env.NODE_ENV?u(!c,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!c)},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=f}).call(this,t("_process"))},{"./EventPluginRegistry":259,"./EventPluginUtils":260,"./accumulateInto":347,"./forEachAccumulated":362,"./invariant":377,_process:8}],259:[function(t,e,n){(function(n){"use strict";function i(){if(s)for(var t in u){var e=u[t],i=s.indexOf(t);if("production"!==n.env.NODE_ENV?a(i>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):a(i>-1),!l.plugins[i]){"production"!==n.env.NODE_ENV?a(e.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):a(e.extractEvents),l.plugins[i]=e;var o=e.eventTypes;for(var c in o)"production"!==n.env.NODE_ENV?a(r(o[c],e,c),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",c,t):a(r(o[c],e,c))}}}function r(t,e,i){"production"!==n.env.NODE_ENV?a(!l.eventNameDispatchConfigs.hasOwnProperty(i),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):a(!l.eventNameDispatchConfigs.hasOwnProperty(i)),l.eventNameDispatchConfigs[i]=t;var r=t.phasedRegistrationNames;if(r){for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];o(u,e,i)}return!0}return t.registrationName?(o(t.registrationName,e,i),!0):!1}function o(t,e,i){"production"!==n.env.NODE_ENV?a(!l.registrationNameModules[t],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):a(!l.registrationNameModules[t]),l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[i].dependencies}var a=t("./invariant"),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){"production"!==n.env.NODE_ENV?a(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):a(!s),s=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];u.hasOwnProperty(r)&&u[r]===o||("production"!==n.env.NODE_ENV?a(!u[r],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",r):a(!u[r]),u[r]=o,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var i=l.registrationNameModules[e.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=l.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=l}).call(this,t("_process"))},{"./invariant":377,_process:8}],260:[function(t,e,n){(function(n){"use strict";function i(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function r(t){return t===v.topMouseMove||t===v.topTouchMove}function o(t){return t===v.topMouseDown||t===v.topTouchStart}function a(t,e){var i=t._dispatchListeners,r=t._dispatchIDs;if("production"!==n.env.NODE_ENV&&f(t),Array.isArray(i))for(var o=0;o<i.length&&!t.isPropagationStopped();o++)e(t,i[o],r[o]);else i&&e(t,i,r)}function s(t,e,n){t.currentTarget=g.Mount.getNode(n);var i=e(t,n);return t.currentTarget=null,i}function u(t,e){a(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function l(t){var e=t._dispatchListeners,i=t._dispatchIDs;if("production"!==n.env.NODE_ENV&&f(t),Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,i[r]))return i[r]}else if(e&&e(t,i))return i;return null}function c(t){var e=l(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function h(t){"production"!==n.env.NODE_ENV&&f(t);var e=t._dispatchListeners,i=t._dispatchIDs;"production"!==n.env.NODE_ENV?m(!Array.isArray(e),"executeDirectDispatch(...): Invalid `event`."):m(!Array.isArray(e));var r=e?e(t,i):null;return t._dispatchListeners=null,t._dispatchIDs=null,r}function p(t){return!!t._dispatchListeners}var f,d=t("./EventConstants"),m=t("./invariant"),g={Mount:null,injectMount:function(t){g.Mount=t,"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?m(t&&t.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):m(t&&t.getNode))}},v=d.topLevelTypes;"production"!==n.env.NODE_ENV&&(f=function(t){var e=t._dispatchListeners,i=t._dispatchIDs,r=Array.isArray(e),o=Array.isArray(i),a=o?i.length:i?1:0,s=r?e.length:e?1:0;"production"!==n.env.NODE_ENV?m(o===r&&a===s,"EventPluginUtils: Invalid `event`."):m(o===r&&a===s)});var _={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:h,executeDispatch:s,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:p,injection:g,useTouchEvents:!1};e.exports=_}).call(this,t("_process"))},{"./EventConstants":256,"./invariant":377,_process:8}],261:[function(t,e,n){(function(n){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return g(t,i)}function r(t,e,r){if("production"!==n.env.NODE_ENV&&!t)throw new Error("Dispatching id must not be null");var o=e?m.bubbled:m.captured,a=i(t,r,o);a&&(r._dispatchListeners=f(r._dispatchListeners,a),r._dispatchIDs=f(r._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function a(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(t,i);r&&(n._dispatchListeners=f(n._dispatchListeners,r),n._dispatchIDs=f(n._dispatchIDs,t))}}function s(t){t&&t.dispatchConfig.registrationName&&a(t.dispatchMarker,null,t)}function u(t){d(t,o)}function l(t,e,n,i){p.injection.getInstanceHandle().traverseEnterLeave(n,i,a,t,e)}function c(t){d(t,s)}var h=t("./EventConstants"),p=t("./EventPluginHub"),f=t("./accumulateInto"),d=t("./forEachAccumulated"),m=h.PropagationPhases,g=p.getListener,v={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};e.exports=v}).call(this,t("_process"))},{"./EventConstants":256,"./EventPluginHub":258,"./accumulateInto":347,"./forEachAccumulated":362,_process:8}],262:[function(t,e,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=r},{}],263:[function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=t("./PooledClass"),o=t("./Object.assign"),a=t("./getTextContentAccessor");o(i.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(t=0;i>t&&n[t]===r[t];t++);var a=i-t;for(e=1;a>=e&&n[i-e]===r[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},{"./Object.assign":268,"./PooledClass":269,"./getTextContentAccessor":372}],264:[function(t,e,n){"use strict";var i,r=t("./DOMProperty"),o=t("./ExecutionEnvironment"),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,u=r.injection.HAS_BOOLEAN_VALUE,l=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,h=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var f=document.implementation;i=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:a,checked:s|u,classID:a,className:i?a:s,cols:a|h,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,defer:u,dir:null,disabled:a|u,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|u,muted:s|u,name:null,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,role:a,rows:a|h,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|h,sizes:a,span:h,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,property:null,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=d},{"./DOMProperty":251,"./ExecutionEnvironment":262}],265:[function(t,e,n){(function(n){"use strict";function i(t){"production"!==n.env.NODE_ENV?l(null==t.props.checkedLink||null==t.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):l(null==t.props.checkedLink||null==t.props.valueLink)}function r(t){i(t),"production"!==n.env.NODE_ENV?l(null==t.props.value&&null==t.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):l(null==t.props.value&&null==t.props.onChange)}function o(t){i(t),"production"!==n.env.NODE_ENV?l(null==t.props.checked&&null==t.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):l(null==t.props.checked&&null==t.props.onChange)}function a(t){this.props.valueLink.requestChange(t.target.value)}function s(t){this.props.checkedLink.requestChange(t.target.checked)}var u=t("./ReactPropTypes"),l=t("./invariant"),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func}},getValue:function(t){return t.props.valueLink?(r(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(o(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(r(t),a):t.props.checkedLink?(o(t),s):t.props.onChange}};e.exports=h}).call(this,t("_process"))},{"./ReactPropTypes":320,"./invariant":377,_process:8}],266:[function(t,e,n){(function(n){"use strict";function i(t){t.remove()}var r=t("./ReactBrowserEventEmitter"),o=t("./accumulateInto"),a=t("./forEachAccumulated"),s=t("./invariant"),u={trapBubbledEvent:function(t,e){"production"!==n.env.NODE_ENV?s(this.isMounted(),"Must be mounted to trap events"):s(this.isMounted());var i=this.getDOMNode();"production"!==n.env.NODE_ENV?s(i,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):s(i);var a=r.trapBubbledEvent(t,e,i);this._localEventListeners=o(this._localEventListeners,a)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,i)}};e.exports=u}).call(this,t("_process"))},{"./ReactBrowserEventEmitter":272,"./accumulateInto":347,"./forEachAccumulated":362,"./invariant":377,_process:8}],267:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./emptyFunction"),o=i.topLevelTypes,a={eventTypes:null,extractEvents:function(t,e,n,i){if(t===o.topTouchStart){var a=i.target;a&&!a.onclick&&(a.onclick=r)}}};e.exports=a},{"./EventConstants":256,"./emptyFunction":356}],268:[function(t,e,n){"use strict";function i(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),i=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){
var o=arguments[r];if(null!=o){var a=Object(o);for(var s in a)i.call(a,s)&&(n[s]=a[s])}}return n}e.exports=i},{}],269:[function(t,e,n){(function(n){"use strict";var i=t("./invariant"),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},a=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},s=function(t,e,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,i,r),a}return new o(t,e,n,i,r)},u=function(t){var e=this;"production"!==n.env.NODE_ENV?i(t instanceof e,"Trying to release an instance into a pool of a different type."):i(t instanceof e),t.destructor&&t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},l=10,c=r,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||c,n.poolSize||(n.poolSize=l),n.release=u,n},p={addPoolingTo:h,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fiveArgumentPooler:s};e.exports=p}).call(this,t("_process"))},{"./invariant":377,_process:8}],270:[function(t,e,n){(function(n){"use strict";var i=t("./EventPluginUtils"),r=t("./ReactChildren"),o=t("./ReactComponent"),a=t("./ReactClass"),s=t("./ReactContext"),u=t("./ReactCurrentOwner"),l=t("./ReactElement"),c=t("./ReactElementValidator"),h=t("./ReactDOM"),p=t("./ReactDOMTextComponent"),f=t("./ReactDefaultInjection"),d=t("./ReactInstanceHandles"),m=t("./ReactMount"),g=t("./ReactPerf"),v=t("./ReactPropTypes"),_=t("./ReactReconciler"),y=t("./ReactServerRendering"),b=t("./Object.assign"),x=t("./findDOMNode"),w=t("./onlyChild");f.inject();var E=l.createElement,M=l.createFactory,T=l.cloneElement;"production"!==n.env.NODE_ENV&&(E=c.createElement,M=c.createFactory,T=c.cloneElement);var C=g.measure("React","render",m.render),P={Children:{map:r.map,forEach:r.forEach,count:r.count,only:w},Component:o,DOM:h,PropTypes:v,initializeTouchEvents:function(t){i.useTouchEvents=t},createClass:a.createClass,createElement:E,cloneElement:T,createFactory:M,createMixin:function(t){return t},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:x,render:C,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:l.isValidElement,withContext:s.withContext,__spread:b};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:d,Mount:m,Reconciler:_,TextComponent:p}),"production"!==n.env.NODE_ENV){var L=t("./ExecutionEnvironment");if(L.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var S=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],R=0;R<S.length;R++)if(!S[R]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}P.version="0.13.3",e.exports=P}).call(this,t("_process"))},{"./EventPluginUtils":260,"./ExecutionEnvironment":262,"./Object.assign":268,"./ReactChildren":274,"./ReactClass":275,"./ReactComponent":276,"./ReactContext":280,"./ReactCurrentOwner":281,"./ReactDOM":282,"./ReactDOMTextComponent":293,"./ReactDefaultInjection":296,"./ReactElement":299,"./ReactElementValidator":300,"./ReactInstanceHandles":308,"./ReactMount":312,"./ReactPerf":317,"./ReactPropTypes":320,"./ReactReconciler":323,"./ReactServerRendering":326,"./findDOMNode":359,"./onlyChild":386,_process:8}],271:[function(t,e,n){"use strict";var i=t("./findDOMNode"),r={getDOMNode:function(){return i(this)}};e.exports=r},{"./findDOMNode":359}],272:[function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=f++,h[t[m]]={}),h[t[m]]}var r=t("./EventConstants"),o=t("./EventPluginHub"),a=t("./EventPluginRegistry"),s=t("./ReactEventEmitterMixin"),u=t("./ViewportMetrics"),l=t("./Object.assign"),c=t("./isEventSupported"),h={},p=!1,f=0,d={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=i(n),s=a.registrationNameDependencies[t],u=r.topLevelTypes,l=0,h=s.length;h>l;l++){var p=s[l];o.hasOwnProperty(p)&&o[p]||(p===u.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):p===u.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===u.topFocus||p===u.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):d.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,d[p],n),o[p]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});e.exports=g},{"./EventConstants":256,"./EventPluginHub":258,"./EventPluginRegistry":259,"./Object.assign":268,"./ReactEventEmitterMixin":303,"./ViewportMetrics":346,"./isEventSupported":378}],273:[function(t,e,n){"use strict";var i=t("./ReactReconciler"),r=t("./flattenChildren"),o=t("./instantiateReactComponent"),a=t("./shouldUpdateReactComponent"),s={instantiateChildren:function(t,e,n){var i=r(t);for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],u=o(s,null);i[a]=u}return i},updateChildren:function(t,e,n,s){var u=r(e);if(!u&&!t)return null;var l;for(l in u)if(u.hasOwnProperty(l)){var c=t&&t[l],h=c&&c._currentElement,p=u[l];if(a(h,p))i.receiveComponent(c,p,n,s),u[l]=c;else{c&&i.unmountComponent(c,l);var f=o(p,null);u[l]=f}}for(l in t)!t.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||i.unmountComponent(t[l]);return u},unmountChildren:function(t){for(var e in t){var n=t[e];i.unmountComponent(n)}}};e.exports=s},{"./ReactReconciler":323,"./flattenChildren":360,"./instantiateReactComponent":376,"./shouldUpdateReactComponent":393}],274:[function(t,e,n){(function(n){"use strict";function i(t,e){this.forEachFunction=t,this.forEachContext=e}function r(t,e,n,i){var r=t;r.forEachFunction.call(r.forEachContext,e,i)}function o(t,e,n){if(null==t)return t;var o=i.getPooled(e,n);f(t,r,o),i.release(o)}function a(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function s(t,e,i,r){var o=t,a=o.mapResult,s=!a.hasOwnProperty(i);if("production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?d(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):null),s){var u=o.mapFunction.call(o.mapContext,e,r);a[i]=u}}function u(t,e,n){if(null==t)return t;var i={},r=a.getPooled(i,e,n);return f(t,s,r),a.release(r),p.create(i)}function l(t,e,n,i){return null}function c(t,e){return f(t,l,null)}var h=t("./PooledClass"),p=t("./ReactFragment"),f=t("./traverseAllChildren"),d=t("./warning"),m=h.twoArgumentPooler,g=h.threeArgumentPooler;h.addPoolingTo(i,m),h.addPoolingTo(a,g);var v={forEach:o,map:u,count:c};e.exports=v}).call(this,t("_process"))},{"./PooledClass":269,"./ReactFragment":305,"./traverseAllChildren":395,"./warning":396,_process:8}],275:[function(t,e,n){(function(n){"use strict";function i(t,e,i){for(var r in e)e.hasOwnProperty(r)&&("production"!==n.env.NODE_ENV?T("function"==typeof e[r],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",y[i],r):null)}function r(t,e){var i=S.hasOwnProperty(e)?S[e]:null;k.hasOwnProperty(e)&&("production"!==n.env.NODE_ENV?w(i===P.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e):w(i===P.OVERRIDE_BASE)),t.hasOwnProperty(e)&&("production"!==n.env.NODE_ENV?w(i===P.DEFINE_MANY||i===P.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e):w(i===P.DEFINE_MANY||i===P.DEFINE_MANY_MERGED))}function o(t,e){if(e){"production"!==n.env.NODE_ENV?w("function"!=typeof e,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):w("function"!=typeof e),"production"!==n.env.NODE_ENV?w(!d.isValidElement(e),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):w(!d.isValidElement(e));var i=t.prototype;e.hasOwnProperty(C)&&R.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==C){var a=e[o];if(r(i,o),R.hasOwnProperty(o))R[o](t,a);else{var s=S.hasOwnProperty(o),c=i.hasOwnProperty(o),h=a&&a.__reactDontBind,p="function"==typeof a,f=p&&!s&&!c&&!h;if(f)i.__reactAutoBindMap||(i.__reactAutoBindMap={}),i.__reactAutoBindMap[o]=a,i[o]=a;else if(c){var m=S[o];"production"!==n.env.NODE_ENV?w(s&&(m===P.DEFINE_MANY_MERGED||m===P.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,o):w(s&&(m===P.DEFINE_MANY_MERGED||m===P.DEFINE_MANY)),m===P.DEFINE_MANY_MERGED?i[o]=u(i[o],a):m===P.DEFINE_MANY&&(i[o]=l(i[o],a))}else i[o]=a,"production"!==n.env.NODE_ENV&&"function"==typeof a&&e.displayName&&(i[o].displayName=e.displayName+"_"+o)}}}}function a(t,e){if(e)for(var i in e){var r=e[i];if(e.hasOwnProperty(i)){var o=i in R;"production"!==n.env.NODE_ENV?w(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',i):w(!o);var a=i in t;"production"!==n.env.NODE_ENV?w(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",i):w(!a),t[i]=r}}}function s(t,e){"production"!==n.env.NODE_ENV?w(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):w(t&&e&&"object"==typeof t&&"object"==typeof e);for(var i in e)e.hasOwnProperty(i)&&("production"!==n.env.NODE_ENV?w(void 0===t[i],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",i):w(void 0===t[i]),t[i]=e[i]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return s(r,n),s(r,i),r}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var i=e.bind(t);if("production"!==n.env.NODE_ENV){i.__reactBoundContext=t,i.__reactBoundMethod=e,i.__reactBoundArguments=null;var r=t.constructor.displayName,o=i.bind;i.bind=function(a){for(var s=[],u=1,l=arguments.length;l>u;u++)s.push(arguments[u]);if(a!==t&&null!==a)"production"!==n.env.NODE_ENV?T(!1,"bind(): React component methods may only be bound to the component instance. See %s",r):null;else if(!s.length)return"production"!==n.env.NODE_ENV?T(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",r):null,i;var c=o.apply(i,arguments);return c.__reactBoundContext=t,c.__reactBoundMethod=e,c.__reactBoundArguments=s,c}}return i}function h(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=c(t,m.guard(n,t.constructor.displayName+"."+e))}}var p=t("./ReactComponent"),f=t("./ReactCurrentOwner"),d=t("./ReactElement"),m=t("./ReactErrorUtils"),g=t("./ReactInstanceMap"),v=t("./ReactLifeCycle"),_=t("./ReactPropTypeLocations"),y=t("./ReactPropTypeLocationNames"),b=t("./ReactUpdateQueue"),x=t("./Object.assign"),w=t("./invariant"),E=t("./keyMirror"),M=t("./keyOf"),T=t("./warning"),C=M({mixins:null}),P=E({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),L=[],S={mixins:P.DEFINE_MANY,statics:P.DEFINE_MANY,propTypes:P.DEFINE_MANY,contextTypes:P.DEFINE_MANY,childContextTypes:P.DEFINE_MANY,getDefaultProps:P.DEFINE_MANY_MERGED,getInitialState:P.DEFINE_MANY_MERGED,getChildContext:P.DEFINE_MANY_MERGED,render:P.DEFINE_ONCE,componentWillMount:P.DEFINE_MANY,componentDidMount:P.DEFINE_MANY,componentWillReceiveProps:P.DEFINE_MANY,shouldComponentUpdate:P.DEFINE_ONCE,componentWillUpdate:P.DEFINE_MANY,componentDidUpdate:P.DEFINE_MANY,componentWillUnmount:P.DEFINE_MANY,updateComponent:P.OVERRIDE_BASE},R={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){"production"!==n.env.NODE_ENV&&i(t,e,_.childContext),t.childContextTypes=x({},t.childContextTypes,e)},contextTypes:function(t,e){"production"!==n.env.NODE_ENV&&i(t,e,_.context),t.contextTypes=x({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){"production"!==n.env.NODE_ENV&&i(t,e,_.prop),t.propTypes=x({},t.propTypes,e)},statics:function(t,e){a(t,e)}},D={enumerable:!1,get:function(){var t=this.displayName||this.name||"Component";return"production"!==n.env.NODE_ENV?T(!1,"%s.type is deprecated. Use %s directly to access the class.",t,t):null,Object.defineProperty(this,"type",{value:this}),this}},k={replaceState:function(t,e){b.enqueueReplaceState(this,t),e&&b.enqueueCallback(this,e)},isMounted:function(){if("production"!==n.env.NODE_ENV){var t=f.current;null!==t&&("production"!==n.env.NODE_ENV?T(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"):null,t._warnedAboutRefsInRender=!0)}var e=g.get(this);return e&&e!==v.currentlyMountingInstance},setProps:function(t,e){b.enqueueSetProps(this,t),e&&b.enqueueCallback(this,e)},replaceProps:function(t,e){b.enqueueReplaceProps(this,t),e&&b.enqueueCallback(this,e)}},O=function(){};x(O.prototype,p.prototype,k);var A={createClass:function(t){var e=function(t,i){"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?T(this instanceof e,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&h(this),this.props=t,this.context=i,this.state=null;var r=this.getInitialState?this.getInitialState():null;"production"!==n.env.NODE_ENV&&"undefined"==typeof r&&this.getInitialState._isMockFunction&&(r=null),"production"!==n.env.NODE_ENV?w("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"):w("object"==typeof r&&!Array.isArray(r)),this.state=r};e.prototype=new O,e.prototype.constructor=e,L.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),"production"!==n.env.NODE_ENV&&(e.getDefaultProps&&(e.getDefaultProps.isReactClassApproved={}),e.prototype.getInitialState&&(e.prototype.getInitialState.isReactClassApproved={})),"production"!==n.env.NODE_ENV?w(e.prototype.render,"createClass(...): Class specification must implement a `render` method."):w(e.prototype.render),"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?T(!e.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):null);for(var i in S)e.prototype[i]||(e.prototype[i]=null);if(e.type=e,"production"!==n.env.NODE_ENV)try{Object.defineProperty(e,"type",D)}catch(r){}return e},injection:{injectMixin:function(t){L.push(t)}}};e.exports=A}).call(this,t("_process"))},{"./Object.assign":268,"./ReactComponent":276,"./ReactCurrentOwner":281,"./ReactElement":299,"./ReactErrorUtils":302,"./ReactInstanceMap":309,"./ReactLifeCycle":310,"./ReactPropTypeLocationNames":318,"./ReactPropTypeLocations":319,"./ReactUpdateQueue":328,"./invariant":377,"./keyMirror":382,"./keyOf":383,"./warning":396,_process:8}],276:[function(t,e,n){(function(n){"use strict";function i(t,e){this.props=t,this.context=e}var r=t("./ReactUpdateQueue"),o=t("./invariant"),a=t("./warning");if(i.prototype.setState=function(t,e){"production"!==n.env.NODE_ENV?o("object"==typeof t||"function"==typeof t||null==t,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):o("object"==typeof t||"function"==typeof t||null==t),"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?a(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),r.enqueueSetState(this,t),e&&r.enqueueCallback(this,e)},i.prototype.forceUpdate=function(t){r.enqueueForceUpdate(this),t&&r.enqueueCallback(this,t)},"production"!==n.env.NODE_ENV){var s={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call React.render again at the top level."]},u=function(t,e){try{Object.defineProperty(i.prototype,t,{get:function(){"production"!==n.env.NODE_ENV?a(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",e[0],e[1]):null}})}catch(r){}};for(var l in s)s.hasOwnProperty(l)&&u(l,s[l])}e.exports=i}).call(this,t("_process"))},{"./ReactUpdateQueue":328,"./invariant":377,"./warning":396,_process:8}],277:[function(t,e,n){"use strict";var i=t("./ReactDOMIDOperations"),r=t("./ReactMount"),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};e.exports=o},{"./ReactDOMIDOperations":286,"./ReactMount":312}],278:[function(t,e,n){(function(n){"use strict";var i=t("./invariant"),r=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){"production"!==n.env.NODE_ENV?i(!r,"ReactCompositeComponent: injectEnvironment() can only be called once."):i(!r),o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};e.exports=o}).call(this,t("_process"))},{"./invariant":377,_process:8}],279:[function(t,e,n){(function(n){"use strict";function i(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var r=t("./ReactComponentEnvironment"),o=t("./ReactContext"),a=t("./ReactCurrentOwner"),s=t("./ReactElement"),u=t("./ReactElementValidator"),l=t("./ReactInstanceMap"),c=t("./ReactLifeCycle"),h=t("./ReactNativeComponent"),p=t("./ReactPerf"),f=t("./ReactPropTypeLocations"),d=t("./ReactPropTypeLocationNames"),m=t("./ReactReconciler"),g=t("./ReactUpdates"),v=t("./Object.assign"),_=t("./emptyObject"),y=t("./invariant"),b=t("./shouldUpdateReactComponent"),x=t("./warning"),w=1,E={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,e,i){this._context=i,this._mountOrder=w++,this._rootNodeID=t;var r=this._processProps(this._currentElement.props),o=this._processContext(this._currentElement._context),a=h.getComponentClassForElement(this._currentElement),s=new a(r,o);"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?x(null!=s.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"):null),s.props=r,s.context=o,s.refs=_,this._instance=s,l.set(s,this),"production"!==n.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,i),"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?x(!s.getInitialState||s.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==n.env.NODE_ENV?x(!s.getDefaultProps||s.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):null,"production"!==n.env.NODE_ENV?x(!s.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==n.env.NODE_ENV?x(!s.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==n.env.NODE_ENV?x("function"!=typeof s.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var u=s.state;void 0===u&&(s.state=u=null),"production"!==n.env.NODE_ENV?y("object"==typeof u&&!Array.isArray(u),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):y("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,f,d=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),p=this._getValidatedChildContext(i),f=this._renderValidatedComponent(p)}finally{c.currentlyMountingInstance=d}this._renderedComponent=this._instantiateReactComponent(f,this._currentElement.type);var g=m.mountComponent(this._renderedComponent,t,e,this._mergeChildContext(i,p));return s.componentDidMount&&e.getReactMountReady().enqueue(s.componentDidMount,s),g},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{c.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,l.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,v({},n.props,t)),g.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return _;var n=this._currentElement.type.contextTypes;if(!n)return _;e={};for(var i in n)e[i]=t[i];return e},_processContext:function(t){var e=this._maskContext(t);if("production"!==n.env.NODE_ENV){var i=h.getComponentClassForElement(this._currentElement);i.contextTypes&&this._checkPropTypes(i.contextTypes,e,f.context)}return e},_getValidatedChildContext:function(t){var e=this._instance,i=e.getChildContext&&e.getChildContext();if(i){"production"!==n.env.NODE_ENV?y("object"==typeof e.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):y("object"==typeof e.constructor.childContextTypes),"production"!==n.env.NODE_ENV&&this._checkPropTypes(e.constructor.childContextTypes,i,f.childContext);for(var r in i)"production"!==n.env.NODE_ENV?y(r in e.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",r):y(r in e.constructor.childContextTypes);return i}return null},_mergeChildContext:function(t,e){return e?v({},t,e):t},_processProps:function(t){if("production"!==n.env.NODE_ENV){var e=h.getComponentClassForElement(this._currentElement);e.propTypes&&this._checkPropTypes(e.propTypes,t,f.prop)}return t},_checkPropTypes:function(t,e,r){var o=this.getName();for(var a in t)if(t.hasOwnProperty(a)){var s;try{"production"!==n.env.NODE_ENV?y("function"==typeof t[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",d[r],a):y("function"==typeof t[a]),s=t[a](e,a,o,r)}catch(u){s=u}if(s instanceof Error){var l=i(this);r===f.prop?"production"!==n.env.NODE_ENV?x(!1,"Failed Composite propType: %s%s",s.message,l):null:"production"!==n.env.NODE_ENV?x(!1,"Failed Context Types: %s%s",s.message,l):null}}},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==n.env.NODE_ENV&&u.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(t,e){t=this._maskContext(t),e=this._maskContext(e);for(var i=Object.keys(e).sort(),r=this.getName()||"ReactCompositeComponent",o=0;o<i.length;o++){var a=i[o];"production"!==n.env.NODE_ENV?x(t[a]===e[a],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",t[a],e[a],a,r):null}},updateComponent:function(t,e,i,r,o){var a=this._instance,s=a.context,u=a.props;e!==i&&(s=this._processContext(i._context),u=this._processProps(i.props),"production"!==n.env.NODE_ENV&&null!=o&&this._warnIfContextsDiffer(i._context,o),a.componentWillReceiveProps&&a.componentWillReceiveProps(u,s));var l=this._processPendingState(u,s),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(u,l,s);"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?x("undefined"!=typeof c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,u,l,s,t,o)):(this._currentElement=i,this._context=o,a.props=u,a.state=l,a.context=s)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=v({},r?i[0]:n.state),a=r?1:0;a<i.length;a++){var s=i[a];v(o,"function"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,i,r,o){var a=this._instance,s=a.props,u=a.state,l=a.context;a.componentWillUpdate&&a.componentWillUpdate(e,n,i),this._currentElement=t,this._context=o,a.props=e,a.state=n,a.context=i,this._updateRenderedComponent(r,o),a.componentDidUpdate&&r.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,u,l),a)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._getValidatedChildContext(),o=this._renderValidatedComponent(r);if(b(i,o))m.receiveComponent(n,o,t,this._mergeChildContext(e,r));else{var a=this._rootNodeID,s=n._rootNodeID;m.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var u=m.mountComponent(this._renderedComponent,a,t,this._mergeChildContext(e,r));this._replaceNodeWithMarkupByID(s,u)}},_replaceNodeWithMarkupByID:function(t,e){r.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return"production"!==n.env.NODE_ENV&&"undefined"==typeof e&&t.render._isMockFunction&&(e=null),e},_renderValidatedComponent:function(t){var e,i=o.current;o.current=this._mergeChildContext(this._currentElement._context,t),a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=i,a.current=null}return"production"!==n.env.NODE_ENV?y(null===e||e===!1||s.isValidElement(e),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):y(null===e||e===!1||s.isValidElement(e)),e},attachRef:function(t,e){var n=this.getPublicInstance(),i=n.refs===_?n.refs={}:n.refs;i[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(E,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"
});var M={Mixin:E};e.exports=M}).call(this,t("_process"))},{"./Object.assign":268,"./ReactComponentEnvironment":278,"./ReactContext":280,"./ReactCurrentOwner":281,"./ReactElement":299,"./ReactElementValidator":300,"./ReactInstanceMap":309,"./ReactLifeCycle":310,"./ReactNativeComponent":315,"./ReactPerf":317,"./ReactPropTypeLocationNames":318,"./ReactPropTypeLocations":319,"./ReactReconciler":323,"./ReactUpdates":329,"./emptyObject":357,"./invariant":377,"./shouldUpdateReactComponent":393,"./warning":396,_process:8}],280:[function(t,e,n){(function(n){"use strict";var i=t("./Object.assign"),r=t("./emptyObject"),o=t("./warning"),a=!1,s={current:r,withContext:function(t,e){"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?o(a,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,a=!0);var r,u=s.current;s.current=i({},u,t);try{r=e()}finally{s.current=u}return r}};e.exports=s}).call(this,t("_process"))},{"./Object.assign":268,"./emptyObject":357,"./warning":396,_process:8}],281:[function(t,e,n){"use strict";var i={current:null};e.exports=i},{}],282:[function(t,e,n){(function(n){"use strict";function i(t){return"production"!==n.env.NODE_ENV?o.createFactory(t):r.createFactory(t)}var r=t("./ReactElement"),o=t("./ReactElementValidator"),a=t("./mapObject"),s=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);e.exports=s}).call(this,t("_process"))},{"./ReactElement":299,"./ReactElementValidator":300,"./mapObject":384,_process:8}],283:[function(t,e,n){"use strict";var i=t("./AutoFocusMixin"),r=t("./ReactBrowserComponentMixin"),o=t("./ReactClass"),a=t("./ReactElement"),s=t("./keyMirror"),u=a.createFactory("button"),l=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[i,r],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&l[e]||(t[e]=this.props[e]);return u(t,this.props.children)}});e.exports=c},{"./AutoFocusMixin":243,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299,"./keyMirror":382}],284:[function(t,e,n){(function(n){"use strict";function i(t){t&&(null!=t.dangerouslySetInnerHTML&&("production"!==n.env.NODE_ENV?v(null==t.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):v(null==t.children),"production"!==n.env.NODE_ENV?v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML)),"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?b(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==n.env.NODE_ENV?b(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==n.env.NODE_ENV?v(null==t.style||"object"==typeof t.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):v(null==t.style||"object"==typeof t.style))}function r(t,e,i,r){"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?b("onScroll"!==e||_("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var o=p.findReactContainerForID(t);if(o){var a=o.nodeType===C?o.ownerDocument:o;w(e,a)}r.getPutListenerQueue().enqueuePutListener(t,e,i)}function o(t){D.call(R,t)||("production"!==n.env.NODE_ENV?v(S.test(t),"Invalid tag: %s",t):v(S.test(t)),R[t]=!0)}function a(t){o(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=t("./CSSPropertyOperations"),u=t("./DOMProperty"),l=t("./DOMPropertyOperations"),c=t("./ReactBrowserEventEmitter"),h=t("./ReactComponentBrowserEnvironment"),p=t("./ReactMount"),f=t("./ReactMultiChild"),d=t("./ReactPerf"),m=t("./Object.assign"),g=t("./escapeTextContentForBrowser"),v=t("./invariant"),_=t("./isEventSupported"),y=t("./keyOf"),b=t("./warning"),x=c.deleteListener,w=c.listenTo,E=c.registrationNameModules,M={string:!0,number:!0},T=y({style:null}),C=1,P=null,L={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,R={},D={}.hasOwnProperty;a.displayName="ReactDOMComponent",a.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,i(this._currentElement.props);var r=L[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+r},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(null!=o)if(E.hasOwnProperty(i))r(this._rootNodeID,i,o,t);else{i===T&&(o&&(o=this._previousStyleCopy=m({},e.style)),o=s.createMarkupForStyles(o));var a=l.createMarkupForProperty(i,o);a&&(n+=" "+a)}}if(t.renderToStaticMarkup)return n+">";var u=l.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(t,e){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var i=this._currentElement.props,r=i.dangerouslySetInnerHTML;if(null!=r){if(null!=r.__html)return n+r.__html}else{var o=M[typeof i.children]?i.children:null,a=null!=o?null:i.children;if(null!=o)return n+g(o);if(null!=a){var s=this.mountChildren(a,t,e);return n+s.join("")}}return n},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,r){i(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,r)},_updateDOMProperties:function(t,e){var n,i,o,a=this._currentElement.props;for(n in t)if(!a.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===T){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(o=o||{},o[i]="");this._previousStyleCopy=null}else E.hasOwnProperty(n)?x(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&P.deletePropertyByID(this._rootNodeID,n);for(n in a){var l=a[n],c=n===T?this._previousStyleCopy:t[n];if(a.hasOwnProperty(n)&&l!==c)if(n===T)if(l?l=this._previousStyleCopy=m({},l):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(o=o||{},o[i]=l[i])}else o=l;else E.hasOwnProperty(n)?r(this._rootNodeID,n,l,e):(u.isStandardName[n]||u.isCustomAttribute(n))&&P.updatePropertyByID(this._rootNodeID,n,l)}o&&P.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(t,e,n){var i=this._currentElement.props,r=M[typeof t.children]?t.children:null,o=M[typeof i.children]?i.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=i.dangerouslySetInnerHTML&&i.dangerouslySetInnerHTML.__html,u=null!=r?null:t.children,l=null!=o?null:i.children,c=null!=r||null!=a,h=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,e,n):c&&!h&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=s?a!==s&&P.updateInnerHTMLByID(this._rootNodeID,s):null!=l&&this.updateChildren(l,e,n)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),h.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},d.measureMethods(a,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(a.prototype,a.Mixin,f.Mixin),a.injection={injectIDOperations:function(t){a.BackendIDOperations=P=t}},e.exports=a}).call(this,t("_process"))},{"./CSSPropertyOperations":246,"./DOMProperty":251,"./DOMPropertyOperations":252,"./Object.assign":268,"./ReactBrowserEventEmitter":272,"./ReactComponentBrowserEnvironment":277,"./ReactMount":312,"./ReactMultiChild":313,"./ReactPerf":317,"./escapeTextContentForBrowser":358,"./invariant":377,"./isEventSupported":378,"./keyOf":383,"./warning":396,_process:8}],285:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),o=t("./ReactBrowserComponentMixin"),a=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("form"),l=a.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});e.exports=l},{"./EventConstants":256,"./LocalEventTrapMixin":266,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299}],286:[function(t,e,n){(function(n){"use strict";var i=t("./CSSPropertyOperations"),r=t("./DOMChildrenOperations"),o=t("./DOMPropertyOperations"),a=t("./ReactMount"),s=t("./ReactPerf"),u=t("./invariant"),l=t("./setInnerHTML"),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},h={updatePropertyByID:function(t,e,i){var r=a.getNode(t);"production"!==n.env.NODE_ENV?u(!c.hasOwnProperty(e),"updatePropertyByID(...): %s",c[e]):u(!c.hasOwnProperty(e)),null!=i?o.setValueForProperty(r,e,i):o.deleteValueForProperty(r,e)},deletePropertyByID:function(t,e,i){var r=a.getNode(t);"production"!==n.env.NODE_ENV?u(!c.hasOwnProperty(e),"updatePropertyByID(...): %s",c[e]):u(!c.hasOwnProperty(e)),o.deleteValueForProperty(r,e,i)},updateStylesByID:function(t,e){var n=a.getNode(t);i.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=a.getNode(t);l(n,e)},updateTextContentByID:function(t,e){var n=a.getNode(t);r.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=a.getNode(t);r.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=a.getNode(t[n].parentID);r.processUpdates(t,e)}};s.measureMethods(h,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=h}).call(this,t("_process"))},{"./CSSPropertyOperations":246,"./DOMChildrenOperations":250,"./DOMPropertyOperations":252,"./ReactMount":312,"./ReactPerf":317,"./invariant":377,"./setInnerHTML":390,_process:8}],287:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),o=t("./ReactBrowserComponentMixin"),a=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("iframe"),l=a.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load")}});e.exports=l},{"./EventConstants":256,"./LocalEventTrapMixin":266,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299}],288:[function(t,e,n){"use strict";var i=t("./EventConstants"),r=t("./LocalEventTrapMixin"),o=t("./ReactBrowserComponentMixin"),a=t("./ReactClass"),s=t("./ReactElement"),u=s.createFactory("img"),l=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});e.exports=l},{"./EventConstants":256,"./LocalEventTrapMixin":266,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299}],289:[function(t,e,n){(function(n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),o=t("./DOMPropertyOperations"),a=t("./LinkedValueUtils"),s=t("./ReactBrowserComponentMixin"),u=t("./ReactClass"),l=t("./ReactElement"),c=t("./ReactMount"),h=t("./ReactUpdates"),p=t("./Object.assign"),f=t("./invariant"),d=l.createFactory("input"),m={},g=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[r,a.Mixin,s],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=p({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=a.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=a.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,d(t,this.props.children)},componentDidMount:function(){var t=c.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=c.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var i=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(i,"checked",this.props.checked||!1);var r=a.getValue(this);null!=r&&o.setValueForProperty(i,"value",""+r)},_handleChange:function(t){var e,r=a.getOnChange(this);r&&(e=r.call(this,t)),h.asap(i,this);var o=this.props.name;if("radio"===this.props.type&&null!=o){for(var s=this.getDOMNode(),u=s;u.parentNode;)u=u.parentNode;for(var l=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),p=0,d=l.length;d>p;p++){var g=l[p];if(g!==s&&g.form===s.form){var v=c.getID(g);"production"!==n.env.NODE_ENV?f(v,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):f(v);var _=m[v];"production"!==n.env.NODE_ENV?f(_,"ReactDOMInput: Unknown radio button ID %s.",v):f(_),h.asap(i,_)}}}return e}});e.exports=g}).call(this,t("_process"))},{"./AutoFocusMixin":243,"./DOMPropertyOperations":252,"./LinkedValueUtils":265,"./Object.assign":268,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299,"./ReactMount":312,"./ReactUpdates":329,"./invariant":377,_process:8}],290:[function(t,e,n){(function(n){"use strict";var i=t("./ReactBrowserComponentMixin"),r=t("./ReactClass"),o=t("./ReactElement"),a=t("./warning"),s=o.createFactory("option"),u=r.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[i],componentWillMount:function(){"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?a(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return s(this.props,this.props.children)}});e.exports=u}).call(this,t("_process"))},{"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299,"./warning":396,_process:8}],291:[function(t,e,n){"use strict";function i(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=s.getValue(this);null!=t&&this.isMounted()&&o(this,t)}}function r(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(t,e){var n,i,r,o=t.getDOMNode().options;if(t.props.multiple){for(n={},i=0,r=e.length;r>i;i++)n[""+e[i]]=!0;for(i=0,r=o.length;r>i;i++){var a=n.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(n=""+e,i=0,r=o.length;r>i;i++)if(o[i].value===n)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}var a=t("./AutoFocusMixin"),s=t("./LinkedValueUtils"),u=t("./ReactBrowserComponentMixin"),l=t("./ReactClass"),c=t("./ReactElement"),h=t("./ReactUpdates"),p=t("./Object.assign"),f=c.createFactory("select"),d=l.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[a,s.Mixin,u],propTypes:{defaultValue:r,value:r},render:function(){var t=p({},this.props);return t.onChange=this._handleChange,t.value=null,f(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=s.getValue(this);null!=t?o(this,t):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=s.getValue(this);null!=e?(this._pendingUpdate=!1,o(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,h.asap(i,this),e}});e.exports=d},{"./AutoFocusMixin":243,"./LinkedValueUtils":265,"./Object.assign":268,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299,"./ReactUpdates":329}],292:[function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0),u=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(t),c.setEnd(s.startContainer,s.startOffset);var h=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p=h?0:c.toString().length,f=p+l,d=document.createRange();d.setStart(n,r),d.setEnd(o,a);var m=d.collapsed;return{start:m?f:p,end:m?p:f}}function a(t,e){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),i=t[c()].length,r=Math.min(e.start,i),o="undefined"==typeof e.end?r:Math.min(e.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=l(t,r),u=l(t,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=t("./ExecutionEnvironment"),l=t("./getNodeForCharacterOffset"),c=t("./getTextContentAccessor"),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:h?r:o,setOffsets:h?a:s};e.exports=p},{"./ExecutionEnvironment":262,"./getNodeForCharacterOffset":370,"./getTextContentAccessor":372}],293:[function(t,e,n){"use strict";var i=t("./DOMPropertyOperations"),r=t("./ReactComponentBrowserEnvironment"),o=t("./ReactDOMComponent"),a=t("./Object.assign"),s=t("./escapeTextContentForBrowser"),u=function(t){};a(u.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var r=s(this._stringText);return e.renderToStaticMarkup?r:"<span "+i.createMarkupForID(t)+">"+r+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=u},{"./DOMPropertyOperations":252,"./Object.assign":268,"./ReactComponentBrowserEnvironment":277,"./ReactDOMComponent":284,"./escapeTextContentForBrowser":358}],294:[function(t,e,n){(function(n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),o=t("./DOMPropertyOperations"),a=t("./LinkedValueUtils"),s=t("./ReactBrowserComponentMixin"),u=t("./ReactClass"),l=t("./ReactElement"),c=t("./ReactUpdates"),h=t("./Object.assign"),p=t("./invariant"),f=t("./warning"),d=l.createFactory("textarea"),m=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[r,a.Mixin,s],getInitialState:function(){var t=this.props.defaultValue,e=this.props.children;null!=e&&("production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?f(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==n.env.NODE_ENV?p(null==t,"If you supply `defaultValue` on a <textarea>, do not pass children."):p(null==t),Array.isArray(e)&&("production"!==n.env.NODE_ENV?p(e.length<=1,"<textarea> can only have at most one child."):p(e.length<=1),e=e[0]),t=""+e),null==t&&(t="");var i=a.getValue(this);return{initialValue:""+(null!=i?i:t)}},render:function(){var t=h({},this.props);return"production"!==n.env.NODE_ENV?p(null==t.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):p(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,d(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var i=a.getValue(this);if(null!=i){var r=this.getDOMNode();o.setValueForProperty(r,"value",""+i)}},_handleChange:function(t){var e,n=a.getOnChange(this);return n&&(e=n.call(this,t)),c.asap(i,this),e}});e.exports=m}).call(this,t("_process"))},{"./AutoFocusMixin":243,"./DOMPropertyOperations":252,"./LinkedValueUtils":265,"./Object.assign":268,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactElement":299,"./ReactUpdates":329,"./invariant":377,"./warning":396,_process:8}],295:[function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var r=t("./ReactUpdates"),o=t("./Transaction"),a=t("./Object.assign"),s=t("./emptyFunction"),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},l={initialize:s,close:r.flushBatchedUpdates.bind(r)},c=[l,u];a(i.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var h=new i,p={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?t(e,n,i,r):h.perform(t,null,e,n,i,r)}};e.exports=p},{"./Object.assign":268,"./ReactUpdates":329,"./Transaction":345,"./emptyFunction":356}],296:[function(t,e,n){(function(n){"use strict";function i(t){return d.createClass({tagName:t.toUpperCase(),render:function(){return new L(t,null,null,null,null,this.props)}})}function r(){if(R.EventEmitter.injectReactEventListener(S),R.EventPluginHub.injectEventPluginOrder(u),R.EventPluginHub.injectInstanceHandle(D),R.EventPluginHub.injectMount(k),R.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:l,ChangeEventPlugin:a,MobileSafariClickEventPlugin:p,SelectEventPlugin:A,BeforeInputEventPlugin:o}),R.NativeComponent.injectGenericComponentClass(v),R.NativeComponent.injectTextComponentClass(P),R.NativeComponent.injectAutoWrapper(i),R.Class.injectMixin(f),R.NativeComponent.injectComponentClasses({button:_,form:y,iframe:w,img:b,input:E,option:M,select:T,textarea:C,html:z("html"),head:z("head"),body:z("body")}),R.DOMProperty.injectDOMPropertyConfig(h),R.DOMProperty.injectDOMPropertyConfig(U),R.EmptyComponent.injectEmptyComponent("noscript"),R.Updates.injectReconcileTransaction(O),R.Updates.injectBatchingStrategy(g),R.RootIndex.injectCreateReactRootIndex(c.canUseDOM?s.createReactRootIndex:N.createReactRootIndex),R.Component.injectEnvironment(m),R.DOMComponent.injectIDOperations(x),"production"!==n.env.NODE_ENV){var e=c.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var r=t("./ReactDefaultPerf");r.start()}}}var o=t("./BeforeInputEventPlugin"),a=t("./ChangeEventPlugin"),s=t("./ClientReactRootIndex"),u=t("./DefaultEventPluginOrder"),l=t("./EnterLeaveEventPlugin"),c=t("./ExecutionEnvironment"),h=t("./HTMLDOMPropertyConfig"),p=t("./MobileSafariClickEventPlugin"),f=t("./ReactBrowserComponentMixin"),d=t("./ReactClass"),m=t("./ReactComponentBrowserEnvironment"),g=t("./ReactDefaultBatchingStrategy"),v=t("./ReactDOMComponent"),_=t("./ReactDOMButton"),y=t("./ReactDOMForm"),b=t("./ReactDOMImg"),x=t("./ReactDOMIDOperations"),w=t("./ReactDOMIframe"),E=t("./ReactDOMInput"),M=t("./ReactDOMOption"),T=t("./ReactDOMSelect"),C=t("./ReactDOMTextarea"),P=t("./ReactDOMTextComponent"),L=t("./ReactElement"),S=t("./ReactEventListener"),R=t("./ReactInjection"),D=t("./ReactInstanceHandles"),k=t("./ReactMount"),O=t("./ReactReconcileTransaction"),A=t("./SelectEventPlugin"),N=t("./ServerReactRootIndex"),I=t("./SimpleEventPlugin"),U=t("./SVGDOMPropertyConfig"),z=t("./createFullPageComponent");e.exports={inject:r}}).call(this,t("_process"))},{"./BeforeInputEventPlugin":244,"./ChangeEventPlugin":248,"./ClientReactRootIndex":249,"./DefaultEventPluginOrder":254,"./EnterLeaveEventPlugin":255,"./ExecutionEnvironment":262,"./HTMLDOMPropertyConfig":264,"./MobileSafariClickEventPlugin":267,"./ReactBrowserComponentMixin":271,"./ReactClass":275,"./ReactComponentBrowserEnvironment":277,"./ReactDOMButton":283,"./ReactDOMComponent":284,"./ReactDOMForm":285,"./ReactDOMIDOperations":286,"./ReactDOMIframe":287,"./ReactDOMImg":288,"./ReactDOMInput":289,"./ReactDOMOption":290,"./ReactDOMSelect":291,"./ReactDOMTextComponent":293,"./ReactDOMTextarea":294,"./ReactDefaultBatchingStrategy":295,"./ReactDefaultPerf":297,"./ReactElement":299,"./ReactEventListener":304,"./ReactInjection":306,"./ReactInstanceHandles":308,"./ReactMount":312,"./ReactReconcileTransaction":322,"./SVGDOMPropertyConfig":330,"./SelectEventPlugin":331,"./ServerReactRootIndex":332,"./SimpleEventPlugin":333,"./createFullPageComponent":353,_process:8}],297:[function(t,e,n){"use strict";function i(t){return Math.floor(100*t)/100}function r(t,e,n){t[e]=(t[e]||0)+n}var o=t("./DOMProperty"),a=t("./ReactDefaultPerfAnalysis"),s=t("./ReactMount"),u=t("./ReactPerf"),l=t("./performanceNow"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||u.injection.injectMeasure(c.measure),c._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(t){t=t||c._allMeasurements;var e=a.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":i(t.inclusive),"Exclusive mount time (ms)":i(t.exclusive),"Exclusive render time (ms)":i(t.render),"Mount time per instance (ms)":i(t.exclusive/t.count),"Render time per instance (ms)":i(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||c._allMeasurements;var e=a.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":i(t.time),Instances:t.count}})),console.log("Total time:",a.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=a.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(t)),console.log("Total time:",a.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||c._allMeasurements;var e=a.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[o.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",a.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,i){var r=c._allMeasurements[c._allMeasurements.length-1].writes;r[t]=r[t]||[],r[t].push({type:e,time:n,args:i})},measure:function(t,e,n){return function(){for(var i=[],o=0,a=arguments.length;a>o;o++)i.push(arguments[o]);var u,h,p;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=l(),h=n.apply(this,i),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-p,h;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(p=l(),h=n.apply(this,i),u=l()-p,"_mountImageIntoNode"===e){var f=s.getID(i[1]);c._recordWrite(f,e,u,i[0])}else"dangerouslyProcessChildrenUpdates"===e?i[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=i[1][t.markupIndex]),c._recordWrite(t.parentID,t.type,u,e)}):c._recordWrite(i[0],e,u,Array.prototype.slice.call(i,1));return h}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,i);if("string"==typeof this._currentElement.type)return n.apply(this,i);var d="mountComponent"===e?i[0]:this._rootNodeID,m="_renderValidatedComponent"===e,g="mountComponent"===e,v=c._mountStack,_=c._allMeasurements[c._allMeasurements.length-1];if(m?r(_.counts,d,1):g&&v.push(0),p=l(),h=n.apply(this,i),u=l()-p,m)r(_.render,d,u);else if(g){var y=v.pop();v[v.length-1]+=u,r(_.exclusive,d,u-y),r(_.inclusive,d,u)}else r(_.inclusive,d,u);return _.displayNames[d]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},h}}};e.exports=c},{"./DOMProperty":251,"./ReactDefaultPerfAnalysis":298,"./ReactMount":312,"./ReactPerf":317,"./performanceNow":388}],298:[function(t,e,n){function i(t){for(var e=0,n=0;n<t.length;n++){var i=t[n];e+=i.totalTime}return e}function r(t){for(var e=[],n=0;n<t.length;n++){var i,r=t[n];for(i in r.writes)r.writes[i].forEach(function(t){e.push({id:i,type:c[t.type]||t.type,args:t.args})})}return e}function o(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i],o=u({},r.exclusive,r.inclusive);for(var a in o)e=r.displayNames[a].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},r.render[a]&&(n[e].render+=r.render[a]),r.exclusive[a]&&(n[e].exclusive+=r.exclusive[a]),r.inclusive[a]&&(n[e].inclusive+=r.inclusive[a]),r.counts[a]&&(n[e].count+=r.counts[a])}var s=[];for(e in n)n[e].exclusive>=l&&s.push(n[e]);return s.sort(function(t,e){return e.exclusive-t.exclusive}),s}function a(t,e){for(var n,i={},r=0;r<t.length;r++){var o,a=t[r],c=u({},a.exclusive,a.inclusive);e&&(o=s(a));for(var h in c)if(!e||o[h]){var p=a.displayNames[h];n=p.owner+" > "+p.current,i[n]=i[n]||{componentName:n,time:0,count:0},a.inclusive[h]&&(i[n].time+=a.inclusive[h]),a.counts[h]&&(i[n].count+=a.counts[h])}}var f=[];for(n in i)i[n].time>=l&&f.push(i[n]);
return f.sort(function(t,e){return e.time-t.time}),f}function s(t){var e={},n=Object.keys(t.writes),i=u({},t.exclusive,t.inclusive);for(var r in i){for(var o=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(r)){o=!0;break}!o&&t.counts[r]>0&&(e[r]=!0)}return e}var u=t("./Object.assign"),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},h={getExclusiveSummary:o,getInclusiveSummary:a,getDOMSummary:r,getTotalTime:i};e.exports=h},{"./Object.assign":268}],299:[function(t,e,n){(function(n){"use strict";function i(t,e){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[e]:null},set:function(t){"production"!==n.env.NODE_ENV?u(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",e):null,this._store[e]=t}})}function r(t){try{var e={props:!0};for(var n in e)i(t,n);c=!0}catch(r){}}var o=t("./ReactContext"),a=t("./ReactCurrentOwner"),s=t("./Object.assign"),u=t("./warning"),l={key:!0,ref:!0},c=!1,h=function(t,e,i,r,o,a){if(this.type=t,this.key=e,this.ref=i,this._owner=r,this._context=o,"production"!==n.env.NODE_ENV){this._store={props:a,originalProps:s({},a)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(u){}if(this._store.validated=!1,c)return void Object.freeze(this)}this.props=a};h.prototype={_isReactElement:!0},"production"!==n.env.NODE_ENV&&r(h.prototype),h.createElement=function(t,e,n){var i,r={},s=null,u=null;if(null!=e){u=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key;for(i in e)e.hasOwnProperty(i)&&!l.hasOwnProperty(i)&&(r[i]=e[i])}var c=arguments.length-2;if(1===c)r.children=n;else if(c>1){for(var p=Array(c),f=0;c>f;f++)p[f]=arguments[f+2];r.children=p}if(t&&t.defaultProps){var d=t.defaultProps;for(i in d)"undefined"==typeof r[i]&&(r[i]=d[i])}return new h(t,s,u,a.current,o.current,r)},h.createFactory=function(t){var e=h.createElement.bind(null,t);return e.type=t,e},h.cloneAndReplaceProps=function(t,e){var i=new h(t.type,t.key,t.ref,t._owner,t._context,e);return"production"!==n.env.NODE_ENV&&(i._store.validated=t._store.validated),i},h.cloneElement=function(t,e,n){var i,r=s({},t.props),o=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=a.current),void 0!==e.key&&(o=""+e.key);for(i in e)e.hasOwnProperty(i)&&!l.hasOwnProperty(i)&&(r[i]=e[i])}var p=arguments.length-2;if(1===p)r.children=n;else if(p>1){for(var f=Array(p),d=0;p>d;d++)f[d]=arguments[d+2];r.children=f}return new h(t.type,o,u,c,t._context,r)},h.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},e.exports=h}).call(this,t("_process"))},{"./Object.assign":268,"./ReactContext":280,"./ReactCurrentOwner":281,"./warning":396,_process:8}],300:[function(t,e,n){(function(n){"use strict";function i(){if(y.current){var t=y.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(t){var e=t&&t.getPublicInstance();if(e){var n=e.constructor;if(n)return n.displayName||n.name||void 0}}function o(){var t=y.current;return t&&r(t)||void 0}function a(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,u('Each child in an array or iterator should have a unique "key" prop.',t,e))}function s(t,e,n){C.test(t)&&u("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function u(t,e,i){var a=o(),s="string"==typeof i?i:i.displayName||i.name,u=a||s,l=M[t]||(M[t]={});if(!l.hasOwnProperty(u)){l[u]=!0;var c=a?" Check the render method of "+a+".":s?" Check the React.render call using <"+s+">.":"",h="";if(e&&e._owner&&e._owner!==y.current){var p=r(e._owner);h=" It was passed a child from "+p+"."}"production"!==n.env.NODE_ENV?E(!1,t+"%s%s See https://fb.me/react-warning-keys for more information.",c,h):null}}function l(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];m.isValidElement(i)&&a(i,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var r=x(t);if(r){if(r!==t.entries)for(var o,u=r.call(t);!(o=u.next()).done;)m.isValidElement(o.value)&&a(o.value,e)}else if("object"==typeof t){var l=g.extractIfFragment(t);for(var c in l)l.hasOwnProperty(c)&&s(c,l[c],e)}}}function c(t,e,r,o){for(var a in e)if(e.hasOwnProperty(a)){var s;try{"production"!==n.env.NODE_ENV?w("function"==typeof e[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",_[o],a):w("function"==typeof e[a]),s=e[a](r,a,t,o)}catch(u){s=u}if(s instanceof Error&&!(s.message in T)){T[s.message]=!0;var l=i(this);"production"!==n.env.NODE_ENV?E(!1,"Failed propType: %s%s",s.message,l):null}}}function h(t,e){var i=e.type,r="string"==typeof i?i:i.displayName,o=e._owner?e._owner.getPublicInstance().constructor.displayName:null,a=t+"|"+r+"|"+o;if(!P.hasOwnProperty(a)){P[a]=!0;var s="";r&&(s=" <"+r+" />");var u="";o&&(u=" The element was created by "+o+"."),"production"!==n.env.NODE_ENV?E(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",t,s,u):null}}function p(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function f(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var i in n)n.hasOwnProperty(i)&&(e.hasOwnProperty(i)&&p(e[i],n[i])||(h(i,t),e[i]=n[i]))}}function d(t){if(null!=t.type){var e=b.getComponentClassForElement(t),i=e.displayName||e.name;e.propTypes&&c(i,e.propTypes,t.props,v.prop),"function"==typeof e.getDefaultProps&&("production"!==n.env.NODE_ENV?E(e.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var m=t("./ReactElement"),g=t("./ReactFragment"),v=t("./ReactPropTypeLocations"),_=t("./ReactPropTypeLocationNames"),y=t("./ReactCurrentOwner"),b=t("./ReactNativeComponent"),x=t("./getIteratorFn"),w=t("./invariant"),E=t("./warning"),M={},T={},C=/^\d+$/,P={},L={checkAndWarnForMutatedProps:f,createElement:function(t,e,i){"production"!==n.env.NODE_ENV?E(null!=t,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var r=m.createElement.apply(this,arguments);if(null==r)return r;for(var o=2;o<arguments.length;o++)l(arguments[o],t);return d(r),r},createFactory:function(t){var e=L.createElement.bind(null,t);if(e.type=t,"production"!==n.env.NODE_ENV)try{Object.defineProperty(e,"type",{enumerable:!1,get:function(){return"production"!==n.env.NODE_ENV?E(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:t}),t}})}catch(i){}return e},cloneElement:function(t,e,n){for(var i=m.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)l(arguments[r],i.type);return d(i),i}};e.exports=L}).call(this,t("_process"))},{"./ReactCurrentOwner":281,"./ReactElement":299,"./ReactFragment":305,"./ReactNativeComponent":315,"./ReactPropTypeLocationNames":318,"./ReactPropTypeLocations":319,"./getIteratorFn":368,"./invariant":377,"./warning":396,_process:8}],301:[function(t,e,n){(function(n){"use strict";function i(t){c[t]=!0}function r(t){delete c[t]}function o(t){return!!c[t]}var a,s=t("./ReactElement"),u=t("./ReactInstanceMap"),l=t("./invariant"),c={},h={injectEmptyComponent:function(t){a=s.createFactory(t)}},p=function(){};p.prototype.componentDidMount=function(){var t=u.get(this);t&&i(t._rootNodeID)},p.prototype.componentWillUnmount=function(){var t=u.get(this);t&&r(t._rootNodeID)},p.prototype.render=function(){return"production"!==n.env.NODE_ENV?l(a,"Trying to return null from a render, but no null placeholder component was injected."):l(a),a()};var f=s.createElement(p),d={emptyElement:f,injection:h,isNullComponentID:o};e.exports=d}).call(this,t("_process"))},{"./ReactElement":299,"./ReactInstanceMap":309,"./invariant":377,_process:8}],302:[function(t,e,n){"use strict";var i={guard:function(t,e){return t}};e.exports=i},{}],303:[function(t,e,n){"use strict";function i(t){r.enqueueEvents(t),r.processEventQueue()}var r=t("./EventPluginHub"),o={handleTopLevel:function(t,e,n,o){var a=r.extractEvents(t,e,n,o);i(a)}};e.exports=o},{"./EventPluginHub":258}],304:[function(t,e,n){"use strict";function i(t){var e=h.getID(t),n=c.getReactRootIDFromNodeID(e),i=h.findReactContainerForID(n),r=h.getFirstReactDOM(i);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){for(var e=h.getFirstReactDOM(d(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=i(n);for(var r=0,o=t.ancestors.length;o>r;r++){e=t.ancestors[r];var a=h.getID(e)||"";g._handleTopLevel(t.topLevelType,e,a,t.nativeEvent)}}function a(t){var e=m(window);t(e)}var s=t("./EventListener"),u=t("./ExecutionEnvironment"),l=t("./PooledClass"),c=t("./ReactInstanceHandles"),h=t("./ReactMount"),p=t("./ReactUpdates"),f=t("./Object.assign"),d=t("./getEventTarget"),m=t("./getUnboundedScrollPosition");f(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(r,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?s.listen(i,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?s.capture(i,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);s.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=g},{"./EventListener":257,"./ExecutionEnvironment":262,"./Object.assign":268,"./PooledClass":269,"./ReactInstanceHandles":308,"./ReactMount":312,"./ReactUpdates":329,"./getEventTarget":367,"./getUnboundedScrollPosition":373}],305:[function(t,e,n){(function(n){"use strict";var i=t("./ReactElement"),r=t("./warning");if("production"!==n.env.NODE_ENV){var o="_reactFragment",a="_reactDidWarn",s=!1;try{var u=function(){return 1};Object.defineProperty({},o,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:u}),s=!0}catch(l){}var c=function(t,e){Object.defineProperty(t,e,{enumerable:!0,get:function(){return"production"!==n.env.NODE_ENV?r(this[a],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[a]=!0,this[o][e]},set:function(t){"production"!==n.env.NODE_ENV?r(this[a],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[a]=!0,this[o][e]=t}})},h={},p=function(t){var e="";for(var n in t)e+=n+":"+typeof t[n]+",";var i=!!h[e];return h[e]=!0,i}}var f={create:function(t){if("production"!==n.env.NODE_ENV){if("object"!=typeof t||!t||Array.isArray(t))return"production"!==n.env.NODE_ENV?r(!1,"React.addons.createFragment only accepts a single object.",t):null,t;if(i.isValidElement(t))return"production"!==n.env.NODE_ENV?r(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,t;if(s){var e={};Object.defineProperty(e,o,{enumerable:!1,value:t}),Object.defineProperty(e,a,{writable:!0,enumerable:!1,value:!1});for(var u in t)c(e,u);return Object.preventExtensions(e),e}}return t},extract:function(t){return"production"!==n.env.NODE_ENV&&s?t[o]?t[o]:("production"!==n.env.NODE_ENV?r(p(t),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,t):t},extractIfFragment:function(t){if("production"!==n.env.NODE_ENV&&s){if(t[o])return t[o];for(var e in t)if(t.hasOwnProperty(e)&&i.isValidElement(t[e]))return f.extract(t)}return t}};e.exports=f}).call(this,t("_process"))},{"./ReactElement":299,"./warning":396,_process:8}],306:[function(t,e,n){"use strict";var i=t("./DOMProperty"),r=t("./EventPluginHub"),o=t("./ReactComponentEnvironment"),a=t("./ReactClass"),s=t("./ReactEmptyComponent"),u=t("./ReactBrowserEventEmitter"),l=t("./ReactNativeComponent"),c=t("./ReactDOMComponent"),h=t("./ReactPerf"),p=t("./ReactRootIndex"),f=t("./ReactUpdates"),d={Component:o.injection,Class:a.injection,DOMComponent:c.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:h.injection,RootIndex:p.injection,Updates:f.injection};e.exports=d},{"./DOMProperty":251,"./EventPluginHub":258,"./ReactBrowserEventEmitter":272,"./ReactClass":275,"./ReactComponentEnvironment":278,"./ReactDOMComponent":284,"./ReactEmptyComponent":301,"./ReactNativeComponent":315,"./ReactPerf":317,"./ReactRootIndex":325,"./ReactUpdates":329}],307:[function(t,e,n){"use strict";function i(t){return o(document.documentElement,t)}var r=t("./ReactDOMSelection"),o=t("./containsNode"),a=t("./focusNode"),s=t("./getActiveElement"),u={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,r),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"==typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(t,e)}};e.exports=u},{"./ReactDOMSelection":292,"./containsNode":351,"./focusNode":361,"./getActiveElement":363}],308:[function(t,e,n){(function(n){"use strict";function i(t){return f+t.toString(36)}function r(t,e){return t.charAt(e)===f||e===t.length}function o(t){return""===t||t.charAt(0)===f&&t.charAt(t.length-1)!==f}function a(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function s(t){return t?t.substr(0,t.lastIndexOf(f)):""}function u(t,e){if("production"!==n.env.NODE_ENV?p(o(t)&&o(e),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,e):p(o(t)&&o(e)),"production"!==n.env.NODE_ENV?p(a(t,e),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,e):p(a(t,e)),t===e)return t;var i,s=t.length+d;for(i=s;i<e.length&&!r(e,i);i++);return e.substr(0,i)}function l(t,e){var i=Math.min(t.length,e.length);if(0===i)return"";for(var a=0,s=0;i>=s;s++)if(r(t,s)&&r(e,s))a=s;else if(t.charAt(s)!==e.charAt(s))break;var u=t.substr(0,a);return"production"!==n.env.NODE_ENV?p(o(u),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,e,u):p(o(u)),u}function c(t,e,i,r,o,l){t=t||"",e=e||"","production"!==n.env.NODE_ENV?p(t!==e,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):p(t!==e);var c=a(e,t);"production"!==n.env.NODE_ENV?p(c||a(t,e),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,e):p(c||a(t,e));for(var h=0,f=c?s:u,d=t;;d=f(d,e)){var g;if(o&&d===t||l&&d===e||(g=i(d,c,r)),g===!1||d===e)break;"production"!==n.env.NODE_ENV?p(h++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,e):p(h++<m)}}var h=t("./ReactRootIndex"),p=t("./invariant"),f=".",d=f.length,m=100,g={createReactRootID:function(){return i(h.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===f&&t.length>1){var e=t.indexOf(f,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,i,r){var o=l(t,e);o!==t&&c(t,o,n,i,!1,!0),o!==e&&c(o,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(c("",t,e,n,!0,!1),c(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){c("",t,e,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:f};e.exports=g}).call(this,t("_process"))},{"./ReactRootIndex":325,"./invariant":377,_process:8}],309:[function(t,e,n){"use strict";var i={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=i},{}],310:[function(t,e,n){"use strict";var i={currentlyMountingInstance:null,currentlyUnmountingInstance:null};e.exports=i},{}],311:[function(t,e,n){"use strict";var i=t("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return t.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=i(t);return o===n}};e.exports=r},{"./adler32":348}],312:[function(t,e,n){(function(n){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){var e=D(t);return e&&W.getID(e)}function o(t){var e=a(t);if(e)if(B.hasOwnProperty(e)){var i=B[e];i!==t&&("production"!==n.env.NODE_ENV?O(!c(i,e),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",z,e):O(!c(i,e)),B[e]=t)}else B[e]=t;return e}function a(t){return t&&t.getAttribute&&t.getAttribute(z)||""}function s(t,e){var n=a(t);n!==e&&delete B[n],t.setAttribute(z,e),B[e]=t}function u(t){return B.hasOwnProperty(t)&&c(B[t],t)||(B[t]=W.findReactNodeByID(t)),B[t]}function l(t){var e=E.get(t)._rootNodeID;return x.isNullComponentID(e)?null:(B.hasOwnProperty(e)&&c(B[e],e)||(B[e]=W.findReactNodeByID(e)),B[e])}function c(t,e){if(t){"production"!==n.env.NODE_ENV?O(a(t)===e,"ReactMount: Unexpected modification of `%s`",z):O(a(t)===e);var i=W.findReactContainerForID(e);if(i&&R(i,t))return!0}return!1}function h(t){delete B[t]}function p(t){var e=B[t];return e&&c(e,t)?void(G=e):!1}function f(t){G=null,w.traverseAncestors(t,p);var e=G;return G=null,e}function d(t,e,n,i,r){var o=C.mountComponent(t,e,i,S);t._isTopLevel=!0,W._mountImageIntoNode(o,n,r)}function m(t,e,n,i){var r=L.ReactReconcileTransaction.getPooled();r.perform(d,null,t,e,n,r,i),L.ReactReconcileTransaction.release(r)}var g=t("./DOMProperty"),v=t("./ReactBrowserEventEmitter"),_=t("./ReactCurrentOwner"),y=t("./ReactElement"),b=t("./ReactElementValidator"),x=t("./ReactEmptyComponent"),w=t("./ReactInstanceHandles"),E=t("./ReactInstanceMap"),M=t("./ReactMarkupChecksum"),T=t("./ReactPerf"),C=t("./ReactReconciler"),P=t("./ReactUpdateQueue"),L=t("./ReactUpdates"),S=t("./emptyObject"),R=t("./containsNode"),D=t("./getReactRootElementInContainer"),k=t("./instantiateReactComponent"),O=t("./invariant"),A=t("./setInnerHTML"),N=t("./shouldUpdateReactComponent"),I=t("./warning"),U=w.SEPARATOR,z=g.ID_ATTRIBUTE_NAME,B={},j=1,F=9,q={},V={};if("production"!==n.env.NODE_ENV)var H={};var Z=[],G=null,W={_instancesByReactRootID:q,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,i,o){return"production"!==n.env.NODE_ENV&&b.checkAndWarnForMutatedProps(e),W.scrollMonitor(i,function(){P.enqueueElementInternal(t,e),o&&P.enqueueCallbackInternal(t,o)}),"production"!==n.env.NODE_ENV&&(H[r(i)]=D(i)),t},_registerComponent:function(t,e){"production"!==n.env.NODE_ENV?O(e&&(e.nodeType===j||e.nodeType===F),"_registerComponent(...): Target container is not a DOM element."):O(e&&(e.nodeType===j||e.nodeType===F)),v.ensureScrollValueMonitoring();var i=W.registerContainer(e);return q[i]=t,i},_renderNewRootComponent:function(t,e,i){"production"!==n.env.NODE_ENV?I(null==_.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var r=k(t,null),o=W._registerComponent(r,e);return L.batchedUpdates(m,r,o,e,i),"production"!==n.env.NODE_ENV&&(H[o]=D(e)),r},render:function(t,e,i){"production"!==n.env.NODE_ENV?O(y.isValidElement(t),"React.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""):O(y.isValidElement(t));var o=q[r(e)];if(o){var a=o._currentElement;if(N(a,t))return W._updateRootComponent(o,t,e,i).getPublicInstance();W.unmountComponentAtNode(e)}var s=D(e),u=s&&W.isRenderedByReact(s);if("production"!==n.env.NODE_ENV&&(!u||s.nextSibling))for(var l=s;l;){if(W.isRenderedByReact(l)){"production"!==n.env.NODE_ENV?I(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}l=l.nextSibling}var c=u&&!o,h=W._renderNewRootComponent(t,e,c).getPublicInstance();return i&&i.call(h),h},constructAndRenderComponent:function(t,e,n){var i=y.createElement(t,e);return W.render(i,n)},constructAndRenderComponentByID:function(t,e,i){var r=document.getElementById(i);return"production"!==n.env.NODE_ENV?O(r,'Tried to get element with id of "%s" but it is not present on the page.',i):O(r),W.constructAndRenderComponent(t,e,r)},registerContainer:function(t){var e=r(t);return e&&(e=w.getReactRootIDFromNodeID(e)),e||(e=w.createReactRootID()),V[e]=t,e},unmountComponentAtNode:function(t){"production"!==n.env.NODE_ENV?I(null==_.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==n.env.NODE_ENV?O(t&&(t.nodeType===j||t.nodeType===F),"unmountComponentAtNode(...): Target container is not a DOM element."):O(t&&(t.nodeType===j||t.nodeType===F));var e=r(t),i=q[e];return i?(W.unmountComponentFromNode(i,t),delete q[e],delete V[e],"production"!==n.env.NODE_ENV&&delete H[e],!0):!1},unmountComponentFromNode:function(t,e){for(C.unmountComponent(t),e.nodeType===F&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var e=w.getReactRootIDFromNodeID(t),i=V[e];if("production"!==n.env.NODE_ENV){var r=H[e];if(r&&r.parentNode!==i){"production"!==n.env.NODE_ENV?O(a(r)===e,"ReactMount: Root element ID differed from reactRootID."):O(a(r)===e);var o=i.firstChild;o&&e===a(o)?H[e]=o:"production"!==n.env.NODE_ENV?I(!1,"ReactMount: Root element has been removed from its original container. New container:",r.parentNode):null}}return i},findReactNodeByID:function(t){var e=W.findReactContainerForID(t);return W.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=W.getID(t);return e?e.charAt(0)===U:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(W.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,e){var i=Z,r=0,o=f(e)||t;for(i[0]=o.firstChild,i.length=1;r<i.length;){for(var a,s=i[r++];s;){var u=W.getID(s);u?e===u?a=s:w.isAncestorIDOf(u,e)&&(i.length=r=0,i.push(s.firstChild)):i.push(s.firstChild),s=s.nextSibling}if(a)return i.length=0,a}i.length=0,"production"!==n.env.NODE_ENV?O(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",e,W.getID(t)):O(!1)},_mountImageIntoNode:function(t,e,r){if("production"!==n.env.NODE_ENV?O(e&&(e.nodeType===j||e.nodeType===F),"mountComponentIntoNode(...): Target container is not valid."):O(e&&(e.nodeType===j||e.nodeType===F)),r){var o=D(e);if(M.canReuseMarkup(t,o))return;var a=o.getAttribute(M.CHECKSUM_ATTR_NAME);o.removeAttribute(M.CHECKSUM_ATTR_NAME);var s=o.outerHTML;o.setAttribute(M.CHECKSUM_ATTR_NAME,a);var u=i(t,s),l=" (client) "+t.substring(u-20,u+20)+"\n (server) "+s.substring(u-20,u+20);"production"!==n.env.NODE_ENV?O(e.nodeType!==F,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",l):O(e.nodeType!==F),"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?I(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",l):null)}"production"!==n.env.NODE_ENV?O(e.nodeType!==F,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):O(e.nodeType!==F),A(e,t)},getReactRootID:r,getID:o,setID:s,getNode:u,getNodeFromInstance:l,purgeID:h};T.measureMethods(W,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=W}).call(this,t("_process"))},{"./DOMProperty":251,"./ReactBrowserEventEmitter":272,"./ReactCurrentOwner":281,"./ReactElement":299,"./ReactElementValidator":300,"./ReactEmptyComponent":301,"./ReactInstanceHandles":308,"./ReactInstanceMap":309,"./ReactMarkupChecksum":311,"./ReactPerf":317,"./ReactReconciler":323,"./ReactUpdateQueue":328,"./ReactUpdates":329,"./containsNode":351,"./emptyObject":357,"./getReactRootElementInContainer":371,"./instantiateReactComponent":376,"./invariant":377,"./setInnerHTML":390,"./shouldUpdateReactComponent":393,"./warning":396,_process:8}],313:[function(t,e,n){"use strict";function i(t,e,n){d.push({parentID:t,parentNode:null,type:c.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function r(t,e,n){d.push({parentID:t,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function o(t,e){d.push({parentID:t,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function a(t,e){d.push({parentID:t,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function s(){d.length&&(l.processChildrenUpdates(d,m),u())}function u(){d.length=0,m.length=0}var l=t("./ReactComponentEnvironment"),c=t("./ReactMultiChildUpdateTypes"),h=t("./ReactReconciler"),p=t("./ReactChildReconciler"),f=0,d=[],m=[],g={Mixin:{mountChildren:function(t,e,n){var i=p.instantiateChildren(t,e,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],u=this._rootNodeID+a,l=h.mountComponent(s,u,e,n);s._mountIndex=o,r.push(l),o++}return r},updateTextContent:function(t){f++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(t),e=!1}finally{f--,f||(e?u():s())}},updateChildren:function(t,e,n){f++;var i=!0;try{this._updateChildren(t,e,n),i=!1}finally{f--,f||(i?u():s())}},_updateChildren:function(t,e,n){var i=this._renderedChildren,r=p.updateChildren(i,t,e,n);if(this._renderedChildren=r,r||i){var o,a=0,s=0;for(o in r)if(r.hasOwnProperty(o)){var u=i&&i[o],l=r[o];u===l?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChildByName(u,o)),this._mountChildByNameAtIndex(l,o,s,e,n)),s++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChildByName(i[o],o)}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){i(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){a(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,i,r){var o=this._rootNodeID+e,a=h.mountComponent(t,o,i,r);t._mountIndex=n,this.createChild(t,a)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};e.exports=g},{"./ReactChildReconciler":273,"./ReactComponentEnvironment":278,"./ReactMultiChildUpdateTypes":314,"./ReactReconciler":323}],314:[function(t,e,n){"use strict";var i=t("./keyMirror"),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},{"./keyMirror":382}],315:[function(t,e,n){(function(n){"use strict";function i(t){if("function"==typeof t.type)return t.type;var e=t.type,n=h[e];return null==n&&(h[e]=n=l(e)),n}function r(t){return"production"!==n.env.NODE_ENV?u(c,"There is no registered component for the tag %s",t.type):u(c),new c(t.type,t.props)}function o(t){return new p(t)}function a(t){return t instanceof p}var s=t("./Object.assign"),u=t("./invariant"),l=null,c=null,h={},p=null,f={injectGenericComponentClass:function(t){c=t},injectTextComponentClass:function(t){p=t},injectComponentClasses:function(t){s(h,t)},injectAutoWrapper:function(t){l=t}},d={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:o,isTextComponent:a,injection:f};e.exports=d}).call(this,t("_process"))},{"./Object.assign":268,"./invariant":377,_process:8}],316:[function(t,e,n){(function(n){"use strict";var i=t("./invariant"),r={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,o){"production"!==n.env.NODE_ENV?i(r.isValidOwner(o),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):i(r.isValidOwner(o)),o.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,o){"production"!==n.env.NODE_ENV?i(r.isValidOwner(o),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):i(r.isValidOwner(o)),o.getPublicInstance().refs[e]===t.getPublicInstance()&&o.detachRef(e)}};e.exports=r}).call(this,t("_process"))},{"./invariant":377,_process:8}],317:[function(t,e,n){(function(t){"use strict";function n(t,e,n){return n}var i={enableMeasure:!1,storedMeasure:n,
measureMethods:function(e,n,r){if("production"!==t.env.NODE_ENV)for(var o in r)r.hasOwnProperty(o)&&(e[o]=i.measure(n,r[o],e[o]))},measure:function(e,n,r){if("production"!==t.env.NODE_ENV){var o=null,a=function(){return i.enableMeasure?(o||(o=i.storedMeasure(e,n,r)),o.apply(this,arguments)):r.apply(this,arguments)};return a.displayName=e+"_"+n,a}return r},injection:{injectMeasure:function(t){i.storedMeasure=t}}};e.exports=i}).call(this,t("_process"))},{_process:8}],318:[function(t,e,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),e.exports=n}).call(this,t("_process"))},{_process:8}],319:[function(t,e,n){"use strict";var i=t("./keyMirror"),r=i({prop:null,context:null,childContext:null});e.exports=r},{"./keyMirror":382}],320:[function(t,e,n){"use strict";function i(t){function e(e,n,i,r,o){if(r=r||x,null==n[i]){var a=y[o];return e?new Error("Required "+a+" `"+i+"` was not specified in "+("`"+r+"`.")):null}return t(n,i,r,o)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,i,r){var o=e[n],a=m(o);if(a!==t){var s=y[r],u=g(o);return new Error("Invalid "+s+" `"+n+"` of type `"+u+"` "+("supplied to `"+i+"`, expected `"+t+"`."))}return null}return i(e)}function o(){return i(b.thatReturns(null))}function a(t){function e(e,n,i,r){var o=e[n];if(!Array.isArray(o)){var a=y[r],s=m(o);return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<o.length;u++){var l=t(o,u,i,r);if(l instanceof Error)return l}return null}return i(e)}function s(){function t(t,e,n,i){if(!v.isValidElement(t[e])){var r=y[i];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return i(t)}function u(t){function e(e,n,i,r){if(!(e[n]instanceof t)){var o=y[r],a=t.name||x;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+i+"`, expected instance of `"+a+"`."))}return null}return i(e)}function l(t){function e(e,n,i,r){for(var o=e[n],a=0;a<t.length;a++)if(o===t[a])return null;var s=y[r],u=JSON.stringify(t);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return i(e)}function c(t){function e(e,n,i,r){var o=e[n],a=m(o);if("object"!==a){var s=y[r];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var l=t(o,u,i,r);if(l instanceof Error)return l}return null}return i(e)}function h(t){function e(e,n,i,r){for(var o=0;o<t.length;o++){var a=t[o];if(null==a(e,n,i,r))return null}var s=y[r];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+i+"`."))}return i(e)}function p(){function t(t,e,n,i){if(!d(t[e])){var r=y[i];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function f(t){function e(e,n,i,r){var o=e[n],a=m(o);if("object"!==a){var s=y[r];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in t){var l=t[u];if(l){var c=l(o,u,i,r);if(c)return c}}return null}return i(e)}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||v.isValidElement(t))return!0;t=_.extractIfFragment(t);for(var e in t)if(!d(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=t("./ReactElement"),_=t("./ReactFragment"),y=t("./ReactPropTypeLocationNames"),b=t("./emptyFunction"),x="<<anonymous>>",w=s(),E=p(),M={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:o(),arrayOf:a,element:w,instanceOf:u,node:E,objectOf:c,oneOf:l,oneOfType:h,shape:f};e.exports=M},{"./ReactElement":299,"./ReactFragment":305,"./ReactPropTypeLocationNames":318,"./emptyFunction":356}],321:[function(t,e,n){"use strict";function i(){this.listenersToPut=[]}var r=t("./PooledClass"),o=t("./ReactBrowserEventEmitter"),a=t("./Object.assign");a(i.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];o.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},{"./Object.assign":268,"./PooledClass":269,"./ReactBrowserEventEmitter":272}],322:[function(t,e,n){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=u.getPooled()}var r=t("./CallbackQueue"),o=t("./PooledClass"),a=t("./ReactBrowserEventEmitter"),s=t("./ReactInputSelection"),u=t("./ReactPutListenerQueue"),l=t("./Transaction"),c=t("./Object.assign"),h={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[d,h,p,f],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),this.putListenerQueue=null}};c(i.prototype,l.Mixin,g),o.addPoolingTo(i),e.exports=i},{"./CallbackQueue":247,"./Object.assign":268,"./PooledClass":269,"./ReactBrowserEventEmitter":272,"./ReactInputSelection":307,"./ReactPutListenerQueue":321,"./Transaction":345}],323:[function(t,e,n){(function(n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=t("./ReactRef"),o=t("./ReactElementValidator"),a={mountComponent:function(t,e,r,a){var s=t.mountComponent(e,r,a);return"production"!==n.env.NODE_ENV&&o.checkAndWarnForMutatedProps(t._currentElement),r.getReactMountReady().enqueue(i,t),s},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,a,s){var u=t._currentElement;if(e!==u||null==e._owner){"production"!==n.env.NODE_ENV&&o.checkAndWarnForMutatedProps(e);var l=r.shouldUpdateRefs(u,e);l&&r.detachRefs(t,u),t.receiveComponent(e,a,s),l&&a.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};e.exports=a}).call(this,t("_process"))},{"./ReactElementValidator":300,"./ReactRef":324,_process:8}],324:[function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=t("./ReactOwner"),a={};a.attachRefs=function(t,e){var n=e.ref;null!=n&&i(n,t,e._owner)},a.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},a.detachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},e.exports=a},{"./ReactOwner":316}],325:[function(t,e,n){"use strict";var i={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:i};e.exports=r},{}],326:[function(t,e,n){(function(n){"use strict";function i(t){"production"!==n.env.NODE_ENV?h(o.isValidElement(t),"renderToString(): You must pass a valid ReactElement."):h(o.isValidElement(t));var e;try{var i=a.createReactRootID();return e=u.getPooled(!1),e.perform(function(){var n=c(t,null),r=n.mountComponent(i,e,l);return s.addChecksumToMarkup(r)},null)}finally{u.release(e)}}function r(t){"production"!==n.env.NODE_ENV?h(o.isValidElement(t),"renderToStaticMarkup(): You must pass a valid ReactElement."):h(o.isValidElement(t));var e;try{var i=a.createReactRootID();return e=u.getPooled(!0),e.perform(function(){var n=c(t,null);return n.mountComponent(i,e,l)},null)}finally{u.release(e)}}var o=t("./ReactElement"),a=t("./ReactInstanceHandles"),s=t("./ReactMarkupChecksum"),u=t("./ReactServerRenderingTransaction"),l=t("./emptyObject"),c=t("./instantiateReactComponent"),h=t("./invariant");e.exports={renderToString:i,renderToStaticMarkup:r}}).call(this,t("_process"))},{"./ReactElement":299,"./ReactInstanceHandles":308,"./ReactMarkupChecksum":311,"./ReactServerRenderingTransaction":327,"./emptyObject":357,"./instantiateReactComponent":376,"./invariant":377,_process:8}],327:[function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.putListenerQueue=a.getPooled()}var r=t("./PooledClass"),o=t("./CallbackQueue"),a=t("./ReactPutListenerQueue"),s=t("./Transaction"),u=t("./Object.assign"),l=t("./emptyFunction"),c={initialize:function(){this.reactMountReady.reset()},close:l},h={initialize:function(){this.putListenerQueue.reset()},close:l},p=[h,c],f={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};u(i.prototype,s.Mixin,f),r.addPoolingTo(i),e.exports=i},{"./CallbackQueue":247,"./Object.assign":268,"./PooledClass":269,"./ReactPutListenerQueue":321,"./Transaction":345,"./emptyFunction":356}],328:[function(t,e,n){(function(n){"use strict";function i(t){t!==o.currentlyMountingInstance&&l.enqueueUpdate(t)}function r(t,e){"production"!==n.env.NODE_ENV?h(null==a.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",e):h(null==a.current);var i=u.get(t);return i?i===o.currentlyUnmountingInstance?null:i:("production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?p(!e,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",e,e):null),null)}var o=t("./ReactLifeCycle"),a=t("./ReactCurrentOwner"),s=t("./ReactElement"),u=t("./ReactInstanceMap"),l=t("./ReactUpdates"),c=t("./Object.assign"),h=t("./invariant"),p=t("./warning"),f={enqueueCallback:function(t,e){"production"!==n.env.NODE_ENV?h("function"==typeof e,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof e);var a=r(t);return a&&a!==o.currentlyMountingInstance?(a._pendingCallbacks?a._pendingCallbacks.push(e):a._pendingCallbacks=[e],void i(a)):null},enqueueCallbackInternal:function(t,e){"production"!==n.env.NODE_ENV?h("function"==typeof e,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):h("function"==typeof e),t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=r(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=r(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=r(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),i(n)}},enqueueSetProps:function(t,e){var o=r(t,"setProps");if(o){"production"!==n.env.NODE_ENV?h(o._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(o._isTopLevel);var a=o._pendingElement||o._currentElement,u=c({},a.props,e);o._pendingElement=s.cloneAndReplaceProps(a,u),i(o)}},enqueueReplaceProps:function(t,e){var o=r(t,"replaceProps");if(o){"production"!==n.env.NODE_ENV?h(o._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):h(o._isTopLevel);var a=o._pendingElement||o._currentElement;o._pendingElement=s.cloneAndReplaceProps(a,e),i(o)}},enqueueElementInternal:function(t,e){t._pendingElement=e,i(t)}};e.exports=f}).call(this,t("_process"))},{"./Object.assign":268,"./ReactCurrentOwner":281,"./ReactElement":299,"./ReactInstanceMap":309,"./ReactLifeCycle":310,"./ReactUpdates":329,"./invariant":377,"./warning":396,_process:8}],329:[function(t,e,n){(function(n){"use strict";function i(){"production"!==n.env.NODE_ENV?v(L.ReactReconcileTransaction&&w,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):v(L.ReactReconcileTransaction&&w)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=L.ReactReconcileTransaction.getPooled()}function o(t,e,n,r,o){i(),w.batchedUpdates(t,e,n,r,o)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;"production"!==n.env.NODE_ENV?v(e===y.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",e,y.length):v(e===y.length),y.sort(a);for(var i=0;e>i;i++){var r=y[i],o=r._pendingCallbacks;if(r._pendingCallbacks=null,d.performUpdateIfNecessary(r,t.reconcileTransaction),o)for(var s=0;s<o.length;s++)t.callbackQueue.enqueue(o[s],r.getPublicInstance())}}function u(t){return i(),"production"!==n.env.NODE_ENV?_(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,w.isBatchingUpdates?void y.push(t):void w.batchedUpdates(u,t)}function l(t,e){"production"!==n.env.NODE_ENV?v(w.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):v(w.isBatchingUpdates),b.enqueue(t,e),x=!0}var c=t("./CallbackQueue"),h=t("./PooledClass"),p=t("./ReactCurrentOwner"),f=t("./ReactPerf"),d=t("./ReactReconciler"),m=t("./Transaction"),g=t("./Object.assign"),v=t("./invariant"),_=t("./warning"),y=[],b=c.getPooled(),x=!1,w=null,E={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),C()):y.length=0}},M={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[E,M];g(r.prototype,m.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,L.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(r);var C=function(){for(;y.length||x;){if(y.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(x){x=!1;var e=b;b=c.getPooled(),e.notifyAll(),c.release(e)}}};C=f.measure("ReactUpdates","flushBatchedUpdates",C);var P={injectReconcileTransaction:function(t){"production"!==n.env.NODE_ENV?v(t,"ReactUpdates: must provide a reconcile transaction class"):v(t),L.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){"production"!==n.env.NODE_ENV?v(t,"ReactUpdates: must provide a batching strategy"):v(t),"production"!==n.env.NODE_ENV?v("function"==typeof t.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):v("function"==typeof t.batchedUpdates),"production"!==n.env.NODE_ENV?v("boolean"==typeof t.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):v("boolean"==typeof t.isBatchingUpdates),w=t}},L={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:C,injection:P,asap:l};e.exports=L}).call(this,t("_process"))},{"./CallbackQueue":247,"./Object.assign":268,"./PooledClass":269,"./ReactCurrentOwner":281,"./ReactPerf":317,"./ReactReconciler":323,"./Transaction":345,"./invariant":377,"./warning":396,_process:8}],330:[function(t,e,n){"use strict";var i=t("./DOMProperty"),r=i.injection.MUST_USE_ATTRIBUTE,o={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=o},{"./DOMProperty":251}],331:[function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&s.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t){if(_||null==m||m!==l())return null;var e=i(m);if(!v||!p(v,e)){v=e;var n=u.getPooled(d.select,g,t);return n.type="select",n.target=m,a.accumulateTwoPhaseDispatches(n),n}}var o=t("./EventConstants"),a=t("./EventPropagators"),s=t("./ReactInputSelection"),u=t("./SyntheticEvent"),l=t("./getActiveElement"),c=t("./isTextInputElement"),h=t("./keyOf"),p=t("./shallowEqual"),f=o.topLevelTypes,d={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},m=null,g=null,v=null,_=!1,y={eventTypes:d,extractEvents:function(t,e,n,i){switch(t){case f.topFocus:(c(e)||"true"===e.contentEditable)&&(m=e,g=n,v=null);break;case f.topBlur:m=null,g=null,v=null;break;case f.topMouseDown:_=!0;break;case f.topContextMenu:case f.topMouseUp:return _=!1,r(i);case f.topSelectionChange:case f.topKeyDown:case f.topKeyUp:return r(i)}}};e.exports=y},{"./EventConstants":256,"./EventPropagators":261,"./ReactInputSelection":307,"./SyntheticEvent":337,"./getActiveElement":363,"./isTextInputElement":380,"./keyOf":383,"./shallowEqual":392}],332:[function(t,e,n){"use strict";var i=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*i)}};e.exports=r},{}],333:[function(t,e,n){(function(n){"use strict";var i=t("./EventConstants"),r=t("./EventPluginUtils"),o=t("./EventPropagators"),a=t("./SyntheticClipboardEvent"),s=t("./SyntheticEvent"),u=t("./SyntheticFocusEvent"),l=t("./SyntheticKeyboardEvent"),c=t("./SyntheticMouseEvent"),h=t("./SyntheticDragEvent"),p=t("./SyntheticTouchEvent"),f=t("./SyntheticUIEvent"),d=t("./SyntheticWheelEvent"),m=t("./getEventCharCode"),g=t("./invariant"),v=t("./keyOf"),_=t("./warning"),y=i.topLevelTypes,b={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},x={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var w in x)x[w].dependencies=[w];var E={eventTypes:b,executeDispatch:function(t,e,i){var o=r.executeDispatch(t,e,i);"production"!==n.env.NODE_ENV?_("boolean"!=typeof o,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,o===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,e,i,r){var v=x[t];if(!v)return null;var _;switch(t){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:_=s;break;case y.topKeyPress:if(0===m(r))return null;case y.topKeyDown:case y.topKeyUp:_=l;break;case y.topBlur:case y.topFocus:_=u;break;case y.topClick:if(2===r.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:_=c;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:_=h;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:_=p;break;case y.topScroll:_=f;break;case y.topWheel:_=d;break;case y.topCopy:case y.topCut:case y.topPaste:_=a}"production"!==n.env.NODE_ENV?g(_,"SimpleEventPlugin: Unhandled event type, `%s`.",t):g(_);var b=_.getPooled(v,i,r);return o.accumulateTwoPhaseDispatches(b),b}};e.exports=E}).call(this,t("_process"))},{"./EventConstants":256,"./EventPluginUtils":260,"./EventPropagators":261,"./SyntheticClipboardEvent":334,"./SyntheticDragEvent":336,"./SyntheticEvent":337,"./SyntheticFocusEvent":338,"./SyntheticKeyboardEvent":340,"./SyntheticMouseEvent":341,"./SyntheticTouchEvent":342,"./SyntheticUIEvent":343,"./SyntheticWheelEvent":344,"./getEventCharCode":364,"./invariant":377,"./keyOf":383,"./warning":396,_process:8}],334:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},{"./SyntheticEvent":337}],335:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),o={data:null};r.augmentClass(i,o),e.exports=i},{"./SyntheticEvent":337}],336:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},{"./SyntheticMouseEvent":341}],337:[function(t,e,n){"use strict";function i(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o?this[r]=o(n):this[r]=n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var r=t("./PooledClass"),o=t("./Object.assign"),a=t("./emptyFunction"),s=t("./getEventTarget"),u={type:null,target:s,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=u,i.augmentClass=function(t,e){var n=this,i=Object.create(n.prototype);o(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.threeArgumentPooler)},r.addPoolingTo(i,r.threeArgumentPooler),e.exports=i},{"./Object.assign":268,"./PooledClass":269,"./emptyFunction":356,"./getEventTarget":367}],338:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},{"./SyntheticUIEvent":343}],339:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),o={data:null};r.augmentClass(i,o),e.exports=i},{"./SyntheticEvent":337}],340:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),o=t("./getEventCharCode"),a=t("./getEventKey"),s=t("./getEventModifierState"),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(i,u),e.exports=i},{"./SyntheticUIEvent":343,"./getEventCharCode":364,"./getEventKey":365,"./getEventModifierState":366}],341:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),o=t("./ViewportMetrics"),a=t("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};r.augmentClass(i,s),e.exports=i},{"./SyntheticUIEvent":343,"./ViewportMetrics":346,"./getEventModifierState":366}],342:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),o=t("./getEventModifierState"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),e.exports=i},{"./SyntheticUIEvent":343,"./getEventModifierState":366}],343:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),o=t("./getEventTarget"),a={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,a),e.exports=i},{"./SyntheticEvent":337,"./getEventTarget":367}],344:[function(t,e,n){"use strict";function i(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},{"./SyntheticMouseEvent":341}],345:[function(t,e,n){(function(n){"use strict";var i=t("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,r,o,a,s,u,l){"production"!==n.env.NODE_ENV?i(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):i(!this.isInTransaction());var c,h;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),h=t.call(e,r,o,a,s,u,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{
this._isInTransaction=!1}}return h},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){"production"!==n.env.NODE_ENV?i(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):i(this.isInTransaction());for(var e=this.transactionWrappers,r=t;r<e.length;r++){var a,s=e[r],u=this.wrapperInitData[r];try{a=!0,u!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,u),a=!1}finally{if(a)try{this.closeAll(r+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o}).call(this,t("_process"))},{"./invariant":377,_process:8}],346:[function(t,e,n){"use strict";var i={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){i.currentScrollLeft=t.x,i.currentScrollTop=t.y}};e.exports=i},{}],347:[function(t,e,n){(function(n){"use strict";function i(t,e){if("production"!==n.env.NODE_ENV?r(null!=e,"accumulateInto(...): Accumulated items must not be null or undefined."):r(null!=e),null==t)return e;var i=Array.isArray(t),o=Array.isArray(e);return i&&o?(t.push.apply(t,e),t):i?(t.push(e),t):o?[t].concat(e):[t,e]}var r=t("./invariant");e.exports=i}).call(this,t("_process"))},{"./invariant":377,_process:8}],348:[function(t,e,n){"use strict";function i(t){for(var e=1,n=0,i=0;i<t.length;i++)e=(e+t.charCodeAt(i))%r,n=(n+e)%r;return e|n<<16}var r=65521;e.exports=i},{}],349:[function(t,e,n){function i(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;e.exports=i},{}],350:[function(t,e,n){"use strict";function i(t){return r(t.replace(o,"ms-"))}var r=t("./camelize"),o=/^-ms-/;e.exports=i},{"./camelize":349}],351:[function(t,e,n){function i(t,e){return t&&e?t===e?!0:r(t)?!1:r(e)?i(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var r=t("./isTextNode");e.exports=i},{"./isTextNode":381}],352:[function(t,e,n){function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return i(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=t("./toArray");e.exports=r},{"./toArray":394}],353:[function(t,e,n){(function(n){"use strict";function i(t){var e=o.createFactory(t),i=r.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){"production"!==n.env.NODE_ENV?a(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):a(!1)},render:function(){return e(this.props)}});return i}var r=t("./ReactClass"),o=t("./ReactElement"),a=t("./invariant");e.exports=i}).call(this,t("_process"))},{"./ReactClass":275,"./ReactElement":299,"./invariant":377,_process:8}],354:[function(t,e,n){(function(n){function i(t){var e=t.match(c);return e&&e[1].toLowerCase()}function r(t,e){var r=l;"production"!==n.env.NODE_ENV?u(!!l,"createNodesFromMarkup dummy not initialized"):u(!!l);var o=i(t),c=o&&s(o);if(c){r.innerHTML=c[1]+t+c[2];for(var h=c[0];h--;)r=r.lastChild}else r.innerHTML=t;var p=r.getElementsByTagName("script");p.length&&("production"!==n.env.NODE_ENV?u(e,"createNodesFromMarkup(...): Unexpected <script> element rendered."):u(e),a(p).forEach(e));for(var f=a(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return f}var o=t("./ExecutionEnvironment"),a=t("./createArrayFromMixed"),s=t("./getMarkupWrap"),u=t("./invariant"),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r}).call(this,t("_process"))},{"./ExecutionEnvironment":262,"./createArrayFromMixed":352,"./getMarkupWrap":369,"./invariant":377,_process:8}],355:[function(t,e,n){"use strict";function i(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=t("./CSSProperty"),o=r.isUnitlessNumber;e.exports=i},{"./CSSProperty":245}],356:[function(t,e,n){function i(t){return function(){return t}}function r(){}r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],357:[function(t,e,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(this,t("_process"))},{_process:8}],358:[function(t,e,n){"use strict";function i(t){return o[t]}function r(t){return(""+t).replace(a,i)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;e.exports=r},{}],359:[function(t,e,n){(function(n){"use strict";function i(t){if("production"!==n.env.NODE_ENV){var e=r.current;null!==e&&("production"!==n.env.NODE_ENV?l(e._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"):null,e._warnedAboutRefsInRender=!0)}return null==t?null:u(t)?t:o.has(t)?a.getNodeFromInstance(t):("production"!==n.env.NODE_ENV?s(null==t.render||"function"!=typeof t.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(t)):s(null==t.render||"function"!=typeof t.render),void("production"!==n.env.NODE_ENV?s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):s(!1)))}var r=t("./ReactCurrentOwner"),o=t("./ReactInstanceMap"),a=t("./ReactMount"),s=t("./invariant"),u=t("./isNode"),l=t("./warning");e.exports=i}).call(this,t("_process"))},{"./ReactCurrentOwner":281,"./ReactInstanceMap":309,"./ReactMount":312,"./invariant":377,"./isNode":379,"./warning":396,_process:8}],360:[function(t,e,n){(function(n){"use strict";function i(t,e,i){var r=t,o=!r.hasOwnProperty(i);"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?a(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",i):null),o&&null!=e&&(r[i]=e)}function r(t){if(null==t)return t;var e={};return o(t,i,e),e}var o=t("./traverseAllChildren"),a=t("./warning");e.exports=r}).call(this,t("_process"))},{"./traverseAllChildren":395,"./warning":396,_process:8}],361:[function(t,e,n){"use strict";function i(t){try{t.focus()}catch(e){}}e.exports=i},{}],362:[function(t,e,n){"use strict";var i=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};e.exports=i},{}],363:[function(t,e,n){function i(){try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=i},{}],364:[function(t,e,n){"use strict";function i(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=i},{}],365:[function(t,e,n){"use strict";function i(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var r=t("./getEventCharCode"),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},{"./getEventCharCode":364}],366:[function(t,e,n){"use strict";function i(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=o[t];return i?!!n[i]:!1}function r(t){return i}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},{}],367:[function(t,e,n){"use strict";function i(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}e.exports=i},{}],368:[function(t,e,n){"use strict";function i(t){var e=t&&(r&&t[r]||t[o]);return"function"==typeof e?e:void 0}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=i},{}],369:[function(t,e,n){(function(n){function i(t){return"production"!==n.env.NODE_ENV?o(!!a,"Markup wrapping node not initialized"):o(!!a),p.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?p[t]:null}var r=t("./ExecutionEnvironment"),o=t("./invariant"),a=r.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:h,clipPath:h,defs:h,ellipse:h,g:h,line:h,linearGradient:h,path:h,polygon:h,polyline:h,radialGradient:h,rect:h,stop:h,text:h};e.exports=i}).call(this,t("_process"))},{"./ExecutionEnvironment":262,"./invariant":377,_process:8}],370:[function(t,e,n){"use strict";function i(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=i(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,e>=o&&a>=e)return{node:n,offset:e-o};o=a}n=i(r(n))}}e.exports=o},{}],371:[function(t,e,n){"use strict";function i(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;e.exports=i},{}],372:[function(t,e,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=t("./ExecutionEnvironment"),o=null;e.exports=i},{"./ExecutionEnvironment":262}],373:[function(t,e,n){"use strict";function i(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=i},{}],374:[function(t,e,n){function i(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=i},{}],375:[function(t,e,n){"use strict";function i(t){return r(t).replace(o,"-ms-")}var r=t("./hyphenate"),o=/^ms-/;e.exports=i},{"./hyphenate":374}],376:[function(t,e,n){(function(n){"use strict";function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t,e){var r;if((null===t||t===!1)&&(t=a.emptyElement),"object"==typeof t){var o=t;"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?c(o&&("function"==typeof o.type||"string"==typeof o.type),"Only functions or strings can be mounted as React components."):null),r=e===o.type&&"string"==typeof o.type?s.createInternalComponent(o):i(o.type)?new o.type(o):new h}else"string"==typeof t||"number"==typeof t?r=s.createInstanceForText(t):"production"!==n.env.NODE_ENV?l(!1,"Encountered invalid React node of type %s",typeof t):l(!1);return"production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?c("function"==typeof r.construct&&"function"==typeof r.mountComponent&&"function"==typeof r.receiveComponent&&"function"==typeof r.unmountComponent,"Only React Components can be mounted."):null),r.construct(t),r._mountIndex=0,r._mountImage=null,"production"!==n.env.NODE_ENV&&(r._isOwnerNecessary=!1,r._warnedAboutRefsInRender=!1),"production"!==n.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(r),r}var o=t("./ReactCompositeComponent"),a=t("./ReactEmptyComponent"),s=t("./ReactNativeComponent"),u=t("./Object.assign"),l=t("./invariant"),c=t("./warning"),h=function(){};u(h.prototype,o.Mixin,{_instantiateReactComponent:r}),e.exports=r}).call(this,t("_process"))},{"./Object.assign":268,"./ReactCompositeComponent":279,"./ReactEmptyComponent":301,"./ReactNativeComponent":315,"./invariant":377,"./warning":396,_process:8}],377:[function(t,e,n){(function(t){"use strict";var n=function(e,n,i,r,o,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,r,o,a,s,u],h=0;l=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return c[h++]}))}throw l.framesToPop=1,l}};e.exports=n}).call(this,t("_process"))},{_process:8}],378:[function(t,e,n){"use strict";function i(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=t("./ExecutionEnvironment");o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i},{"./ExecutionEnvironment":262}],379:[function(t,e,n){function i(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=i},{}],380:[function(t,e,n){"use strict";function i(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=i},{}],381:[function(t,e,n){function i(t){return r(t)&&3==t.nodeType}var r=t("./isNode");e.exports=i},{"./isNode":379}],382:[function(t,e,n){(function(n){"use strict";var i=t("./invariant"),r=function(t){var e,r={};"production"!==n.env.NODE_ENV?i(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object."):i(t instanceof Object&&!Array.isArray(t));for(e in t)t.hasOwnProperty(e)&&(r[e]=e);return r};e.exports=r}).call(this,t("_process"))},{"./invariant":377,_process:8}],383:[function(t,e,n){var i=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=i},{}],384:[function(t,e,n){"use strict";function i(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}var r=Object.prototype.hasOwnProperty;e.exports=i},{}],385:[function(t,e,n){"use strict";function i(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=i},{}],386:[function(t,e,n){(function(n){"use strict";function i(t){return"production"!==n.env.NODE_ENV?o(r.isValidElement(t),"onlyChild must be passed a children with exactly one child."):o(r.isValidElement(t)),t}var r=t("./ReactElement"),o=t("./invariant");e.exports=i}).call(this,t("_process"))},{"./ReactElement":299,"./invariant":377,_process:8}],387:[function(t,e,n){"use strict";var i,r=t("./ExecutionEnvironment");r.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),e.exports=i||{}},{"./ExecutionEnvironment":262}],388:[function(t,e,n){var i=t("./performance");i&&i.now||(i=Date);var r=i.now.bind(i);e.exports=r},{"./performance":387}],389:[function(t,e,n){"use strict";function i(t){return'"'+r(t)+'"'}var r=t("./escapeTextContentForBrowser");e.exports=i},{"./escapeTextContentForBrowser":358}],390:[function(t,e,n){"use strict";var i=t("./ExecutionEnvironment"),r=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),i.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}e.exports=a},{"./ExecutionEnvironment":262}],391:[function(t,e,n){"use strict";var i=t("./ExecutionEnvironment"),r=t("./escapeTextContentForBrowser"),o=t("./setInnerHTML"),a=function(t,e){t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){o(t,r(e))})),e.exports=a},{"./ExecutionEnvironment":262,"./escapeTextContentForBrowser":358,"./setInnerHTML":390}],392:[function(t,e,n){"use strict";function i(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}e.exports=i},{}],393:[function(t,e,n){(function(n){"use strict";function i(t,e){if(null!=t&&null!=e){var i=typeof t,o=typeof e;if("string"===i||"number"===i)return"string"===o||"number"===o;if("object"===o&&t.type===e.type&&t.key===e.key){var a=t._owner===e._owner,s=null,u=null,l=null;return"production"!==n.env.NODE_ENV&&(a||(null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(s=t._owner.getPublicInstance().constructor.displayName),null!=e._owner&&null!=e._owner.getPublicInstance()&&null!=e._owner.getPublicInstance().constructor&&(u=e._owner.getPublicInstance().constructor.displayName),null!=e.type&&null!=e.type.displayName&&(l=e.type.displayName),null!=e.type&&"string"==typeof e.type&&(l=e.type),("string"!=typeof e.type||"input"===e.type||"textarea"===e.type)&&(null!=t._owner&&t._owner._isOwnerNecessary===!1||null!=e._owner&&e._owner._isOwnerNecessary===!1)&&(null!=t._owner&&(t._owner._isOwnerNecessary=!0),null!=e._owner&&(e._owner._isOwnerNecessary=!0),"production"!==n.env.NODE_ENV?r(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",l||"Unknown Component",s||"[Unknown]",u||"[Unknown]",t.key):null))),a}}return!1}var r=t("./warning");e.exports=i}).call(this,t("_process"))},{"./warning":396,_process:8}],394:[function(t,e,n){(function(n){function i(t){var e=t.length;if("production"!==n.env.NODE_ENV?r(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t),"toArray: Array-like object expected"):r(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),"production"!==n.env.NODE_ENV?r("number"==typeof e,"toArray: Object needs a length property"):r("number"==typeof e),"production"!==n.env.NODE_ENV?r(0===e||e-1 in t,"toArray: Object should have keys for indices"):r(0===e||e-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(i){}for(var o=Array(e),a=0;e>a;a++)o[a]=t[a];return o}var r=t("./invariant");e.exports=i}).call(this,t("_process"))},{"./invariant":377,_process:8}],395:[function(t,e,n){(function(n){"use strict";function i(t){return v[t]}function r(t,e){return t&&null!=t.key?a(t.key):e.toString(36)}function o(t){return(""+t).replace(_,i)}function a(t){return"$"+o(t)}function s(t,e,i,o,u){var h=typeof t;if(("undefined"===h||"boolean"===h)&&(t=null),null===t||"string"===h||"number"===h||l.isValidElement(t))return o(u,t,""===e?m+r(t,0):e,i),1;var v,_,b,x=0;if(Array.isArray(t))for(var w=0;w<t.length;w++)v=t[w],_=(""!==e?e+g:m)+r(v,w),b=i+x,x+=s(v,_,b,o,u);else{var E=p(t);if(E){var M,T=E.call(t);if(E!==t.entries)for(var C=0;!(M=T.next()).done;)v=M.value,_=(""!==e?e+g:m)+r(v,C++),b=i+x,x+=s(v,_,b,o,u);else for("production"!==n.env.NODE_ENV&&("production"!==n.env.NODE_ENV?d(y,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,y=!0);!(M=T.next()).done;){var P=M.value;P&&(v=P[1],_=(""!==e?e+g:m)+a(P[0])+g+r(v,0),b=i+x,x+=s(v,_,b,o,u))}}else if("object"===h){"production"!==n.env.NODE_ENV?f(1!==t.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):f(1!==t.nodeType);var L=c.extract(t);for(var S in L)L.hasOwnProperty(S)&&(v=L[S],_=(""!==e?e+g:m)+a(S)+g+r(v,0),b=i+x,x+=s(v,_,b,o,u))}}return x}function u(t,e,n){return null==t?0:s(t,"",0,e,n)}var l=t("./ReactElement"),c=t("./ReactFragment"),h=t("./ReactInstanceHandles"),p=t("./getIteratorFn"),f=t("./invariant"),d=t("./warning"),m=h.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},_=/[=.:]/g,y=!1;e.exports=u}).call(this,t("_process"))},{"./ReactElement":299,"./ReactFragment":305,"./ReactInstanceHandles":308,"./getIteratorFn":368,"./invariant":377,"./warning":396,_process:8}],396:[function(t,e,n){(function(n){"use strict";var i=t("./emptyFunction"),r=i;"production"!==n.env.NODE_ENV&&(r=function(t,e){for(var n=[],i=2,r=arguments.length;r>i;i++)n.push(arguments[i]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var o=0,a="Warning: "+e.replace(/%s/g,function(){return n[o++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),e.exports=r}).call(this,t("_process"))},{"./emptyFunction":356,_process:8}],397:[function(t,e,n){"use strict";function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var o="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,s=new Array(a);a>r;r++)s[r]=i[r].fn;return s},r.prototype.emit=function(t,e,n,i,r,a){var s=o?o+t:t;if(!this._events||!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,a),!0}for(l=1,u=new Array(h-1);h>l;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;f>l;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;default:if(!u)for(p=1,u=new Array(h-1);h>p;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},r.prototype.on=function(t,e,n){var r=new i(e,n||this),a=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),a=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.removeListener=function(t,e,n,i){var r=o?o+t:t;if(!this._events||!this._events[r])return this;var a=this._events[r],s=[];if(e)if(a.fn)(a.fn!==e||i&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,l=a.length;l>u;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,"undefined"!=typeof e&&(e.exports=r)},{}],398:[function(t,e,n){"use strict";e.exports={}},{}],399:[function(t,e,n){"use strict";n.createdStores=[],n.createdActions=[],n.reset=function(){for(;n.createdStores.length;)n.createdStores.pop();for(;n.createdActions.length;)n.createdActions.pop()}},{}],400:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./joins").instanceJoinCreator,o=function(t){for(var e,n=0,i={};n<(t.children||[]).length;++n)e=t.children[n],t[e]&&(i[e]=t[e]);return i},a=function s(t){var e={};for(var n in t){var r=t[n],a=o(r),u=s(a);e[n]=r;for(var l in u){var c=u[l];e[n+i.capitalize(l)]=c}}return e};e.exports={hasListener:function(t){for(var e,n,i,r=0;r<(this.subscriptions||[]).length;++r)for(i=[].concat(this.subscriptions[r].listenable),e=0;e<i.length;e++)if(n=i[e],n===t||n.hasListener&&n.hasListener(t))return!0;return!1},listenToMany:function(t){var e=a(t);for(var n in e){var r=i.callbackName(n),o=this[r]?r:this[n]?n:void 0;o&&this.listenTo(e[n],o,this[r+"Default"]||this[o+"Default"]||o)}},validateListening:function(t){return t===this?"Listener is not able to listen to itself":i.isFunction(t.listen)?t.hasListener&&t.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:t+" is missing a listen method"},listenTo:function(t,e,n){var r,o,a,s=this.subscriptions=this.subscriptions||[];return i.throwIf(this.validateListening(t)),this.fetchInitialState(t,n),r=t.listen(this[e]||e,this),o=function(){var t=s.indexOf(a);i.throwIf(-1===t,"Tried to remove listen already gone from subscriptions list!"),s.splice(t,1),r()},a={stop:o,listenable:t},s.push(a),a},stopListeningTo:function(t){for(var e,n=0,r=this.subscriptions||[];n<r.length;n++)if(e=r[n],e.listenable===t)return e.stop(),i.throwIf(-1!==r.indexOf(e),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var t,e=this.subscriptions||[];t=e.length;)e[0].stop(),i.throwIf(e.length!==t-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(t,e){e=e&&this[e]||e;var n=this;if(i.isFunction(e)&&i.isFunction(t.getInitialState)){var r=t.getInitialState();r&&i.isFunction(r.then)?r.then(function(){e.apply(n,arguments)}):e.call(this,r)}},joinTrailing:r("last"),joinLeading:r("first"),joinConcat:r("all"),joinStrict:r("strict")}},{"./joins":407,"./utils":409}],401:[function(t,e,n){"use strict";var i=t("./utils");e.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(t,e){e=e||this;var n=function(n){r||t.apply(e,n)},i=this,r=!1;return this.emitter.addListener(this.eventLabel,n),function(){r=!0,i.emitter.removeListener(i.eventLabel,n)}},promise:function(t){var e=this,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!n)throw new Error('Publisher must have "completed" and "failed" child publishers');t.then(function(t){return e.completed(t)},function(t){return e.failed(t)})},listenAndPromise:function(t,e){var n=this;e=e||this,this.willCallPromise=(this.willCallPromise||0)+1;var i=this.listen(function(){if(!t)throw new Error("Expected a function returning a promise but got "+t);var i=arguments,r=t.apply(e,i);return n.promise.call(n,r)},e);return function(){n.willCallPromise--,i.call(n)}},trigger:function(){var t=arguments,e=this.preEmit.apply(this,t);t=void 0===e?t:i.isArguments(e)?e:[].concat(e),this.shouldEmit.apply(this,t)&&this.emitter.emit(this.eventLabel,t)},triggerAsync:function(){var t=arguments,e=this;i.nextTick(function(){e.trigger.apply(e,t)})},triggerPromise:function(){var t=this,e=arguments,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,r=i.createPromise(function(r,o){if(t.willCallPromise)return void i.nextTick(function(){var n=t.promise;t.promise=function(e){return e.then(r,o),t.promise=n,t.promise.apply(t,arguments)},t.trigger.apply(t,e)});if(n)var a=t.completed.listen(function(t){a(),s(),r(t)}),s=t.failed.listen(function(t){a(),s(),o(t)});t.triggerAsync.apply(t,e),n||r()});return r}}},{"./utils":409}],402:[function(t,e,n){"use strict";e.exports={}},{}],403:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var i=Object.getOwnPropertyDescriptor(e,n);if(!i.value||"function"!=typeof i.value||!e.hasOwnProperty(n))continue;t[n]=e[n].bind(t)}else{var r=e[n];if("function"!=typeof r||!e.hasOwnProperty(n))continue;t[n]=r.bind(t)}return t}},{}],404:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./ActionMethods"),o=t("./PublisherMethods"),a=t("./Keep"),s={preEmit:1,shouldEmit:1},u=function l(t){t=t||{},i.isObject(t)||(t={actionName:t});for(var e in r)if(!s[e]&&o[e])throw new Error("Cannot override API method "+e+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var n in t)if(!s[n]&&o[n])throw new Error("Cannot override API method "+n+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[],t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));for(var u=0,c={};u<t.children.length;u++){var h=t.children[u];c[h]=l(h)}var p=i.extend({eventLabel:"action",emitter:new i.EventEmitter,_isAction:!0},o,r,t),f=function d(){var t=d.sync?"trigger":i.environment.hasPromise?"triggerPromise":"triggerAsync";return d[t].apply(d,arguments)};return i.extend(f,c,p),a.createdActions.push(f),f};e.exports=u},{"./ActionMethods":398,"./Keep":399,"./PublisherMethods":401,"./utils":409}],405:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./Keep"),o=t("./mixer"),a=t("./bindMethods"),s={preEmit:1,shouldEmit:1};e.exports=function(e){function n(){var t,n=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",a(this,e),this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(t=[].concat(this.listenables);n<t.length;n++)this.listenToMany(t[n])}var u=t("./StoreMethods"),l=t("./PublisherMethods"),c=t("./ListenerMethods");e=e||{};for(var h in u)if(!s[h]&&(l[h]||c[h]))throw new Error("Cannot override API method "+h+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var p in e)if(!s[p]&&(l[p]||c[p]))throw new Error("Cannot override API method "+p+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");e=o(e),i.extend(n.prototype,c,l,u,e);var f=new n;return r.createdStores.push(f),f}},{"./Keep":399,"./ListenerMethods":400,"./PublisherMethods":401,"./StoreMethods":402,"./bindMethods":403,"./mixer":408,"./utils":409}],406:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={version:{"reflux-core":"0.2.1"}};i.ActionMethods=t("./ActionMethods"),i.ListenerMethods=t("./ListenerMethods"),i.PublisherMethods=t("./PublisherMethods"),i.StoreMethods=t("./StoreMethods"),i.createAction=t("./createAction"),i.createStore=t("./createStore");var r=t("./joins").staticJoinCreator;i.joinTrailing=i.all=r("last"),i.joinLeading=r("first"),i.joinStrict=r("strict"),i.joinConcat=r("all");var o=i.utils=t("./utils");i.EventEmitter=o.EventEmitter,i.Promise=o.Promise,i.createActions=function(){var t=function(t,e){Object.keys(t).forEach(function(n){var r=t[n];e[n]=i.createAction(r);
})};return function(e){var n={};return e instanceof Array?e.forEach(function(e){o.isObject(e)?t(e,n):n[e]=i.createAction(e)}):t(e,n),n}}(),i.setEventEmitter=function(t){i.EventEmitter=o.EventEmitter=t},i.setPromise=function(t){i.Promise=o.Promise=t},i.setPromiseFactory=function(t){o.createPromise=t},i.nextTick=function(t){o.nextTick=t},i.use=function(t){t(i)},i.__keep=t("./Keep"),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5"),n["default"]=i,e.exports=n["default"]},{"./ActionMethods":398,"./Keep":399,"./ListenerMethods":400,"./PublisherMethods":401,"./StoreMethods":402,"./createAction":404,"./createStore":405,"./joins":407,"./utils":409}],407:[function(t,e,n){"use strict";function i(t,e,n){return function(){var i,r=n.subscriptions,o=r?r.indexOf(t):-1;for(u.throwIf(-1===o,"Tried to remove join already gone from subscriptions list!"),i=0;i<e.length;i++)e[i]();r.splice(o,1)}}function r(t){t.listenablesEmitted=new Array(t.numberOfListenables),t.args=new Array(t.numberOfListenables)}function o(t,e){return function(){var n=l.call(arguments);if(e.listenablesEmitted[t])switch(e.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":e.args[t]=n;break;case"all":e.args[t].push(n)}else e.listenablesEmitted[t]=!0,e.args[t]="all"===e.strategy?[n]:n;a(e)}}function a(t){for(var e=0;e<t.numberOfListenables;e++)if(!t.listenablesEmitted[e])return;t.callback.apply(t.listener,t.args),r(t)}var s=t("./createStore"),u=t("./utils"),l=Array.prototype.slice,c={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};n.staticJoinCreator=function(t){return function(){var e=l.call(arguments);return s({init:function(){this[c[t]].apply(this,e.concat("triggerAsync"))}})}},n.instanceJoinCreator=function(t){return function(){u.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var e,n,a=l.call(arguments),s=a.pop(),c=a.length,h={numberOfListenables:c,callback:this[s]||s,listener:this,strategy:t},p=[];for(e=0;c>e;e++)u.throwIf(this.validateListening(a[e]));for(e=0;c>e;e++)p.push(a[e].listen(o(e,h),this));return r(h),n={listenable:a},n.stop=i(n,p,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},{"./createStore":405,"./utils":409}],408:[function(t,e,n){"use strict";var i=t("./utils");e.exports=function(t){var e={init:[],preEmit:[],shouldEmit:[]},n=function r(t){var n={};return t.mixins&&t.mixins.forEach(function(t){i.extend(n,r(t))}),i.extend(n,t),Object.keys(e).forEach(function(n){t.hasOwnProperty(n)&&e[n].push(t[n])}),n}(t);return e.init.length>1&&(n.init=function(){var t=arguments;e.init.forEach(function(e){e.apply(this,t)},this)}),e.preEmit.length>1&&(n.preEmit=function(){return e.preEmit.reduce(function(t,e){var n=e.apply(this,t);return void 0===n?t:[n]}.bind(this),arguments)}),e.shouldEmit.length>1&&(n.shouldEmit=function(){var t=arguments;return!e.shouldEmit.some(function(e){return!e.apply(this,t)},this)}),Object.keys(e).forEach(function(t){1===e[t].length&&(n[t]=e[t][0])}),n}},{"./utils":409}],409:[function(require,module,exports){"use strict";function capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function callbackName(t,e){return e=e||"on",e+exports.capitalize(t)}function checkEnv(target){var flag=void 0;try{eval(target)&&(flag=!0)}catch(e){flag=!1}environment[callbackName(target,"has")]=flag}function isObject(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function extend(t){if(!isObject(t))return t;for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o)}else t[n]=e[n]}return t}function isFunction(t){return"function"==typeof t}function object(t,e){for(var n={},i=0;i<t.length;i++)n[t[i]]=e[i];return n}function isArguments(t){return"object"==typeof t&&"callee"in t&&"number"==typeof t.length}function throwIf(t,e){if(t)throw Error(e||t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.capitalize=capitalize,exports.callbackName=callbackName,exports.isObject=isObject,exports.extend=extend,exports.isFunction=isFunction,exports.object=object,exports.isArguments=isArguments,exports.throwIf=throwIf;var environment={};exports.environment=environment,checkEnv("setImmediate"),checkEnv("Promise"),exports.EventEmitter=require("eventemitter3"),environment.hasSetImmediate?exports.nextTick=function(t){setImmediate(t)}:exports.nextTick=function(t){setTimeout(t,0)},environment.hasPromise?(exports.Promise=Promise,exports.createPromise=function(t){return new exports.Promise(t)}):(exports.Promise=null,exports.createPromise=function(){})},{eventemitter3:397}],410:[function(t,e,n){var i=t("reflux-core/lib/utils"),r=t("reflux-core/lib/ListenerMethods");e.exports=i.extend({componentWillUnmount:r.stopListeningToAll},r)},{"reflux-core/lib/ListenerMethods":400,"reflux-core/lib/utils":409}],411:[function(t,e,n){var i=t("reflux-core/lib/ListenerMethods"),r=t("./ListenerMixin"),o=t("reflux-core/lib/utils");e.exports=function(t,e){return{getInitialState:function(){return o.isFunction(t.getInitialState)?void 0===e?t.getInitialState():o.object([e],[t.getInitialState()]):{}},componentDidMount:function(){o.extend(this,i);var n=this,r=void 0===e?this.setState:function(t){("undefined"==typeof n.isMounted||n.isMounted()===!0)&&n.setState(o.object([e],[t]))};this.listenTo(t,r)},componentWillUnmount:r.componentWillUnmount}}},{"./ListenerMixin":410,"reflux-core/lib/ListenerMethods":400,"reflux-core/lib/utils":409}],412:[function(t,e,n){var i=t("reflux-core/lib/ListenerMethods"),r=t("./ListenerMixin"),o=t("reflux-core/lib/utils");e.exports=function(t,e,n){return n=o.isFunction(e)?e:n,{getInitialState:function(){if(o.isFunction(t.getInitialState)){if(o.isFunction(e))return n.call(this,t.getInitialState());var i=n.call(this,t.getInitialState());return"undefined"!=typeof i?o.object([e],[i]):{}}return{}},componentDidMount:function(){o.extend(this,i);var r=this,a=function(t){if(o.isFunction(e))r.setState(n.call(r,t));else{var i=n.call(r,t);r.setState(o.object([e],[i]))}};this.listenTo(t,a)},componentWillUnmount:r.componentWillUnmount}}},{"./ListenerMixin":410,"reflux-core/lib/ListenerMethods":400,"reflux-core/lib/utils":409}],413:[function(t,e,n){var i=t("reflux-core/lib/ListenerMethods");e.exports=function(t,e,n){return{componentDidMount:function(){for(var r in i)if(this[r]!==i[r]){if(this[r])throw"Can't have other property '"+r+"' when using Reflux.listenTo!";this[r]=i[r]}this.listenTo(t,e,n)},componentWillUnmount:i.stopListeningToAll}}},{"reflux-core/lib/ListenerMethods":400}],414:[function(t,e,n){var i=t("reflux-core/lib/ListenerMethods");e.exports=function(t){return{componentDidMount:function(){for(var e in i)if(this[e]!==i[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=i[e]}this.listenToMany(t)},componentWillUnmount:i.stopListeningToAll}}},{"reflux-core/lib/ListenerMethods":400}],415:[function(t,e,n){"use strict";e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",GT:">",Gt:"≫",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒","in":"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬","int":"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",LT:"<",Lt:"≪",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],416:[function(t,e,n){
"use strict";var i={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(t){i[t]=!0}),e.exports=i},{}],417:[function(t,e,n){"use strict";function i(t,e){return t=t.source,e=e||"",function n(i,r){return i?(r=r.source||r,t=t.replace(i,r),n):new RegExp(t,e)}}var r=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,o=/[^"'=<>`\x00-\x20]+/,a=/'[^']*'/,s=/"[^"]*"/,u=i(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",o)("single_quoted",a)("double_quoted",s)(),l=i(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",r)("attr_value",u)(),c=i(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",l)(),h=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,p=/<!--([^-]+|[-][^-]+)*-->/,f=/<[?].*?[?]>/,d=/<![A-Z]+\s+[^>]*>/,m=/<!\[CDATA\[([^\]]+|\][^\]]|\]\][^>])*\]\]>/,g=i(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",c)("close_tag",h)("comment",p)("processing",f)("declaration",d)("cdata",m)();e.exports.HTML_TAG_RE=g},{}],418:[function(t,e,n){"use strict";e.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"]},{}],419:[function(t,e,n){"use strict";function i(t){return Object.prototype.toString.call(t)}function r(t){return"[object String]"===i(t)}function o(t,e){return t?d.call(t,e):!1}function a(t){var e=[].slice.call(arguments,1);return e.forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(n){t[n]=e[n]})}}),t}function s(t){return t.indexOf("\\")<0?t:t.replace(m,"$1")}function u(t){return t>=55296&&57343>=t?!1:t>=64976&&65007>=t?!1:65535===(65535&t)||65534===(65535&t)?!1:t>=0&&8>=t?!1:11===t?!1:t>=14&&31>=t?!1:t>=127&&159>=t?!1:t>1114111?!1:!0}function l(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function c(t,e){var n=0;return o(_,e)?_[e]:35===e.charCodeAt(0)&&v.test(e)&&(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10),u(n))?l(n):t}function h(t){return t.indexOf("&")<0?t:t.replace(g,c)}function p(t){return x[t]}function f(t){return y.test(t)?t.replace(b,p):t}var d=Object.prototype.hasOwnProperty,m=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g,g=/&([a-z#][a-z0-9]{1,31});/gi,v=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,_=t("./entities"),y=/[&<>"]/,b=/[&<>"]/g,x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};n.assign=a,n.isString=r,n.has=o,n.unescapeMd=s,n.isValidEntityCode=u,n.fromCodePoint=l,n.replaceEntities=h,n.escapeHtml=f},{"./entities":415}],420:[function(t,e,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}},{}],421:[function(t,e,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","linkify","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}}},{}],422:[function(t,e,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},{}],423:[function(t,e,n){"use strict";var i=t("../common/utils").replaceEntities;e.exports=function(t){var e=i(t);try{e=decodeURI(e)}catch(n){}return encodeURI(e)}},{"../common/utils":419}],424:[function(t,e,n){"use strict";e.exports=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},{}],425:[function(t,e,n){"use strict";var i=t("./normalize_link"),r=t("../common/utils").unescapeMd;e.exports=function(t,e){var n,o,a,s=e,u=t.posMax;if(60===t.src.charCodeAt(e)){for(e++;u>e;){if(n=t.src.charCodeAt(e),10===n)return!1;if(62===n)return a=i(r(t.src.slice(s+1,e))),t.parser.validateLink(a)?(t.pos=e+1,t.linkContent=a,!0):!1;92===n&&u>e+1?e+=2:e++}return!1}for(o=0;u>e&&(n=t.src.charCodeAt(e),32!==n)&&!(32>n||127===n);)if(92===n&&u>e+1)e+=2;else{if(40===n&&(o++,o>1))break;if(41===n&&(o--,0>o))break;e++}return s===e?!1:(a=i(r(t.src.slice(s,e))),t.parser.validateLink(a)?(t.linkContent=a,t.pos=e,!0):!1)}},{"../common/utils":419,"./normalize_link":423}],426:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o=-1,a=t.posMax,s=t.pos,u=t.isInLabel;if(t.isInLabel)return-1;if(t.labelUnmatchedScopes)return t.labelUnmatchedScopes--,-1;for(t.pos=e+1,t.isInLabel=!0,n=1;t.pos<a;){if(r=t.src.charCodeAt(t.pos),91===r)n++;else if(93===r&&(n--,0===n)){i=!0;break}t.parser.skipToken(t)}return i?(o=t.pos,t.labelUnmatchedScopes=0):t.labelUnmatchedScopes=n-1,t.pos=s,t.isInLabel=u,o}},{}],427:[function(t,e,n){"use strict";var i=t("../common/utils").unescapeMd;e.exports=function(t,e){var n,r=e,o=t.posMax,a=t.src.charCodeAt(e);if(34!==a&&39!==a&&40!==a)return!1;for(e++,40===a&&(a=41);o>e;){if(n=t.src.charCodeAt(e),n===a)return t.pos=e+1,t.linkContent=i(t.src.slice(r+1,e)),!0;92===n&&o>e+1?e+=2:e++}return!1}},{"../common/utils":419}],428:[function(t,e,n){"use strict";function i(t,e,n){this.src=e,this.env=n,this.options=t.options,this.tokens=[],this.inlineMode=!1,this.inline=t.inline,this.block=t.block,this.renderer=t.renderer,this.typographer=t.typographer}function r(t,e){"string"!=typeof t&&(e=t,t="default"),this.inline=new l,this.block=new u,this.core=new s,this.renderer=new a,this.ruler=new c,this.options={},this.configure(h[t]),this.set(e||{})}var o=t("./common/utils").assign,a=t("./renderer"),s=t("./parser_core"),u=t("./parser_block"),l=t("./parser_inline"),c=t("./ruler"),h={"default":t("./configs/default"),full:t("./configs/full"),commonmark:t("./configs/commonmark")};r.prototype.set=function(t){o(this.options,t)},r.prototype.configure=function(t){var e=this;if(!t)throw new Error("Wrong `remarkable` preset, check name/content");t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enable(t.components[n].rules,!0)})},r.prototype.use=function(t,e){return t(this,e),this},r.prototype.parse=function(t,e){var n=new i(this,t,e);return this.core.process(n),n.tokens},r.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},r.prototype.parseInline=function(t,e){var n=new i(this,t,e);return n.inlineMode=!0,this.core.process(n),n.tokens},r.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},e.exports=r,e.exports.utils=t("./common/utils")},{"./common/utils":419,"./configs/commonmark":420,"./configs/default":421,"./configs/full":422,"./parser_block":429,"./parser_core":430,"./parser_inline":431,"./renderer":432,"./ruler":433}],429:[function(t,e,n){"use strict";function i(){this.ruler=new r;for(var t=0;t<a.length;t++)this.ruler.push(a[t][0],a[t][1],{alt:(a[t][2]||[]).slice()})}var r=t("./ruler"),o=t("./rules_block/state_block"),a=[["code",t("./rules_block/code")],["fences",t("./rules_block/fences"),["paragraph","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","blockquote","list"]],["hr",t("./rules_block/hr"),["paragraph","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","blockquote"]],["footnote",t("./rules_block/footnote"),["paragraph"]],["heading",t("./rules_block/heading"),["paragraph","blockquote"]],["lheading",t("./rules_block/lheading")],["htmlblock",t("./rules_block/htmlblock"),["paragraph","blockquote"]],["table",t("./rules_block/table"),["paragraph"]],["deflist",t("./rules_block/deflist"),["paragraph"]],["paragraph",t("./rules_block/paragraph")]];i.prototype.tokenize=function(t,e,n){for(var i,r,o=this.ruler.getRules(""),a=o.length,s=e,u=!1;n>s&&(t.line=s=t.skipEmptyLines(s),!(s>=n))&&!(t.tShift[s]<t.blkIndent);){for(r=0;a>r&&!(i=o[r](t,s,n,!1));r++);if(t.tight=!u,t.isEmpty(t.line-1)&&(u=!0),s=t.line,n>s&&t.isEmpty(s)){if(u=!0,s++,n>s&&"list"===t.parentType&&t.isEmpty(s))break;t.line=s}}};var s=/[\n\t]/g,u=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,l=/\u00a0/g;i.prototype.parse=function(t,e,n,i){var r,a=0,c=0;return t?(t=t.replace(l," "),t=t.replace(u,"\n"),t.indexOf("	")>=0&&(t=t.replace(s,function(e,n){var i;return 10===t.charCodeAt(n)?(a=n+1,c=0,e):(i="    ".slice((n-a-c)%4),c=n-a+1,i)})),r=new o(t,this,e,n,i),void this.tokenize(r,r.line,r.lineMax)):[]},e.exports=i},{"./ruler":433,"./rules_block/blockquote":435,"./rules_block/code":436,"./rules_block/deflist":437,"./rules_block/fences":438,"./rules_block/footnote":439,"./rules_block/heading":440,"./rules_block/hr":441,"./rules_block/htmlblock":442,"./rules_block/lheading":443,"./rules_block/list":444,"./rules_block/paragraph":445,"./rules_block/state_block":446,"./rules_block/table":447}],430:[function(t,e,n){"use strict";function i(){this.options={},this.ruler=new r;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1])}var r=t("./ruler"),o=[["block",t("./rules_core/block")],["abbr",t("./rules_core/abbr")],["references",t("./rules_core/references")],["inline",t("./rules_core/inline")],["footnote_tail",t("./rules_core/footnote_tail")],["abbr2",t("./rules_core/abbr2")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")],["linkify",t("./rules_core/linkify")]];i.prototype.process=function(t){var e,n,i;for(i=this.ruler.getRules(""),e=0,n=i.length;n>e;e++)i[e](t)},e.exports=i},{"./ruler":433,"./rules_core/abbr":448,"./rules_core/abbr2":449,"./rules_core/block":450,"./rules_core/footnote_tail":451,"./rules_core/inline":452,"./rules_core/linkify":453,"./rules_core/references":454,"./rules_core/replacements":455,"./rules_core/smartquotes":456}],431:[function(t,e,n){"use strict";function i(){this.ruler=new o;for(var t=0;t<u.length;t++)this.ruler.push(u[t][0],u[t][1]);this.validateLink=r}function r(t){var e=["vbscript","javascript","file"],n=t.trim().toLowerCase();return n=s.replaceEntities(n),-1!==n.indexOf(":")&&-1!==e.indexOf(n.split(":")[0])?!1:!0}var o=t("./ruler"),a=t("./rules_inline/state_inline"),s=t("./common/utils"),u=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["del",t("./rules_inline/del")],["ins",t("./rules_inline/ins")],["mark",t("./rules_inline/mark")],["emphasis",t("./rules_inline/emphasis")],["sub",t("./rules_inline/sub")],["sup",t("./rules_inline/sup")],["links",t("./rules_inline/links")],["footnote_inline",t("./rules_inline/footnote_inline")],["footnote_ref",t("./rules_inline/footnote_ref")],["autolink",t("./rules_inline/autolink")],["htmltag",t("./rules_inline/htmltag")],["entity",t("./rules_inline/entity")]];i.prototype.skipToken=function(t){var e,n,i=this.ruler.getRules(""),r=i.length,o=t.pos;if((n=t.cacheGet(o))>0)return void(t.pos=n);for(e=0;r>e;e++)if(i[e](t,!0))return void t.cacheSet(o,t.pos);t.pos++,t.cacheSet(o,t.pos)},i.prototype.tokenize=function(t){for(var e,n,i=this.ruler.getRules(""),r=i.length,o=t.posMax;t.pos<o;){for(n=0;r>n&&!(e=i[n](t,!1));n++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},i.prototype.parse=function(t,e,n,i){var r=new a(t,this,e,n,i);this.tokenize(r)},e.exports=i},{"./common/utils":419,"./ruler":433,"./rules_inline/autolink":457,"./rules_inline/backticks":458,"./rules_inline/del":459,"./rules_inline/emphasis":460,"./rules_inline/entity":461,"./rules_inline/escape":462,"./rules_inline/footnote_inline":463,"./rules_inline/footnote_ref":464,"./rules_inline/htmltag":465,"./rules_inline/ins":466,"./rules_inline/links":467,"./rules_inline/mark":468,"./rules_inline/newline":469,"./rules_inline/state_inline":470,"./rules_inline/sub":471,"./rules_inline/sup":472,"./rules_inline/text":473}],432:[function(t,e,n){"use strict";function i(){this.rules=r.assign({},o),this.getBreak=o.getBreak}var r=t("./common/utils"),o=t("./rules");e.exports=i,i.prototype.renderInline=function(t,e,n){for(var i=this.rules,r=t.length,o=0,a="";r--;)a+=i[t[o].type](t,o++,e,n,this);return a},i.prototype.render=function(t,e,n){for(var i=this.rules,r=t.length,o=-1,a="";++o<r;)a+="inline"===t[o].type?this.renderInline(t[o].children,e,n):i[t[o].type](t,o,e,n,this);return a}},{"./common/utils":419,"./rules":434}],433:[function(t,e,n){"use strict";function i(){this.__rules__=[],this.__cache__=null}i.prototype.__find__=function(t){for(var e=this.__rules__.length,n=-1;e--;)if(this.__rules__[++n].name===t)return n;return-1},i.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),t.__cache__={},e.forEach(function(e){t.__cache__[e]=[],t.__rules__.forEach(function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))})})},i.prototype.at=function(t,e,n){var i=this.__find__(t),r=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=r.alt||[],this.__cache__=null},i.prototype.before=function(t,e,n,i){var r=this.__find__(t),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},i.prototype.after=function(t,e,n,i){var r=this.__find__(t),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},i.prototype.push=function(t,e,n){var i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null},i.prototype.enable=function(t,e){t=Array.isArray(t)?t:[t],e&&this.__rules__.forEach(function(t){t.enabled=!1}),t.forEach(function(t){var e=this.__find__(t);if(0>e)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!0},this),this.__cache__=null},i.prototype.disable=function(t){t=Array.isArray(t)?t:[t],t.forEach(function(t){var e=this.__find__(t);if(0>e)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!1},this),this.__cache__=null},i.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]},e.exports=i},{}],434:[function(t,e,n){"use strict";function i(t,e){return++e>=t.length-2?e:"paragraph_open"===t[e].type&&t[e].tight&&"inline"===t[e+1].type&&0===t[e+1].content.length&&"paragraph_close"===t[e+2].type&&t[e+2].tight?i(t,e+2):e}var r=t("./common/utils").has,o=t("./common/utils").unescapeMd,a=t("./common/utils").replaceEntities,s=t("./common/utils").escapeHtml,u={};u.blockquote_open=function(){return"<blockquote>\n"},u.blockquote_close=function(t,e){return"</blockquote>"+l(t,e)},u.code=function(t,e){return t[e].block?"<pre><code>"+s(t[e].content)+"</code></pre>"+l(t,e):"<code>"+s(t[e].content)+"</code>"},u.fence=function(t,e,n,i,u){var c,h,p=t[e],f="",d=n.langPrefix,m="";if(p.params){if(c=p.params.split(/\s+/g)[0],r(u.rules.fence_custom,c))return u.rules.fence_custom[c](t,e,n,i,u);m=s(a(o(c))),f=' class="'+d+m+'"'}return h=n.highlight?n.highlight(p.content,m)||s(p.content):s(p.content),"<pre><code"+f+">"+h+"</code></pre>"+l(t,e)},u.fence_custom={},u.heading_open=function(t,e){return"<h"+t[e].hLevel+">"},u.heading_close=function(t,e){return"</h"+t[e].hLevel+">\n"},u.hr=function(t,e,n){return(n.xhtmlOut?"<hr />":"<hr>")+l(t,e)},u.bullet_list_open=function(){return"<ul>\n"},u.bullet_list_close=function(t,e){return"</ul>"+l(t,e)},u.list_item_open=function(){return"<li>"},u.list_item_close=function(){return"</li>\n"},u.ordered_list_open=function(t,e){var n=t[e],i=n.order>1?' start="'+n.order+'"':"";return"<ol"+i+">\n"},u.ordered_list_close=function(t,e){return"</ol>"+l(t,e)},u.paragraph_open=function(t,e){return t[e].tight?"":"<p>"},u.paragraph_close=function(t,e){var n=!(t[e].tight&&e&&"inline"===t[e-1].type&&!t[e-1].content);return(t[e].tight?"":"</p>")+(n?l(t,e):"")},u.link_open=function(t,e){var n=t[e].title?' title="'+s(a(t[e].title))+'"':"";return'<a href="'+s(t[e].href)+'"'+n+">"},u.link_close=function(){return"</a>"},u.image=function(t,e,n){var i=' src="'+s(t[e].src)+'"',r=t[e].title?' title="'+s(a(t[e].title))+'"':"",o=' alt="'+(t[e].alt?s(a(t[e].alt)):"")+'"',u=n.xhtmlOut?" /":"";return"<img"+i+o+r+u+">"},u.table_open=function(){return"<table>\n"},u.table_close=function(){return"</table>\n"},u.thead_open=function(){return"<thead>\n"},u.thead_close=function(){return"</thead>\n"},u.tbody_open=function(){return"<tbody>\n"},u.tbody_close=function(){return"</tbody>\n"},u.tr_open=function(){return"<tr>"},u.tr_close=function(){return"</tr>\n"},u.th_open=function(t,e){var n=t[e];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},u.th_close=function(){return"</th>"},u.td_open=function(t,e){var n=t[e];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},u.td_close=function(){return"</td>"},u.strong_open=function(){return"<strong>"},u.strong_close=function(){return"</strong>"},u.em_open=function(){return"<em>"},u.em_close=function(){return"</em>"},u.del_open=function(){return"<del>"},u.del_close=function(){return"</del>"},u.ins_open=function(){return"<ins>"},u.ins_close=function(){return"</ins>"},u.mark_open=function(){return"<mark>"},u.mark_close=function(){return"</mark>"},u.sub=function(t,e){return"<sub>"+s(t[e].content)+"</sub>"},u.sup=function(t,e){return"<sup>"+s(t[e].content)+"</sup>"},u.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},u.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},u.text=function(t,e){return s(t[e].content)},u.htmlblock=function(t,e){return t[e].content},u.htmltag=function(t,e){return t[e].content},u.abbr_open=function(t,e){return'<abbr title="'+s(a(t[e].title))+'">'},u.abbr_close=function(){return"</abbr>"},u.footnote_ref=function(t,e){var n=Number(t[e].id+1).toString(),i="fnref"+n;return t[e].subId>0&&(i+=":"+t[e].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+i+'">['+n+"]</a></sup>"},u.footnote_block_open=function(t,e,n){var i=n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n';return i+'<section class="footnotes">\n<ol class="footnotes-list">\n'},u.footnote_block_close=function(){return"</ol>\n</section>\n"},u.footnote_open=function(t,e){var n=Number(t[e].id+1).toString();return'<li id="fn'+n+'"  class="footnote-item">'},u.footnote_close=function(){return"</li>\n"},u.footnote_anchor=function(t,e){var n=Number(t[e].id+1).toString(),i="fnref"+n;return t[e].subId>0&&(i+=":"+t[e].subId),' <a href="#'+i+'" class="footnote-backref">↩</a>'},u.dl_open=function(){return"<dl>\n"},u.dt_open=function(){return"<dt>"},u.dd_open=function(){return"<dd>"},u.dl_close=function(){return"</dl>\n"},u.dt_close=function(){return"</dt>\n"},u.dd_close=function(){return"</dd>\n"};var l=u.getBreak=function(t,e){return e=i(t,e),e<t.length&&"list_item_close"===t[e].type?"":"\n"};e.exports=u},{"./common/utils":419}],435:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r,o,a,s,u,l,c,h,p,f,d,m=t.bMarks[e]+t.tShift[e],g=t.eMarks[e];if(m>g)return!1;if(62!==t.src.charCodeAt(m++))return!1;if(t.level>=t.options.maxNesting)return!1;if(i)return!0;for(32===t.src.charCodeAt(m)&&m++,u=t.blkIndent,t.blkIndent=0,s=[t.bMarks[e]],t.bMarks[e]=m,m=g>m?t.skipSpaces(m):m,o=m>=g,a=[t.tShift[e]],t.tShift[e]=m-t.bMarks[e],h=t.parser.ruler.getRules("blockquote"),r=e+1;n>r&&(m=t.bMarks[r]+t.tShift[r],g=t.eMarks[r],!(m>=g));r++)if(62!==t.src.charCodeAt(m++)){if(o)break;for(d=!1,p=0,f=h.length;f>p;p++)if(h[p](t,r,n,!0)){d=!0;break}if(d)break;s.push(t.bMarks[r]),a.push(t.tShift[r]),t.tShift[r]=-1337}else 32===t.src.charCodeAt(m)&&m++,s.push(t.bMarks[r]),t.bMarks[r]=m,m=g>m?t.skipSpaces(m):m,o=m>=g,a.push(t.tShift[r]),t.tShift[r]=m-t.bMarks[r];for(l=t.parentType,t.parentType="blockquote",t.tokens.push({type:"blockquote_open",lines:c=[e,0],level:t.level++}),t.parser.tokenize(t,e,r),t.tokens.push({type:"blockquote_close",level:--t.level}),t.parentType=l,c[1]=t.line,p=0;p<a.length;p++)t.bMarks[p+e]=s[p],t.tShift[p+e]=a[p];return t.blkIndent=u,!0}},{}],436:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i,r;if(t.tShift[e]-t.blkIndent<4)return!1;for(r=i=e+1;n>i;)if(t.isEmpty(i))i++;else{if(!(t.tShift[i]-t.blkIndent>=4))break;i++,r=i}return t.line=i,t.tokens.push({type:"code",content:t.getLines(e,r,4+t.blkIndent,!0),block:!0,lines:[e,t.line],level:t.level}),!0}},{}],437:[function(t,e,n){"use strict";function i(t,e){var n,i,r=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return r>=o?-1:(i=t.src.charCodeAt(r++),126!==i&&58!==i?-1:(n=t.skipSpaces(r),r===n?-1:n>=o?-1:n))}function r(t,e){var n,i,r=t.level+2;for(n=e+2,i=t.tokens.length-2;i>n;n++)t.tokens[n].level===r&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}e.exports=function(t,e,n,o){var a,s,u,l,c,h,p,f,d,m,g,v,_,y;if(o)return t.ddIndent<0?!1:i(t,e)>=0;if(p=e+1,t.isEmpty(p)&&++p>n)return!1;if(t.tShift[p]<t.blkIndent)return!1;if(a=i(t,p),0>a)return!1;if(t.level>=t.options.maxNesting)return!1;h=t.tokens.length,t.tokens.push({type:"dl_open",lines:c=[e,0],level:t.level++}),u=e,s=p;t:for(;;){for(y=!0,_=!1,t.tokens.push({type:"dt_open",lines:[u,u],level:t.level++}),t.tokens.push({type:"inline",content:t.getLines(u,u+1,t.blkIndent,!1).trim(),level:t.level+1,lines:[u,u],children:[]}),t.tokens.push({type:"dt_close",level:--t.level});;){if(t.tokens.push({type:"dd_open",lines:l=[p,0],level:t.level++}),v=t.tight,d=t.ddIndent,f=t.blkIndent,g=t.tShift[s],m=t.parentType,t.blkIndent=t.ddIndent=t.tShift[s]+2,t.tShift[s]=a-t.bMarks[s],t.tight=!0,t.parentType="deflist",t.parser.tokenize(t,s,n,!0),(!t.tight||_)&&(y=!1),_=t.line-s>1&&t.isEmpty(t.line-1),t.tShift[s]=g,t.tight=v,t.parentType=m,t.blkIndent=f,t.ddIndent=d,t.tokens.push({type:"dd_close",level:--t.level}),l[1]=p=t.line,p>=n)break t;if(t.tShift[p]<t.blkIndent)break t;if(a=i(t,p),0>a)break;s=p}if(p>=n)break;if(u=p,t.isEmpty(u))break;if(t.tShift[u]<t.blkIndent)break;if(s=u+1,s>=n)break;if(t.isEmpty(s)&&s++,s>=n)break;if(t.tShift[s]<t.blkIndent)break;if(a=i(t,s),0>a)break}return t.tokens.push({type:"dl_close",level:--t.level}),c[1]=p,t.line=p,y&&r(t,h),!0}},{}],438:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r,o,a,s,u,l=!1,c=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(c+3>h)return!1;if(r=t.src.charCodeAt(c),126!==r&&96!==r)return!1;if(u=c,c=t.skipChars(c,r),o=c-u,3>o)return!1;if(a=t.src.slice(c,h).trim(),a.indexOf("`")>=0)return!1;if(i)return!0;for(s=e;(s++,!(s>=n))&&(c=u=t.bMarks[s]+t.tShift[s],h=t.eMarks[s],!(h>c&&t.tShift[s]<t.blkIndent));)if(t.src.charCodeAt(c)===r&&!(t.tShift[s]-t.blkIndent>=4||(c=t.skipChars(c,r),o>c-u||(c=t.skipSpaces(c),h>c)))){l=!0;break}return o=t.tShift[e],t.line=s+(l?1:0),t.tokens.push({type:"fence",params:a,content:t.getLines(e+1,s,o,!0),lines:[e,t.line],level:t.level}),!0}},{}],439:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r,o,a,s,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(l+4>c)return!1;if(91!==t.src.charCodeAt(l))return!1;if(94!==t.src.charCodeAt(l+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(s=l+2;c>s;s++){if(32===t.src.charCodeAt(s))return!1;if(93===t.src.charCodeAt(s))break}return s===l+2?!1:s+1>=c||58!==t.src.charCodeAt(++s)?!1:i?!0:(s++,t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.refs||(t.env.footnotes.refs={}),u=t.src.slice(l+2,s-2),t.env.footnotes.refs[":"+u]=-1,t.tokens.push({type:"footnote_reference_open",label:u,level:t.level++}),r=t.bMarks[e],o=t.tShift[e],a=t.parentType,t.tShift[e]=t.skipSpaces(s)-s,t.bMarks[e]=s,t.blkIndent+=4,t.parentType="footnote",t.tShift[e]<t.blkIndent&&(t.tShift[e]+=t.blkIndent,t.bMarks[e]-=t.blkIndent),t.parser.tokenize(t,e,n,!0),t.parentType=a,t.blkIndent-=4,t.tShift[e]=o,t.bMarks[e]=r,t.tokens.push({type:"footnote_reference_close",level:--t.level}),!0)}},{}],440:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r,o,a,s=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(s>=u)return!1;if(r=t.src.charCodeAt(s),35!==r||s>=u)return!1;for(o=1,r=t.src.charCodeAt(++s);35===r&&u>s&&6>=o;)o++,r=t.src.charCodeAt(++s);return o>6||u>s&&32!==r?!1:i?!0:(u=t.skipCharsBack(u,32,s),a=t.skipCharsBack(u,35,s),a>s&&32===t.src.charCodeAt(a-1)&&(u=a),t.line=e+1,t.tokens.push({type:"heading_open",hLevel:o,lines:[e,t.line],level:t.level}),u>s&&t.tokens.push({type:"inline",content:t.src.slice(s,u).trim(),level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"heading_close",hLevel:o,level:t.level}),!0)}},{}],441:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var r,o,a,s=t.bMarks[e],u=t.eMarks[e];if(s+=t.tShift[e],s>u)return!1;if(r=t.src.charCodeAt(s++),42!==r&&45!==r&&95!==r)return!1;for(o=1;u>s;){if(a=t.src.charCodeAt(s++),a!==r&&32!==a)return!1;a===r&&o++}return 3>o?!1:i?!0:(t.line=e+1,t.tokens.push({type:"hr",lines:[e,t.line],level:t.level}),!0)}},{}],442:[function(t,e,n){"use strict";function i(t){var e=32|t;return e>=97&&122>=e}var r=t("../common/html_blocks"),o=/^<([a-zA-Z]{1,15})[\s\/>]/,a=/^<\/([a-zA-Z]{1,15})[\s>]/;e.exports=function(t,e,n,s){var u,l,c,h=t.bMarks[e],p=t.eMarks[e],f=t.tShift[e];if(h+=f,!t.options.html)return!1;if(f>3||h+2>=p)return!1;if(60!==t.src.charCodeAt(h))return!1;if(u=t.src.charCodeAt(h+1),33===u||63===u){if(s)return!0}else{if(47!==u&&!i(u))return!1;if(47===u){if(l=t.src.slice(h,p).match(a),!l)return!1}else if(l=t.src.slice(h,p).match(o),!l)return!1;if(r[l[1].toLowerCase()]!==!0)return!1;if(s)return!0}for(c=e+1;c<t.lineMax&&!t.isEmpty(c);)c++;return t.line=c,t.tokens.push({type:"htmlblock",level:t.level,lines:[e,t.line],content:t.getLines(e,c,0,!0)}),!0}},{"../common/html_blocks":416}],443:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i,r,o,a=e+1;return a>=n?!1:t.tShift[a]<t.blkIndent?!1:t.tShift[a]-t.blkIndent>3?!1:(r=t.bMarks[a]+t.tShift[a],o=t.eMarks[a],r>=o?!1:(i=t.src.charCodeAt(r),45!==i&&61!==i?!1:(r=t.skipChars(r,i),r=t.skipSpaces(r),o>r?!1:(r=t.bMarks[e]+t.tShift[e],t.line=a+1,t.tokens.push({type:"heading_open",hLevel:61===i?1:2,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:t.src.slice(r,t.eMarks[e]).trim(),level:t.level+1,lines:[e,t.line-1],children:[]}),t.tokens.push({type:"heading_close",hLevel:61===i?1:2,level:t.level}),!0))))}},{}],444:[function(t,e,n){"use strict";function i(t,e){var n,i,r;return i=t.bMarks[e]+t.tShift[e],r=t.eMarks[e],i>=r?-1:(n=t.src.charCodeAt(i++),42!==n&&45!==n&&43!==n?-1:r>i&&32!==t.src.charCodeAt(i)?-1:i)}function r(t,e){var n,i=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];if(i+1>=r)return-1;if(n=t.src.charCodeAt(i++),48>n||n>57)return-1;for(;;){if(i>=r)return-1;if(n=t.src.charCodeAt(i++),!(n>=48&&57>=n)){if(41===n||46===n)break;return-1}}return r>i&&32!==t.src.charCodeAt(i)?-1:i}function o(t,e){var n,i,r=t.level+2;for(n=e+2,i=t.tokens.length-2;i>n;n++)t.tokens[n].level===r&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}e.exports=function(t,e,n,a){var s,u,l,c,h,p,f,d,m,g,v,_,y,b,x,w,E,M,T,C,P,L,S=!0;if((d=r(t,e))>=0)y=!0;else{if(!((d=i(t,e))>=0))return!1;y=!1}if(t.level>=t.options.maxNesting)return!1;if(_=t.src.charCodeAt(d-1),a)return!0;for(x=t.tokens.length,y?(f=t.bMarks[e]+t.tShift[e],v=Number(t.src.substr(f,d-f-1)),t.tokens.push({type:"ordered_list_open",order:v,lines:E=[e,0],level:t.level++})):t.tokens.push({type:"bullet_list_open",lines:E=[e,0],level:t.level++}),s=e,w=!1,T=t.parser.ruler.getRules("list");!(!(n>s)||(b=t.skipSpaces(d),m=t.eMarks[s],g=b>=m?1:b-d,g>4&&(g=1),1>g&&(g=1),u=d-t.bMarks[s]+g,t.tokens.push({type:"list_item_open",lines:M=[e,0],level:t.level++}),c=t.blkIndent,h=t.tight,l=t.tShift[e],p=t.parentType,t.tShift[e]=b-t.bMarks[e],t.blkIndent=u,t.tight=!0,t.parentType="list",t.parser.tokenize(t,e,n,!0),(!t.tight||w)&&(S=!1),w=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=c,t.tShift[e]=l,t.tight=h,t.parentType=p,t.tokens.push({type:"list_item_close",level:--t.level}),s=e=t.line,M[1]=s,b=t.bMarks[e],s>=n)||t.isEmpty(s)||t.tShift[s]<t.blkIndent);){for(L=!1,C=0,P=T.length;P>C;C++)if(T[C](t,s,n,!0)){L=!0;break}if(L)break;if(y){if(d=r(t,s),0>d)break}else if(d=i(t,s),0>d)break;if(_!==t.src.charCodeAt(d-1))break}return t.tokens.push({type:y?"ordered_list_close":"bullet_list_close",level:--t.level}),E[1]=s,t.line=s,S&&o(t,x),!0}},{}],445:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s,u=e+1;if(n=t.lineMax,n>u&&!t.isEmpty(u))for(s=t.parser.ruler.getRules("paragraph");n>u&&!t.isEmpty(u);u++)if(!(t.tShift[u]-t.blkIndent>3)){for(r=!1,o=0,a=s.length;a>o;o++)if(s[o](t,u,n,!0)){r=!0;break}if(r)break}return i=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,i.length&&(t.tokens.push({type:"paragraph_open",tight:!1,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:i,level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"paragraph_close",tight:!1,level:t.level})),!0}},{}],446:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o,a,s,u,l,c,h;for(this.src=t,this.parser=e,this.options=n,this.env=i,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",a=this.src,c=0,h=!1,s=u=c=0,l=a.length;l>u;u++){if(o=a.charCodeAt(u),!h){if(32===o){c++;continue}h=!0}(10===o||u===l-1)&&(10!==o&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(c),h=!1,c=0,s=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}i.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},i.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;e>t&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},i.prototype.skipSpaces=function(t){for(var e=this.src.length;e>t&&32===this.src.charCodeAt(t);t++);return t},i.prototype.skipChars=function(t,e){for(var n=this.src.length;n>t&&this.src.charCodeAt(t)===e;t++);return t},i.prototype.skipCharsBack=function(t,e,n){if(n>=t)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},i.prototype.getLines=function(t,e,n,i){var r,o,a,s,u,l=t;if(t>=e)return"";if(l+1===e)return o=this.bMarks[l]+Math.min(this.tShift[l],n),
a=i?this.bMarks[e]:this.eMarks[e-1],this.src.slice(o,a);for(s=new Array(e-t),r=0;e>l;l++,r++)u=this.tShift[l],u>n&&(u=n),0>u&&(u=0),o=this.bMarks[l]+u,a=e>l+1||i?this.eMarks[l]+1:this.eMarks[l],s[r]=this.src.slice(o,a);return s.join("")},e.exports=i},{}],447:[function(t,e,n){"use strict";function i(t,e){var n=t.bMarks[e]+t.blkIndent,i=t.eMarks[e];return t.src.substr(n,i-n)}e.exports=function(t,e,n,r){var o,a,s,u,l,c,h,p,f,d;if(e+2>n)return!1;if(l=e+1,t.tShift[l]<t.blkIndent)return!1;if(s=t.bMarks[l]+t.tShift[l],s>=t.eMarks[l])return!1;if(o=t.src.charCodeAt(s),124!==o&&45!==o&&58!==o)return!1;if(a=i(t,e+1),!/^[-:| ]+$/.test(a))return!1;if(c=a.split("|"),2>=c)return!1;for(h=[],u=0;u<c.length;u++){if(p=c[u].trim(),!p){if(0===u||u===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?h.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?h.push("left"):h.push("")}if(a=i(t,e).trim(),-1===a.indexOf("|"))return!1;if(c=a.replace(/^\||\|$/g,"").split("|"),h.length!==c.length)return!1;if(r)return!0;for(t.tokens.push({type:"table_open",lines:f=[e,0],level:t.level++}),t.tokens.push({type:"thead_open",lines:[e,e+1],level:t.level++}),t.tokens.push({type:"tr_open",lines:[e,e+1],level:t.level++}),u=0;u<c.length;u++)t.tokens.push({type:"th_open",align:h[u],lines:[e,e+1],level:t.level++}),t.tokens.push({type:"inline",content:c[u].trim(),lines:[e,e+1],level:t.level,children:[]}),t.tokens.push({type:"th_close",level:--t.level});for(t.tokens.push({type:"tr_close",level:--t.level}),t.tokens.push({type:"thead_close",level:--t.level}),t.tokens.push({type:"tbody_open",lines:d=[e+2,0],level:t.level++}),l=e+2;n>l&&!(t.tShift[l]<t.blkIndent)&&(a=i(t,l).trim(),-1!==a.indexOf("|"));l++){for(c=a.replace(/^\||\|$/g,"").split("|"),t.tokens.push({type:"tr_open",level:t.level++}),u=0;u<c.length;u++)t.tokens.push({type:"td_open",align:h[u],level:t.level++}),t.tokens.push({type:"inline",content:c[u].replace(/^\|? *| *\|?$/g,""),level:t.level,children:[]}),t.tokens.push({type:"td_close",level:--t.level});t.tokens.push({type:"tr_close",level:--t.level})}return t.tokens.push({type:"tbody_close",level:--t.level}),t.tokens.push({type:"table_close",level:--t.level}),f[1]=d[1]=l,t.line=l,!0}},{}],448:[function(t,e,n){"use strict";function i(t,e,n,i){var a,s,u,l,c,h;if(42!==t.charCodeAt(0))return-1;if(91!==t.charCodeAt(1))return-1;if(-1===t.indexOf("]:"))return-1;if(a=new r(t,e,n,i,[]),s=o(a,1),0>s||58!==t.charCodeAt(s+1))return-1;for(l=a.posMax,u=s+2;l>u&&10!==a.src.charCodeAt(u);u++);return c=t.slice(2,s),h=t.slice(s+2,u).trim(),0===h.length?-1:(i.abbreviations||(i.abbreviations={}),"undefined"==typeof i.abbreviations[":"+c]&&(i.abbreviations[":"+c]=h),u)}var r=t("../rules_inline/state_inline"),o=t("../helpers/parse_link_label");e.exports=function(t){var e,n,r,o,a=t.tokens;if(!t.inlineMode)for(e=1,n=a.length-1;n>e;e++)if("paragraph_open"===a[e-1].type&&"inline"===a[e].type&&"paragraph_close"===a[e+1].type){for(r=a[e].content;r.length&&(o=i(r,t.inline,t.options,t.env),!(0>o));)r=r.slice(o).trim();a[e].content=r,r.length||(a[e-1].tight=!0,a[e+1].tight=!0)}}},{"../helpers/parse_link_label":426,"../rules_inline/state_inline":470}],449:[function(t,e,n){"use strict";function i(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var r=" \n()[]'\".,!?-";e.exports=function(t){var e,n,o,a,s,u,l,c,h,p,f,d,m=t.tokens;if(t.env.abbreviations)for(t.env.abbrRegExp||(d="(^|["+r.split("").map(i).join("")+"])("+Object.keys(t.env.abbreviations).map(function(t){return t.substr(1)}).sort(function(t,e){return e.length-t.length}).map(i).join("|")+")($|["+r.split("").map(i).join("")+"])",t.env.abbrRegExp=new RegExp(d,"g")),p=t.env.abbrRegExp,n=0,o=m.length;o>n;n++)if("inline"===m[n].type)for(a=m[n].children,e=a.length-1;e>=0;e--)if(s=a[e],"text"===s.type){for(c=0,u=s.content,p.lastIndex=0,h=s.level,l=[];f=p.exec(u);)p.lastIndex>c&&l.push({type:"text",content:u.slice(c,f.index+f[1].length),level:h}),l.push({type:"abbr_open",title:t.env.abbreviations[":"+f[2]],level:h++}),l.push({type:"text",content:f[2],level:h}),l.push({type:"abbr_close",level:--h}),c=p.lastIndex-f[3].length;l.length&&(c<u.length&&l.push({type:"text",content:u.slice(c),level:h}),m[n].children=a=[].concat(a.slice(0,e),l,a.slice(e+1)))}}},{}],450:[function(t,e,n){"use strict";e.exports=function(t){t.inlineMode?t.tokens.push({type:"inline",content:t.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):t.block.parse(t.src,t.options,t.env,t.tokens)}},{}],451:[function(t,e,n){"use strict";e.exports=function(t){var e,n,i,r,o,a,s,u,l,c=0,h=!1,p={};if(t.env.footnotes&&(t.tokens=t.tokens.filter(function(t){return"footnote_reference_open"===t.type?(h=!0,u=[],l=t.label,!1):"footnote_reference_close"===t.type?(h=!1,p[":"+l]=u,!1):(h&&u.push(t),!h)}),t.env.footnotes.list)){for(a=t.env.footnotes.list,t.tokens.push({type:"footnote_block_open",level:c++}),e=0,n=a.length;n>e;e++){for(t.tokens.push({type:"footnote_open",id:e,level:c++}),a[e].tokens?(s=[],s.push({type:"paragraph_open",tight:!1,level:c++}),s.push({type:"inline",content:"",level:c,children:a[e].tokens}),s.push({type:"paragraph_close",tight:!1,level:--c})):a[e].label&&(s=p[":"+a[e].label]),t.tokens=t.tokens.concat(s),o="paragraph_close"===t.tokens[t.tokens.length-1].type?t.tokens.pop():null,r=a[e].count>0?a[e].count:1,i=0;r>i;i++)t.tokens.push({type:"footnote_anchor",id:e,subId:i,level:c});o&&t.tokens.push(o),t.tokens.push({type:"footnote_close",level:--c})}t.tokens.push({type:"footnote_block_close",level:--c})}}},{}],452:[function(t,e,n){"use strict";e.exports=function(t){var e,n,i,r=t.tokens;for(n=0,i=r.length;i>n;n++)e=r[n],"inline"===e.type&&t.inline.parse(e.content,t.options,t.env,e.children)}},{}],453:[function(t,e,n){"use strict";function i(t){return/^<a[>\s]/i.test(t)}function r(t){return/^<\/a\s*>/i.test(t)}function o(){var t=[],e=new a({stripPrefix:!1,url:!0,email:!0,twitter:!1,replaceFn:function(e,n){switch(n.getType()){case"url":t.push({text:n.matchedText,url:n.getUrl()});break;case"email":t.push({text:n.matchedText,url:"mailto:"+n.getEmail().replace(/^mailto:/i,"")})}return!1}});return{links:t,autolinker:e}}var a=t("autolinker"),s=/www|@|\:\/\//;e.exports=function(t){var e,n,a,u,l,c,h,p,f,d,m,g,v,_=t.tokens,y=null;if(t.options.linkify)for(n=0,a=_.length;a>n;n++)if("inline"===_[n].type)for(u=_[n].children,m=0,e=u.length-1;e>=0;e--)if(l=u[e],"link_close"!==l.type){if("htmltag"===l.type&&(i(l.content)&&m>0&&m--,r(l.content)&&m++),!(m>0)&&"text"===l.type&&s.test(l.content)){if(y||(y=o(),g=y.links,v=y.autolinker),c=l.content,g.length=0,v.link(c),!g.length)continue;for(h=[],d=l.level,p=0;p<g.length;p++)t.inline.validateLink(g[p].url)&&(f=c.indexOf(g[p].text),f&&(d=d,h.push({type:"text",content:c.slice(0,f),level:d})),h.push({type:"link_open",href:g[p].url,title:"",level:d++}),h.push({type:"text",content:g[p].text,level:d}),h.push({type:"link_close",level:--d}),c=c.slice(f+g[p].text.length));c.length&&h.push({type:"text",content:c,level:d}),_[n].children=u=[].concat(u.slice(0,e),h,u.slice(e+1))}}else for(e--;u[e].level!==l.level&&"link_open"!==u[e].type;)e--}},{autolinker:474}],454:[function(t,e,n){"use strict";function i(t,e,n,i){var l,c,h,p,f,d,m,g,v;if(91!==t.charCodeAt(0))return-1;if(-1===t.indexOf("]:"))return-1;if(l=new r(t,e,n,i,[]),c=o(l,0),0>c||58!==t.charCodeAt(c+1))return-1;for(p=l.posMax,h=c+2;p>h&&(f=l.src.charCodeAt(h),32===f||10===f);h++);if(!a(l,h))return-1;for(m=l.linkContent,h=l.pos,d=h,h+=1;p>h&&(f=l.src.charCodeAt(h),32===f||10===f);h++);for(p>h&&d!==h&&s(l,h)?(g=l.linkContent,h=l.pos):(g="",h=d);p>h&&32===l.src.charCodeAt(h);)h++;return p>h&&10!==l.src.charCodeAt(h)?-1:(v=u(t.slice(1,c)),"undefined"==typeof i.references[v]&&(i.references[v]={title:g,href:m}),h)}var r=t("../rules_inline/state_inline"),o=t("../helpers/parse_link_label"),a=t("../helpers/parse_link_destination"),s=t("../helpers/parse_link_title"),u=t("../helpers/normalize_reference");e.exports=function(t){var e,n,r,o,a=t.tokens;if(t.env.references=t.env.references||{},!t.inlineMode)for(e=1,n=a.length-1;n>e;e++)if("inline"===a[e].type&&"paragraph_open"===a[e-1].type&&"paragraph_close"===a[e+1].type){for(r=a[e].content;r.length&&(o=i(r,t.inline,t.options,t.env),!(0>o));)r=r.slice(o).trim();a[e].content=r,r.length||(a[e-1].tight=!0,a[e+1].tight=!0)}}},{"../helpers/normalize_reference":424,"../helpers/parse_link_destination":425,"../helpers/parse_link_label":426,"../helpers/parse_link_title":427,"../rules_inline/state_inline":470}],455:[function(t,e,n){"use strict";function i(t){return t.indexOf("(")<0?t:t.replace(o,function(t,e){return a[e.toLowerCase()]})}var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};e.exports=function(t){var e,n,o,a,s;if(t.options.typographer)for(s=t.tokens.length-1;s>=0;s--)if("inline"===t.tokens[s].type)for(a=t.tokens[s].children,e=a.length-1;e>=0;e--)n=a[e],"text"===n.type&&(o=n.content,o=i(o),r.test(o)&&(o=o.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=o)}},{}],456:[function(t,e,n){"use strict";function i(t,e){return 0>e||e>=t.length?!1:!s.test(t[e])}function r(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}var o=/['"]/,a=/['"]/g,s=/[-\s()\[\]]/,u="’";e.exports=function(t){var e,n,s,l,c,h,p,f,d,m,g,v,_,y,b,x,w;if(t.options.typographer)for(w=[],b=t.tokens.length-1;b>=0;b--)if("inline"===t.tokens[b].type)for(x=t.tokens[b].children,w.length=0,e=0;e<x.length;e++)if(n=x[e],"text"===n.type&&!o.test(n.text)){for(p=x[e].level,_=w.length-1;_>=0&&!(w[_].level<=p);_--);w.length=_+1,s=n.content,c=0,h=s.length;t:for(;h>c&&(a.lastIndex=c,l=a.exec(s));)if(f=!i(s,l.index-1),c=l.index+1,y="'"===l[0],d=!i(s,c),d||f){if(g=!d,v=!f)for(_=w.length-1;_>=0&&(m=w[_],!(w[_].level<p));_--)if(m.single===y&&w[_].level===p){m=w[_],y?(x[m.token].content=r(x[m.token].content,m.pos,t.options.quotes[2]),n.content=r(n.content,l.index,t.options.quotes[3])):(x[m.token].content=r(x[m.token].content,m.pos,t.options.quotes[0]),n.content=r(n.content,l.index,t.options.quotes[1])),w.length=_;continue t}g?w.push({token:e,pos:l.index,single:y,level:p}):v&&y&&(n.content=r(n.content,l.index,u))}else y&&(n.content=r(n.content,l.index,u))}}},{}],457:[function(t,e,n){"use strict";var i=t("../common/url_schemas"),r=t("../helpers/normalize_link"),o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,a=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;e.exports=function(t,e){var n,s,u,l,c,h=t.pos;return 60!==t.src.charCodeAt(h)?!1:(n=t.src.slice(h),n.indexOf(">")<0?!1:(s=n.match(a))?i.indexOf(s[1].toLowerCase())<0?!1:(l=s[0].slice(1,-1),c=r(l),t.parser.validateLink(l)?(e||(t.push({type:"link_open",href:c,level:t.level}),t.push({type:"text",content:l,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=s[0].length,!0):!1):(u=n.match(o),u?(l=u[0].slice(1,-1),c=r("mailto:"+l),t.parser.validateLink(c)?(e||(t.push({type:"link_open",href:c,level:t.level}),t.push({type:"text",content:l,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=u[0].length,!0):!1):!1))}},{"../common/url_schemas":418,"../helpers/normalize_link":423}],458:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s=t.pos,u=t.src.charCodeAt(s);if(96!==u)return!1;for(n=s,s++,i=t.posMax;i>s&&96===t.src.charCodeAt(s);)s++;for(r=t.src.slice(n,s),o=a=s;-1!==(o=t.src.indexOf("`",a));){for(a=o+1;i>a&&96===t.src.charCodeAt(a);)a++;if(a-o===r.length)return e||t.push({type:"code",content:t.src.slice(s,o).replace(/[ \n]+/g," ").trim(),block:!1,level:t.level}),t.pos=a,!0}return e||(t.pending+=r),t.pos+=r.length,!0}},{}],459:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s=t.posMax,u=t.pos;if(126!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(126!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),126===o)return!1;if(126===a)return!1;if(32===a||10===a)return!1;for(i=u+2;s>i&&126===t.src.charCodeAt(i);)i++;if(i>u+3)return t.pos+=i-u,e||(t.pending+=t.src.slice(u,i)),!0;for(t.pos=u+2,r=1;t.pos+1<s;){if(126===t.src.charCodeAt(t.pos)&&126===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1,126!==a&&126!==o&&(32!==o&&10!==o?r--:32!==a&&10!==a&&r++,0>=r))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"del_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"del_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},{}],460:[function(t,e,n){"use strict";function i(t){return t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t}function r(t,e){var n,r,o,a=e,s=!0,u=!0,l=t.posMax,c=t.src.charCodeAt(e);for(n=e>0?t.src.charCodeAt(e-1):-1;l>a&&t.src.charCodeAt(a)===c;)a++;return a>=l&&(s=!1),o=a-e,o>=4?s=u=!1:(r=l>a?t.src.charCodeAt(a):-1,(32===r||10===r)&&(s=!1),(32===n||10===n)&&(u=!1),95===c&&(i(n)&&(s=!1),i(r)&&(u=!1))),{can_open:s,can_close:u,delims:o}}e.exports=function(t,e){var n,i,o,a,s,u,l,c=t.posMax,h=t.pos,p=t.src.charCodeAt(h);if(95!==p&&42!==p)return!1;if(e)return!1;if(l=r(t,h),n=l.delims,!l.can_open)return t.pos+=n,e||(t.pending+=t.src.slice(h,t.pos)),!0;if(t.level>=t.options.maxNesting)return!1;for(t.pos=h+n,u=[n];t.pos<c;)if(t.src.charCodeAt(t.pos)!==p)t.parser.skipToken(t);else{if(l=r(t,t.pos),i=l.delims,l.can_close){for(a=u.pop(),s=i;a!==s;){if(a>s){u.push(a-s);break}if(s-=a,0===u.length)break;t.pos+=a,a=u.pop()}if(0===u.length){n=a,o=!0;break}t.pos+=i;continue}l.can_open&&u.push(i),t.pos+=i}return o?(t.posMax=t.pos,t.pos=h+n,e||((2===n||3===n)&&t.push({type:"strong_open",level:t.level++}),(1===n||3===n)&&t.push({type:"em_open",level:t.level++}),t.parser.tokenize(t),(1===n||3===n)&&t.push({type:"em_close",level:--t.level}),(2===n||3===n)&&t.push({type:"strong_close",level:--t.level})),t.pos=t.posMax+n,t.posMax=c,!0):(t.pos=h,!1)}},{}],461:[function(t,e,n){"use strict";var i=t("../common/entities"),r=t("../common/utils").has,o=t("../common/utils").isValidEntityCode,a=t("../common/utils").fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(t,e){var n,l,c,h=t.pos,p=t.posMax;if(38!==t.src.charCodeAt(h))return!1;if(p>h+1)if(n=t.src.charCodeAt(h+1),35===n){if(c=t.src.slice(h).match(s))return e||(l="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),t.pending+=a(o(l)?l:65533)),t.pos+=c[0].length,!0}else if(c=t.src.slice(h).match(u),c&&r(i,c[1]))return e||(t.pending+=i[c[1]]),t.pos+=c[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},{"../common/entities":415,"../common/utils":419}],462:[function(t,e,n){"use strict";for(var i=[],r=0;256>r;r++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){i[t.charCodeAt(0)]=1}),e.exports=function(t,e){var n,r=t.pos,o=t.posMax;if(92!==t.src.charCodeAt(r))return!1;if(r++,o>r){if(n=t.src.charCodeAt(r),256>n&&0!==i[n])return e||(t.pending+=t.src[r]),t.pos+=2,!0;if(10===n){for(e||t.push({type:"hardbreak",level:t.level}),r++;o>r&&32===t.src.charCodeAt(r);)r++;return t.pos=r,!0}}return e||(t.pending+="\\"),t.pos++,!0}},{}],463:[function(t,e,n){"use strict";var i=t("../helpers/parse_link_label");e.exports=function(t,e){var n,r,o,a,s=t.posMax,u=t.pos;return u+2>=s?!1:94!==t.src.charCodeAt(u)?!1:91!==t.src.charCodeAt(u+1)?!1:t.level>=t.options.maxNesting?!1:(n=u+2,r=i(t,u+1),0>r?!1:(e||(t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.list||(t.env.footnotes.list=[]),o=t.env.footnotes.list.length,t.pos=n,t.posMax=r,t.push({type:"footnote_ref",id:o,level:t.level}),t.linkLevel++,a=t.tokens.length,t.parser.tokenize(t),t.env.footnotes.list[o]={tokens:t.tokens.splice(a)},t.linkLevel--),t.pos=r+1,t.posMax=s,!0))}},{"../helpers/parse_link_label":426}],464:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a=t.posMax,s=t.pos;if(s+3>a)return!1;if(!t.env.footnotes||!t.env.footnotes.refs)return!1;if(91!==t.src.charCodeAt(s))return!1;if(94!==t.src.charCodeAt(s+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(i=s+2;a>i;i++){if(32===t.src.charCodeAt(i))return!1;if(10===t.src.charCodeAt(i))return!1;if(93===t.src.charCodeAt(i))break}return i===s+2?!1:i>=a?!1:(i++,n=t.src.slice(s+2,i-1),"undefined"==typeof t.env.footnotes.refs[":"+n]?!1:(e||(t.env.footnotes.list||(t.env.footnotes.list=[]),t.env.footnotes.refs[":"+n]<0?(r=t.env.footnotes.list.length,t.env.footnotes.list[r]={label:n,count:0},t.env.footnotes.refs[":"+n]=r):r=t.env.footnotes.refs[":"+n],o=t.env.footnotes.list[r].count,t.env.footnotes.list[r].count++,t.push({type:"footnote_ref",id:r,subId:o,level:t.level})),t.pos=i,t.posMax=a,!0))}},{}],465:[function(t,e,n){"use strict";function i(t){var e=32|t;return e>=97&&122>=e}var r=t("../common/html_re").HTML_TAG_RE;e.exports=function(t,e){var n,o,a,s=t.pos;return t.options.html?(a=t.posMax,60!==t.src.charCodeAt(s)||s+2>=a?!1:(n=t.src.charCodeAt(s+1),(33===n||63===n||47===n||i(n))&&(o=t.src.slice(s).match(r))?(e||t.push({type:"htmltag",content:t.src.slice(s,s+o[0].length),level:t.level}),t.pos+=o[0].length,!0):!1)):!1}},{"../common/html_re":417}],466:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s=t.posMax,u=t.pos;if(43!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(43!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),43===o)return!1;if(43===a)return!1;if(32===a||10===a)return!1;for(i=u+2;s>i&&43===t.src.charCodeAt(i);)i++;if(i!==u+2)return t.pos+=i-u,e||(t.pending+=t.src.slice(u,i)),!0;for(t.pos=u+2,r=1;t.pos+1<s;){if(43===t.src.charCodeAt(t.pos)&&43===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1,43!==a&&43!==o&&(32!==o&&10!==o?r--:32!==a&&10!==a&&r++,0>=r))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"ins_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"ins_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},{}],467:[function(t,e,n){"use strict";var i=t("../helpers/parse_link_label"),r=t("../helpers/parse_link_destination"),o=t("../helpers/parse_link_title"),a=t("../helpers/normalize_reference");e.exports=function(t,e){var n,s,u,l,c,h,p,f,d=!1,m=t.pos,g=t.posMax,v=t.pos,_=t.src.charCodeAt(v);if(33===_&&(d=!0,_=t.src.charCodeAt(++v)),91!==_)return!1;if(t.level>=t.options.maxNesting)return!1;if(n=v+1,s=i(t,v),0>s)return!1;if(h=s+1,g>h&&40===t.src.charCodeAt(h)){for(h++;g>h&&(f=t.src.charCodeAt(h),32===f||10===f);h++);if(h>=g)return!1;for(v=h,r(t,h)?(l=t.linkContent,h=t.pos):l="",v=h;g>h&&(f=t.src.charCodeAt(h),32===f||10===f);h++);if(g>h&&v!==h&&o(t,h))for(c=t.linkContent,h=t.pos;g>h&&(f=t.src.charCodeAt(h),32===f||10===f);h++);else c="";if(h>=g||41!==t.src.charCodeAt(h))return t.pos=m,!1;h++}else{if(t.linkLevel>0)return!1;for(;g>h&&(f=t.src.charCodeAt(h),32===f||10===f);h++);if(g>h&&91===t.src.charCodeAt(h)&&(v=h+1,h=i(t,h),h>=0?u=t.src.slice(v,h++):h=v-1),u||(u=t.src.slice(n,s)),p=t.env.references[a(u)],!p)return t.pos=m,!1;l=p.href,c=p.title}return e||(t.pos=n,t.posMax=s,d?t.push({type:"image",src:l,title:c,alt:t.src.substr(n,s-n),level:t.level}):(t.push({type:"link_open",href:l,title:c,level:t.level++}),t.linkLevel++,t.parser.tokenize(t),t.linkLevel--,t.push({type:"link_close",level:--t.level}))),t.pos=h,t.posMax=g,!0}},{"../helpers/normalize_reference":424,"../helpers/parse_link_destination":425,"../helpers/parse_link_label":426,"../helpers/parse_link_title":427}],468:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s=t.posMax,u=t.pos;if(61!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(61!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),61===o)return!1;if(61===a)return!1;if(32===a||10===a)return!1;for(i=u+2;s>i&&61===t.src.charCodeAt(i);)i++;if(i!==u+2)return t.pos+=i-u,e||(t.pending+=t.src.slice(u,i)),!0;for(t.pos=u+2,r=1;t.pos+1<s;){if(61===t.src.charCodeAt(t.pos)&&61===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1,61!==a&&61!==o&&(32!==o&&10!==o?r--:32!==a&&10!==a&&r++,0>=r))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"mark_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"mark_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},{}],469:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r=t.pos;if(10!==t.src.charCodeAt(r))return!1;for(n=t.pending.length-1,i=t.posMax,e||(n>=0&&32===t.pending.charCodeAt(n)?n>=1&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push({type:"hardbreak",level:t.level})):(t.pending=t.pending.slice(0,-1),t.push({type:"softbreak",level:t.level})):t.push({type:"softbreak",level:t.level})),r++;i>r&&32===t.src.charCodeAt(r);)r++;return t.pos=r,!0}},{}],470:[function(t,e,n){"use strict";function i(t,e,n,i,r){this.src=t,this.env=i,this.options=n,this.parser=e,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}i.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},i.prototype.push=function(t){this.pending&&this.pushPending(),this.tokens.push(t),this.pendingLevel=this.level},i.prototype.cacheSet=function(t,e){for(var n=this.cache.length;t>=n;n++)this.cache.push(0);this.cache[t]=e},i.prototype.cacheGet=function(t){return t<this.cache.length?this.cache[t]:0},e.exports=i},{}],471:[function(t,e,n){"use strict";var i=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function(t,e){var n,r,o=t.posMax,a=t.pos;if(126!==t.src.charCodeAt(a))return!1;if(e)return!1;if(a+2>=o)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=a+1;t.pos<o;){if(126===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&a+1!==t.pos?(r=t.src.slice(a+1,t.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(t.pos=a,!1):(t.posMax=t.pos,t.pos=a+1,e||t.push({type:"sub",level:t.level,content:r.replace(i,"$1")}),t.pos=t.posMax+1,t.posMax=o,!0)):(t.pos=a,!1)}},{}],472:[function(t,e,n){"use strict";var i=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function(t,e){var n,r,o=t.posMax,a=t.pos;if(94!==t.src.charCodeAt(a))return!1;if(e)return!1;if(a+2>=o)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=a+1;t.pos<o;){if(94===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&a+1!==t.pos?(r=t.src.slice(a+1,t.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(t.pos=a,!1):(t.posMax=t.pos,t.pos=a+1,e||t.push({type:"sup",level:t.level,content:r.replace(i,"$1")}),t.pos=t.posMax+1,t.posMax=o,!0)):(t.pos=a,!1)}},{}],473:[function(t,e,n){"use strict";function i(t){switch(t){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}e.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!i(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},{}],474:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define([],function(){return t.Autolinker=i()}):"object"==typeof n?e.exports=i():t.Autolinker=i()}(this,function(){var t=function(e){t.Util.assign(this,e)};return t.prototype={constructor:t,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(t){for(var e=this.getHtmlParser(),n=e.parse(t),i=0,r=[],o=0,a=n.length;a>o;o++){var s=n[o],u=s.getType(),l=s.getText();if("element"===u)"a"===s.getTagName()&&(s.isClosing()?i=Math.max(i-1,0):i++),r.push(l);else if("entity"===u)r.push(l);else if(0===i){var c=this.linkifyStr(l);r.push(c)}else r.push(l)}return r.join("")},linkifyStr:function(t){return this.getMatchParser().replace(t,this.createMatchReturnVal,this)},createMatchReturnVal:function(e){var n;if(this.replaceFn&&(n=this.replaceFn.call(this,this,e)),"string"==typeof n)return n;if(n===!1)return e.getMatchedText();if(n instanceof t.HtmlTag)return n.toString();var i=this.getTagBuilder(),r=i.build(e);return r.toString()},getHtmlParser:function(){var e=this.htmlParser;return e||(e=this.htmlParser=new t.htmlParser.HtmlParser),e},getMatchParser:function(){var e=this.matchParser;return e||(e=this.matchParser=new t.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,stripPrefix:this.stripPrefix})),e},getTagBuilder:function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new t.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e}},t.link=function(e,n){var i=new t(n);return i.link(e)},t.match={},t.htmlParser={},t.matchParser={},t.Util={abstractMethod:function(){throw"abstract"},assign:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},extend:function(e,n){var i=e.prototype,r=function(){};r.prototype=i;var o;o=n.hasOwnProperty("constructor")?n.constructor:function(){i.constructor.apply(this,arguments)};var a=o.prototype=new r;return a.constructor=o,a.superclass=i,delete n.constructor,t.Util.assign(a,n),o},ellipsis:function(t,e,n){return t.length>e&&(n=null==n?"..":n,t=t.substring(0,e-n.length)+n),t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},splitAndCapture:function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],r=0;n=e.exec(t);)i.push(t.substring(r,n.index)),i.push(n[0]),r=n.index+n[0].length;return i.push(t.substring(r)),i}},t.HtmlTag=t.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(e){t.Util.assign(this,e),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){var n=this.getAttrs();return n[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(e){var n=this.getAttrs();return t.Util.assign(n,e),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(e){for(var n,i=this.getClass(),r=this.whitespaceRegex,o=t.Util.indexOf,a=i?i.split(r):[],s=e.split(r);n=s.shift();)-1===o(a,n)&&a.push(n);return this.getAttrs()["class"]=a.join(" "),this},removeClass:function(e){for(var n,i=this.getClass(),r=this.whitespaceRegex,o=t.Util.indexOf,a=i?i.split(r):[],s=e.split(r);a.length&&(n=s.shift());){var u=o(a,n);-1!==u&&a.splice(u,1)}return this.getAttrs()["class"]=a.join(" "),this},getClass:function(){return this.getAttrs()["class"]||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return e=e?" "+e:"",["<",t,e,">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+'="'+t[n]+'"');return e.join(" ")}}),t.AnchorTagBuilder=t.Util.extend(Object,{constructor:function(e){t.Util.assign(this,e)},build:function(e){var n=new t.HtmlTag({tagName:"a",attrs:this.createAttrs(e.getType(),e.getAnchorHref()),innerHtml:this.processAnchorText(e.getAnchorText())});return n},createAttrs:function(t,e){var n={href:e},i=this.createCssClass(t);return i&&(n["class"]=i),this.newWindow&&(n.target="_blank"),n},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return t=this.doTruncate(t)},doTruncate:function(e){return t.Util.ellipsis(e,this.truncate||Number.POSITIVE_INFINITY)}}),t.htmlParser.HtmlParser=t.Util.extend(Object,{htmlRegex:function(){var t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,e=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,i=e.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",i,"|",n.source+")",")*",">",")","|","(?:","<(/)?","("+t.source+")","(?:","\\s+",i,")*","\\s*/?",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(t){for(var e,n,i=this.htmlRegex,r=0,o=[];null!==(e=i.exec(t));){var a=e[0],s=e[1]||e[3],u=!!e[2],l=t.substring(r,e.index);l&&(n=this.parseTextAndEntityNodes(l),o.push.apply(o,n)),o.push(this.createElementNode(a,s,u)),r=e.index+a.length}if(r<t.length){var c=t.substring(r);c&&(n=this.parseTextAndEntityNodes(c),o.push.apply(o,n))}return o},parseTextAndEntityNodes:function(e){for(var n=[],i=t.Util.splitAndCapture(e,this.htmlCharacterEntitiesRegex),r=0,o=i.length;o>r;r+=2){var a=i[r],s=i[r+1];a&&n.push(this.createTextNode(a)),s&&n.push(this.createEntityNode(s))}return n},createElementNode:function(e,n,i){return new t.htmlParser.ElementNode({text:e,tagName:n.toLowerCase(),closing:i})},createEntityNode:function(e){return new t.htmlParser.EntityNode({text:e})},createTextNode:function(e){return new t.htmlParser.TextNode({text:e})}}),t.htmlParser.HtmlNode=t.Util.extend(Object,{text:"",constructor:function(e){t.Util.assign(this,e)},getType:t.Util.abstractMethod,getText:function(){return this.text}}),t.htmlParser.ElementNode=t.Util.extend(t.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),t.htmlParser.EntityNode=t.Util.extend(t.htmlParser.HtmlNode,{getType:function(){return"entity"}}),t.htmlParser.TextNode=t.Util.extend(t.htmlParser.HtmlNode,{getType:function(){return"text"}}),t.matchParser.MatchParser=t.Util.extend(Object,{urls:!0,email:!0,twitter:!0,stripPrefix:!0,matcherRegex:function(){var t=/(^|[^\w])@(\w{1,15})/,e=/(?:[\-;:&=\+\$,\w\.]+@)/,n=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,i=/(?:www\.)/,r=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,a=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;
return new RegExp(["(",t.source,")","|","(",e.source,r.source,o.source,")","|","(","(?:","(",n.source,r.source,")","|","(?:","(.?//)?",i.source,r.source,")","|","(?:","(.?//)?",r.source,o.source,")",")","(?:"+a.source+")?",")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(e){t.Util.assign(this,e),this.matchValidator=new t.MatchValidator},replace:function(t,e,n){var i=this;return t.replace(this.matcherRegex,function(t,r,o,a,s,u,l,c,h){var p=i.processCandidateMatch(t,r,o,a,s,u,l,c,h);if(p){var f=e.call(n,p.match);return p.prefixStr+f+p.suffixStr}return t})},processCandidateMatch:function(e,n,i,r,o,a,s,u,l){var c,h=u||l,p="",f="";if(n&&!this.twitter||o&&!this.email||a&&!this.urls||!this.matchValidator.isValidMatch(a,s,h))return null;if(this.matchHasUnbalancedClosingParen(e)&&(e=e.substr(0,e.length-1),f=")"),o)c=new t.match.Email({matchedText:e,email:o});else if(n)i&&(p=i,e=e.slice(1)),c=new t.match.Twitter({matchedText:e,twitterHandle:r});else{if(h){var d=h.match(this.charBeforeProtocolRelMatchRegex)[1]||"";d&&(p=d,e=e.slice(1))}c=new t.match.Url({matchedText:e,url:e,protocolUrlMatch:!!s,protocolRelativeMatch:!!h,stripPrefix:this.stripPrefix})}return{prefixStr:p,suffixStr:f,match:c}},matchHasUnbalancedClosingParen:function(t){var e=t.charAt(t.length-1);if(")"===e){var n=t.match(/\(/g),i=t.match(/\)/g),r=n&&n.length||0,o=i&&i.length||0;if(o>r)return!0}return!1}}),t.MatchValidator=t.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(t,e,n){return e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)||this.isInvalidProtocolRelativeMatch(n)?!1:!0},isValidUriScheme:function(t){var e=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return t&&e?!this.hasWordCharAfterProtocolRegex.test(t):!1},isInvalidProtocolRelativeMatch:function(t){return!!t&&this.invalidProtocolRelMatchRegex.test(t)}}),t.match.Match=t.Util.extend(Object,{constructor:function(e){t.Util.assign(this,e)},getType:t.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:t.Util.abstractMethod,getAnchorText:t.Util.abstractMethod}),t.match.Email=t.Util.extend(t.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),t.match.Twitter=t.Util.extend(t.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),t.match.Url=t.Util.extend(t.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){var t=this.getUrl();return t.replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getUrl();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix&&(t=this.stripUrlPrefix(t)),t=this.removeTrailingSlash(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}}),t})},{}],475:[function(t,e,n){"use strict";function i(){this.totalCount=0,this.data={}}i.prototype.train=function(t,e){this.data[e]||(this.data[e]={});for(var n in t){var i=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][i]&&(this.data[e][n][i]=0),this.data[e][n][t[n]]++}this.totalCount++},i.prototype.score=function(t){var e,n={};for(var i in t){var r=t[i];for(e in this.data)void 0===n[e]&&(n[e]={}),this.data[e][i]?n[e][i+"_"+r]=(this.data[e][i][r]||0)/this.totalCount:n[e][i+"_"+r]=0}var o={};for(e in n)for(var a in n[e])void 0===o[e]&&(o[e]=0),o[e]+=n[e][a];return o},e.exports=i},{}],476:[function(t,e,n){"use strict";function i(t){return 0>t||t>1?null:r(1,t)}var r=t("./binomial_distribution");e.exports=i},{"./binomial_distribution":477}],477:[function(t,e,n){"use strict";function i(t,e){if(0>e||e>1||0>=t||t%1!==0)return null;var n=0,i=0,a={};do a[n]=o(t)/(o(n)*o(t-n))*(Math.pow(e,n)*Math.pow(1-e,t-n)),i+=a[n],n++;while(1-r>i);return a}var r=t("./epsilon"),o=t("./factorial");e.exports=i},{"./epsilon":483,"./factorial":485}],478:[function(t,e,n){"use strict";var i={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};e.exports=i},{}],479:[function(t,e,n){"use strict";function i(t,e,n){for(var i,a,s=r(t),u=0,l=1,c=e(s),h=[],p=[],f=0;f<t.length;f++)void 0===h[t[f]]&&(h[t[f]]=0),h[t[f]]++;for(f=0;f<h.length;f++)void 0===h[f]&&(h[f]=0);for(a in c)a in h&&(p[a]=c[a]*t.length);for(a=p.length-1;a>=0;a--)p[a]<3&&(p[a-1]+=p[a],p.pop(),h[a-1]+=h[a],h.pop());for(a=0;a<h.length;a++)u+=Math.pow(h[a]-p[a],2)/p[a];return i=h.length-l-1,o[i][n]<u}var r=t("./mean"),o=t("./chi_squared_distribution_table");e.exports=i},{"./chi_squared_distribution_table":478,"./mean":494}],480:[function(t,e,n){"use strict";function i(t,e){var n=[];if(0>=e)return null;for(var i=0;i<t.length;i+=e)n.push(t.slice(i,i+e));return n}e.exports=i},{}],481:[function(t,e,n){"use strict";function i(t,e){for(var n=[],i=0;t>i;i++){for(var r=[],o=0;e>o;o++)r.push(0);n.push(r)}return n}function r(t,e){if(e>t.length)throw new Error("Cannot generate more classes than there are data values");var n=a(t),r=o(n);if(1===r)return[n];for(var s=i(e,n.length),u=i(e,n.length),l=0;e>l;l++)for(var c=n[0],h=Math.max(l,1);h<n.length;h++)if(0===l){var p=Math.pow(n[h]-c,2);s[l][h]=s[l][h-1]+h/(h+1)*p;var f=h*c+n[h];c=f/(h+1)}else for(var d=0,m=0,g=h;g>=l;g--)d+=(h-g)/(h-g+1)*Math.pow(n[g]-m,2),m=(n[g]+(h-g)*m)/(h-g+1),g===h?(s[l][h]=d,u[l][h]=g,g>0&&(s[l][h]+=s[l-1][g-1])):0===g?d<=s[l][h]&&(s[l][h]=d,u[l][h]=g):d+s[l-1][g-1]<s[l][h]&&(s[l][h]=d+s[l-1][g-1],u[l][h]=g);var v=[],_=u[0].length-1;for(l=u.length-1;l>=0;l--){var y=u[l][_];v[l]=n.slice(y,_+1),l>0&&(_=y-1)}return v}var o=t("./sorted_unique_count"),a=t("./numeric_sort");e.exports=r},{"./numeric_sort":499,"./sorted_unique_count":515}],482:[function(t,e,n){"use strict";function i(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),r.length-1);return t>=0?r[n]:+(1-r[n]).toFixed(4)}var r=t("./standard_normal_table");e.exports=i},{"./standard_normal_table":517}],483:[function(t,e,n){"use strict";var i=1e-4;e.exports=i},{}],484:[function(t,e,n){"use strict";function i(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*e+.37409196*Math.pow(e,2)+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9));return t>=0?1-n:n-1}e.exports=i},{}],485:[function(t,e,n){"use strict";function i(t){if(0>t)return null;for(var e=1,n=2;t>=n;n++)e*=n;return e}e.exports=i},{}],486:[function(t,e,n){"use strict";function i(t){if(0===t.length)return null;for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)return null;e*=t[n]}return Math.pow(e,1/t.length)}e.exports=i},{}],487:[function(t,e,n){"use strict";function i(t){if(0===t.length)return null;for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)return null;e+=1/t[n]}return t.length/e}e.exports=i},{}],488:[function(t,e,n){"use strict";function i(t){return 0===t.length?null:r(t,.75)-r(t,.25)}var r=t("./quantile");e.exports=i},{"./quantile":503}],489:[function(t,e,n){"use strict";function i(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?n:-n}e.exports=i},{}],490:[function(t,e,n){"use strict";function i(t){var e,n,i=t.length;if(1===i)e=0,n=t[0][1];else{for(var r,o,a,s=0,u=0,l=0,c=0,h=0;i>h;h++)r=t[h],o=r[0],a=r[1],s+=o,u+=a,l+=o*o,c+=o*a;e=(i*c-s*u)/(i*l-s*s),n=u/i-e*s/i}return{m:e,b:n}}e.exports=i},{}],491:[function(t,e,n){"use strict";function i(t){return function(e){return t.b+t.m*e}}e.exports=i},{}],492:[function(t,e,n){"use strict";function i(t){if(!t||0===t.length)return null;for(var e=r(t),n=[],i=0;i<t.length;i++)n.push(Math.abs(t[i]-e));return r(n)}var r=t("./median");e.exports=i},{"./median":495}],493:[function(t,e,n){"use strict";function i(t){for(var e,n=0;n<t.length;n++)(t[n]>e||void 0===e)&&(e=t[n]);return e}e.exports=i},{}],494:[function(t,e,n){"use strict";function i(t){return 0===t.length?null:r(t)/t.length}var r=t("./sum");e.exports=i},{"./sum":518}],495:[function(t,e,n){"use strict";function i(t){if(0===t.length)return null;var e=r(t);if(e.length%2===1)return e[(e.length-1)/2];var n=e[e.length/2-1],i=e[e.length/2];return(n+i)/2}var r=t("./numeric_sort");e.exports=i},{"./numeric_sort":499}],496:[function(t,e,n){"use strict";function i(t){for(var e,n=0;n<t.length;n++)(t[n]<e||void 0===e)&&(e=t[n]);return e}e.exports=i},{}],497:[function(t,e,n){"use strict";function i(t,e){function n(e){return function(){var n=Array.prototype.slice.apply(arguments);return n.unshift(this),t[e].apply(t,n)}}var i=!(!Object.defineProperty||!Object.defineProperties);if(!i)throw new Error("without defineProperty, simple-statistics cannot be mixed in");var r,o=["median","standardDeviation","sum","sampleSkewness","mean","min","max","quantile","geometricMean","harmonicMean","root_mean_square"];r=e?e.slice():Array.prototype;for(var a=0;a<o.length;a++)Object.defineProperty(r,o[a],{value:n(o[a]),configurable:!0,enumerable:!1,writable:!0});return r}e.exports=i},{}],498:[function(t,e,n){"use strict";function i(t){if(0===t.length)return null;if(1===t.length)return t[0];for(var e,n=r(t),i=n[0],o=0,a=1,s=1;s<n.length+1;s++)n[s]!==i?(a>o&&(o=a,e=i),a=1,i=n[s]):a++;return e}var r=t("./numeric_sort");e.exports=i},{"./numeric_sort":499}],499:[function(t,e,n){"use strict";function i(t){return t.slice().sort(function(t,e){return t-e})}e.exports=i},{}],500:[function(t,e,n){"use strict";function i(){this.weights=[],this.bias=0}i.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return e+=this.bias,e>0?1:0},i.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if(n!==e){for(var i=e-n,r=0;r<this.weights.length;r++)this.weights[r]+=i*t[r];this.bias+=i}return this},e.exports=i},{}],501:[function(t,e,n){"use strict";function i(t){if(0>=t)return null;var e=0,n=0,i={};do i[e]=Math.pow(Math.E,-t)*Math.pow(t,e)/o(e),n+=i[e],e++;while(1-r>n);return i}var r=t("./epsilon"),o=t("./factorial");e.exports=i},{"./epsilon":483,"./factorial":485}],502:[function(t,e,n){"use strict";function i(t){return 0===t?t=r:t>=1&&(t=1-r),Math.sqrt(2)*o(2*t-1)}var r=t("./epsilon"),o=t("./inverse_error_function");e.exports=i},{"./epsilon":483,"./inverse_error_function":489}],503:[function(t,e,n){"use strict";function i(t,e){if(0===t.length)return null;var n=o(t);if(e.length){for(var i=[],a=0;a<e.length;a++)i[a]=r(n,e[a]);return i}return r(n,e)}var r=t("./quantile_sorted"),o=t("./numeric_sort");e.exports=i},{"./numeric_sort":499,"./quantile_sorted":504}],504:[function(t,e,n){"use strict";function i(t,e){var n=t.length*e;return 0>e||e>1?null:1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}e.exports=i},{}],505:[function(t,e,n){"use strict";function i(t,e){if(t.length<2)return 1;for(var n,i=0,r=0;r<t.length;r++)i+=t[r][1];n=i/t.length;for(var o=0,a=0;a<t.length;a++)o+=Math.pow(n-t[a][1],2);for(var s=0,u=0;u<t.length;u++)s+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-s/o}e.exports=i},{}],506:[function(t,e,n){"use strict";function i(t){if(0===t.length)return null;for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}e.exports=i},{}],507:[function(t,e,n){"use strict";function i(t,e,n){var i=r(t,n);return i.slice(0,e)}var r=t("./shuffle");e.exports=i},{"./shuffle":513}],508:[function(t,e,n){"use strict";function i(t,e){var n=r(t,e),i=o(t),a=o(e);return null===n||null===i||null===a?null:n/i/a}var r=t("./sample_covariance"),o=t("./sample_standard_deviation");e.exports=i},{"./sample_covariance":509,"./sample_standard_deviation":511}],509:[function(t,e,n){"use strict";function i(t,e){if(t.length<=1||t.length!==e.length)return null;for(var n=r(t),i=r(e),o=0,a=0;a<t.length;a++)o+=(t[a]-n)*(e[a]-i);var s=t.length-1;return o/s}var r=t("./mean");e.exports=i},{"./mean":494}],510:[function(t,e,n){"use strict";function i(t){if(t.length<3)return null;var e=t.length,n=Math.pow(o(t),3),i=r(t,3);return e*i/((e-1)*(e-2)*n)}var r=t("./sum_nth_power_deviations"),o=t("./sample_standard_deviation");e.exports=i},{"./sample_standard_deviation":511,"./sum_nth_power_deviations":519}],511:[function(t,e,n){"use strict";function i(t){return t.length<=1?null:Math.sqrt(r(t))}var r=t("./sample_variance");e.exports=i},{"./sample_variance":512}],512:[function(t,e,n){"use strict";function i(t){if(t.length<=1)return null;var e=r(t,2),n=t.length-1;return e/n}var r=t("./sum_nth_power_deviations");e.exports=i},{"./sum_nth_power_deviations":519}],513:[function(t,e,n){"use strict";function i(t,e){return t=t.slice(),r(t.slice(),e)}var r=t("./shuffle_in_place");e.exports=i},{"./shuffle_in_place":514}],514:[function(t,e,n){"use strict";function i(t,e){e=e||Math.random;for(var n,i,r=t.length;r>0;)i=Math.floor(e()*r--),n=t[r],t[r]=t[i],t[i]=n;return t}e.exports=i},{}],515:[function(t,e,n){"use strict";function i(t){for(var e,n=0,i=0;i<t.length;i++)(0===i||t[i]!==e)&&(e=t[i],n++);return n}e.exports=i},{}],516:[function(t,e,n){"use strict";function i(t){return 0===t.length?null:Math.sqrt(r(t))}var r=t("./variance");e.exports=i},{"./variance":522}],517:[function(t,e,n){"use strict";function i(t){for(var e=t,n=t,i=1;15>i;i++)n*=t*t/(2*i+1),e+=n;return Math.round(1e4*(.5+e/r*Math.exp(-t*t/2)))/1e4}for(var r=Math.sqrt(2*Math.PI),o=[],a=0;3.09>=a;a+=.01)o.push(i(a));e.exports=o},{}],518:[function(t,e,n){"use strict";function i(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}e.exports=i},{}],519:[function(t,e,n){"use strict";function i(t,e){for(var n=r(t),i=0,o=0;o<t.length;o++)i+=Math.pow(t[o]-n,e);return i}var r=t("./mean");e.exports=i},{"./mean":494}],520:[function(t,e,n){"use strict";function i(t,e){var n=o(t),i=r(t),a=Math.sqrt(t.length);return(n-e)/(i/a)}var r=t("./standard_deviation"),o=t("./mean");e.exports=i},{"./mean":494,"./standard_deviation":516}],521:[function(t,e,n){"use strict";function i(t,e,n){var i=t.length,a=e.length;if(!i||!a)return null;n||(n=0);var s=r(t),u=r(e),l=((i-1)*o(t)+(a-1)*o(e))/(i+a-2);return(s-u-n)/Math.sqrt(l*(1/i+1/a))}var r=t("./mean"),o=t("./sample_variance");e.exports=i},{"./mean":494,"./sample_variance":512}],522:[function(t,e,n){"use strict";function i(t){return 0===t.length?null:r(t,2)/t.length}var r=t("./sum_nth_power_deviations");e.exports=i},{"./sum_nth_power_deviations":519}],523:[function(t,e,n){"use strict";function i(t,e,n){return(t-e)/n}e.exports=i},{}],524:[function(t,e,n){e.exports=["the","a","an","some"]},{}],525:[function(t,e,n){e.exports=["as","because","for","and","nor","but","or","yet","so"]},{}],526:[function(t,e,n){e.exports=["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","despite","down","during","except","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","like","mid","midst","minus","modulo","near","next","notwithstanding","o'","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","through","throughout","thru","thruout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","vis-à-vis","with","within","without","worth"]},{}],527:[function(t,e,n){function i(t,e,n){var i,r,o,a,s,u,c,h,p,f=0,d="FeatureCollection"===t.type,m="Feature"===t.type,g=d?t.features.length:1;for(i=0;g>i;i++)for(h=d?t.features[i].geometry:m?t.geometry:t,p="GeometryCollection"===h.type,u=p?h.geometries.length:1,a=0;u>a;a++)if(s=p?h.geometries[a]:h,c=s.coordinates,f=!n||"Polygon"!==s.type&&"MultiPolygon"!==s.type?0:1,"Point"===s.type)e(c);else if("LineString"===s.type||"MultiPoint"===s.type)for(r=0;r<c.length;r++)e(c[r]);else if("Polygon"===s.type||"MultiLineString"===s.type)for(r=0;r<c.length;r++)for(o=0;o<c[r].length-f;o++)e(c[r][o]);else{if("MultiPolygon"!==s.type)throw new Error("Unknown Geometry Type");for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)for(l=0;l<c[r][o].length-f;l++)e(c[r][o][l])}}function r(t,e,n,r){return i(t,function(t){n=e(n,t)},r),n}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(features=t.features,n=0;n<t.features.length;n++)e(t.features[n].properties);break;case"Feature":e(t.properties)}}function a(t,e,n){return o(t,function(t){n=e(n,t)}),n}e.exports.coordEach=i,e.exports.coordReduce=r,e.exports.propEach=o,e.exports.propReduce=a},{}],528:[function(t,e,n){var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t,e){if(!i(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},{}],529:[function(t,e,n){arguments[4][527][0].apply(n,arguments)},{dup:527}],classnames:[function(t,e,n){!function(){"use strict";function t(){for(var e=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(t.apply(null,r));else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=t:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()},{}],"cookie-cutter":[function(t,e,n){var n=e.exports=function(t){t||(t={}),"string"==typeof t&&(t={cookie:t}),void 0===t.cookie&&(t.cookie="");var e={};return e.get=function(e){for(var n=t.cookie.split(/;\s*/),i=0;i<n.length;i++){var r=n[i].split("="),o=unescape(r[0]);if(o===e)return unescape(r[1])}},e.set=function(e,n,i){i||(i={});var r=escape(e)+"="+escape(n);return i.expires&&(r+="; expires="+i.expires),i.path&&(r+="; path="+escape(i.path)),t.cookie=r,r},e};if("undefined"!=typeof document){var i=n(document);n.get=i.get,n.set=i.set}},{}],"fuse.js":[function(t,e,n){!function(t){function i(t,e){this.list=t,this.options=e=e||{};var n,r,o,a;for(n=0,a=["sort","shouldSort"],r=a.length;r>n;n++)o=a[n],this.options[o]=o in e?e[o]:i.defaultOptions[o];for(n=0,a=["searchFn","sortFn","keys","getFn","include"],r=a.length;r>n;n++)o=a[n],this.options[o]=e[o]||i.defaultOptions[o]}var r=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||r.defaultOptions.location,this.options.distance="distance"in e?e.distance:r.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:r.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||r.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};r.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},r.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},r.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},r.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,r,o,a,s,u,l,c=t.length,h=this.options.location,p=this.options.threshold,f=t.indexOf(this.pattern,h),d=this.patternLen+c,m=1,g=[];for(-1!=f&&(p=Math.min(this._bitapScore(0,f),p),f=t.lastIndexOf(this.pattern,h+this.patternLen),-1!=f&&(p=Math.min(this._bitapScore(0,f),p))),f=-1,e=0;e<this.patternLen;e++){for(i=0,r=d;r>i;)this._bitapScore(e,h+r)<=p?i=r:d=r,r=Math.floor((d-i)/2+i);for(d=r,o=Math.max(1,h-r+1),a=Math.min(h+r,c)+this.patternLen,s=Array(a+2),s[a+1]=(1<<e)-1,n=a;n>=o;n--)if(l=this.patternAlphabet[t.charAt(n-1)],0===e?s[n]=(s[n+1]<<1|1)&l:s[n]=(s[n+1]<<1|1)&l|((u[n+1]|u[n])<<1|1)|u[n+1],s[n]&this.matchmask&&(m=this._bitapScore(e,n-1),p>=m)){if(p=m,f=n-1,g.push(f),!(f>h))break;o=Math.max(1,2*h-f)}if(this._bitapScore(e+1,h)>p)break;u=s}return{isMatch:f>=0,score:m}};var o=function(t,e,n){var i,r,s;if(e){s=e.indexOf("."),-1!==s?(i=e.slice(0,s),r=e.slice(s+1)):i=e;var u=t[i];if(u)if(r||"string"!=typeof u&&"number"!=typeof u)if(a.isArray(u))for(var l=0,c=u.length;c>l;l++)o(u[l],r,n);else r&&o(u,r,n);else n.push(u)}else n.push(t);return n},a={deepValue:function(t,e){return o(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};i.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:r,sortFn:function(t,e){return t.score-e.score},getFn:a.deepValue,keys:[]},i.prototype.set=function(t){return this.list=t,t},i.prototype.search=function(t){var e,n,i,r,o=new this.options.searchFn(t,this.options),s=this.list,u=s.length,l=this.options,c=this.options.keys,h=c.length,p=[],f={},d=[],m=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=o.search(t),i.isMatch&&(r=f[n],r?r.score=Math.min(r.score,i.score):(f[n]={item:e,score:i.score},p.push(f[n])));else if(a.isArray(t))for(var s=0;s<t.length;s++)m(t[s],e,n)};if("string"==typeof s[0])for(var g=0;u>g;g++)m(s[g],g,g);else for(var g=0;u>g;g++)for(n=s[g],e=0;h>e;e++)m(l.getFn(n,c[e]),n,g);l.shouldSort&&p.sort(l.sortFn);for(var v=l.id?function(t){p[t].item=l.getFn(p[t].item,l.id)[0]}:function(){},_=function(t){var e;if(l.include.length>0){e={item:p[t].item};for(var n=0;n<l.include.length;n++){var i=l.include[n];e[i]=p[t][i]}}else e=p[t].item;return e},g=0,y=p.length;y>g;g++)v(g),d.push(_(g));return d},"object"==typeof n?e.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):t.Fuse=i}(this)},{}],"lodash.debounce":[function(t,e,n){function i(t,e,n){function i(){v&&clearTimeout(v),f&&clearTimeout(f),y=0,f=v=_=void 0}function o(e,n){n&&clearTimeout(n),f=v=_=void 0,e&&(y=l(),d=t.apply(g,p),v||f||(p=g=void 0))}function u(){var t=e-(l()-m);0>=t||t>e?o(_,f):v=setTimeout(u,t)}function c(){o(x,v)}function h(){if(p=arguments,m=l(),g=this,_=x&&(v||!w),b===!1)var n=w&&!v;else{f||w||(y=m);var i=b-(m-y),r=0>=i||i>b;r?(f&&(f=clearTimeout(f)),y=m,d=t.apply(g,p)):f||(f=setTimeout(c,i))}return r&&v?v=clearTimeout(v):v||e===b||(v=setTimeout(u,e)),n&&(r=!0,d=t.apply(g,p)),!r||v||f||(p=g=void 0),d}var p,f,d,m,g,v,_,y=0,b=!1,x=!0;if("function"!=typeof t)throw new TypeError(a);if(e=0>e?0:+e||0,n===!0){var w=!0;x=!1}else r(n)&&(w=!!n.leading,b="maxWait"in n&&s(+n.maxWait||0,e),x="trailing"in n?!!n.trailing:x);return h.cancel=i,h}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o=t("lodash._getnative"),a="Expected a function",s=Math.max,u=o(Date,"now"),l=u||function(){return(new Date).getTime()};e.exports=i},{"lodash._getnative":11}],"lodash.difference":[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(h(t))}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}var s=t("lodash._basedifference"),u=t("lodash._baseflatten"),l=t("lodash.restparam"),c=9007199254740991,h=r("length"),p=l(function(t,e){return i(t)&&o(t)?s(t,u(e,!1,!0)):[]});e.exports=p},{"lodash._basedifference":12,"lodash._baseflatten":17,"lodash.restparam":20}],"lodash.throttle":[function(t,e,n){function i(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return n===!1?i=!1:r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:i,maxWait:+e,trailing:s})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o=t("lodash.debounce"),a="Expected a function";e.exports=i},{"lodash.debounce":"lodash.debounce"}],"lodash.union":[function(t,e,n){var i=t("lodash._baseflatten"),r=t("lodash._baseuniq"),o=t("lodash.restparam"),a=o(function(t){return r(i(t,!1,!0))});e.exports=a},{"lodash._baseflatten":21,"lodash._baseuniq":24,"lodash.restparam":29}],"mapbox-gl":[function(t,e,n){"use strict";var i=e.exports={};i.Map=t("./ui/map"),i.Control=t("./ui/control/control"),i.Navigation=t("./ui/control/navigation"),i.Attribution=t("./ui/control/attribution"),i.Popup=t("./ui/popup"),i.GeoJSONSource=t("./source/geojson_source"),i.VideoSource=t("./source/video_source"),i.ImageSource=t("./source/image_source"),i.Style=t("./style/style"),i.LngLat=t("./geo/lng_lat"),i.LngLatBounds=t("./geo/lng_lat_bounds"),i.Point=t("point-geometry"),i.Evented=t("./util/evented"),i.util=t("./util/util"),i.supported=t("./util/browser").supported;var r=t("./util/ajax");i.util.getJSON=r.getJSON,i.util.getArrayBuffer=r.getArrayBuffer;var o=t("./util/config");i.config=o,Object.defineProperty(i,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},{"./geo/lng_lat":39,"./geo/lng_lat_bounds":40,"./source/geojson_source":57,"./source/image_source":59,"./source/video_source":66,"./style/style":74,"./ui/control/attribution":96,"./ui/control/control":97,"./ui/control/navigation":98,"./ui/map":108,"./ui/popup":109,"./util/ajax":111,"./util/browser":112,"./util/config":116,"./util/evented":117,"./util/util":123,"point-geometry":153}],"mapbox.js":[function(t,e,n){"use strict";var i=t("./leaflet");t("./mapbox"),e.exports=i},{"./leaflet":179,"./mapbox":183}],nets:[function(t,e,n){(function(n,i){function r(t,e){function r(t,e,n){n&&(n=new i(new Uint8Array(n))),a(t,e,n)}if("string"==typeof t&&(t={uri:t}),t.hasOwnProperty("encoding")||(t.encoding=null),n.browser&&!t.hasOwnProperty("json")&&null===t.encoding){t.responseType="arraybuffer";var a=e;e=r}return o(t,e)}var o=t("request");e.exports=r}).call(this,t("_process"),t("buffer").Buffer)},{_process:8,buffer:2,request:191}],numeral:[function(t,e,n){(function(){function t(t){this._value=t}function n(t,e,n,i){var r,o,a=Math.pow(10,e);return o=(n(t*a)/a).toFixed(e),i&&(r=new RegExp("0{1,"+i+"}$"),o=o.replace(r,"")),o}function i(t,e,n){var i;return i=e.indexOf("$")>-1?o(t,e,n):e.indexOf("%")>-1?a(t,e,n):e.indexOf(":")>-1?s(t,e):l(t._value,e,n)}function r(t,e){var n,i,r,o,a,s=e,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=u(e);else if(e===v)t._value=0;else{for("."!==m[g].delimiters.decimal&&(e=e.replace(/\./g,"").replace(m[g].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+m[g].abbreviations.thousand+"(?:\\)|(\\"+m[g].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+m[g].abbreviations.million+"(?:\\)|(\\"+m[g].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+m[g].abbreviations.billion+"(?:\\)|(\\"+m[g].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+m[g].abbreviations.trillion+"(?:\\)|(\\"+m[g].currency.symbol+")?(?:\\))?)?$"),
a=0;a<=l.length&&!(c=e.indexOf(l[a])>-1?Math.pow(1024,a+1):!1);a++);t._value=(c?c:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(i)?Math.pow(10,6):1)*(s.match(r)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function o(t,e,n){var i,r,o=e.indexOf("$"),a=e.indexOf("("),s=e.indexOf("-"),u="";return e.indexOf(" $")>-1?(u=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(u=" ",e=e.replace("$ ","")):e=e.replace("$",""),r=l(t._value,e,n),1>=o?r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),i=1,(a>o||s>o)&&(i=0),r.splice(i,0,m[g].currency.symbol+u),r=r.join("")):r=m[g].currency.symbol+u+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,u+m[g].currency.symbol),r=r.join("")):r=r+u+m[g].currency.symbol,r}function a(t,e,n){var i,r="",o=100*t._value;return e.indexOf(" %")>-1?(r=" ",e=e.replace(" %","")):e=e.replace("%",""),i=l(o,e,n),i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%",i}function s(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),i=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}function u(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function l(t,e,i){var r,o,a,s,u,l,c=!1,h=!1,p=!1,f="",d=!1,_=!1,y=!1,b=!1,x=!1,w="",E="",M=Math.abs(t),T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],C="",P=!1;if(0===t&&null!==v)return v;if(e.indexOf("(")>-1?(c=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(h=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(d=e.indexOf("aK")>=0,_=e.indexOf("aM")>=0,y=e.indexOf("aB")>=0,b=e.indexOf("aT")>=0,x=d||_||y||b,e.indexOf(" a")>-1?(f=" ",e=e.replace(" a","")):e=e.replace("a",""),M>=Math.pow(10,12)&&!x||b?(f+=m[g].abbreviations.trillion,t/=Math.pow(10,12)):M<Math.pow(10,12)&&M>=Math.pow(10,9)&&!x||y?(f+=m[g].abbreviations.billion,t/=Math.pow(10,9)):M<Math.pow(10,9)&&M>=Math.pow(10,6)&&!x||_?(f+=m[g].abbreviations.million,t/=Math.pow(10,6)):(M<Math.pow(10,6)&&M>=Math.pow(10,3)&&!x||d)&&(f+=m[g].abbreviations.thousand,t/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(w=" ",e=e.replace(" b","")):e=e.replace("b",""),a=0;a<=T.length;a++)if(r=Math.pow(1024,a),o=Math.pow(1024,a+1),t>=r&&o>t){w+=T[a],r>0&&(t/=r);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(E=" ",e=e.replace(" o","")):e=e.replace("o",""),E+=m[g].ordinal(t)),e.indexOf("[.]")>-1&&(p=!0,e=e.replace("[.]",".")),s=t.toString().split(".")[0],u=e.split(".")[1],l=e.indexOf(","),u?(u.indexOf("[")>-1?(u=u.replace("]",""),u=u.split("["),C=n(t,u[0].length+u[1].length,i,u[1].length)):C=n(t,u.length,i),s=C.split(".")[0],C=C.split(".")[1].length?m[g].delimiters.decimal+C.split(".")[1]:"",p&&0===Number(C.slice(1))&&(C="")):s=n(t,null,i),s.indexOf("-")>-1&&(s=s.slice(1),P=!0),l>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[g].delimiters.thousands)),0===e.indexOf(".")&&(s=""),(c&&P?"(":"")+(!c&&P?"-":"")+(!P&&h?"+":"")+s+C+(E?E:"")+(f?f:"")+(w?w:"")+(c&&P?")":"")}function c(t,e){m[t]=e}function h(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function p(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=h(t),i=h(e);return n>i?n:i},-(1/0))}var f,d="1.5.3",m={},g="en",v=null,_="0,0",y="undefined"!=typeof e&&e.exports;f=function(e){return f.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=f.fn.unformat(e)),new t(Number(e))},f.version=d,f.isNumeral=function(e){return e instanceof t},f.language=function(t,e){if(!t)return g;if(t&&!e){if(!m[t])throw new Error("Unknown language : "+t);g=t}return(e||!m[t])&&c(t,e),f},f.languageData=function(t){if(!t)return m[g];if(!m[t])throw new Error("Unknown language : "+t);return m[t]},f.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),f.zeroFormat=function(t){v="string"==typeof t?t:null},f.defaultFormat=function(t){_="string"==typeof t?t:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=e,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?i=t(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),f.fn=t.prototype={clone:function(){return f(this)},format:function(t,e){return i(this,t?t:_,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:r(this,t?t:_)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,i,r){return t+n*e}var n=p.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,i,r){return t-n*e}var n=p.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,i){var r=p(t,e);return t*r*(e*r)/(r*r)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,i){var r=p(t,e);return t*r/(e*r)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(f(this._value).subtract(t).value())}},y&&(e.exports=f),"undefined"==typeof ender&&(this.numeral=f),"function"==typeof define&&define.amd&&define([],function(){return f})}).call(this)},{}],"object-assign":[function(t,e,n){"use strict";function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var n,r,o=i(t),a=1;a<arguments.length;a++){n=arguments[a],r=Object.keys(Object(n));for(var s=0;s<r.length;s++)o[r[s]]=n[r[s]]}return o}},{}],"queue-async":[function(t,e,n){!function(){function t(t){function e(){for(;s=c<l.length&&t>h;){var e=c++,n=l[e],o=i.call(n,1);o.push(r(e)),++h,n[0].apply(null,o)}}function r(t){return function(n,i){--h,null==f&&(null!=n?(f=n,c=p=NaN,o()):(l[t]=i,--p?s||e():o()))}}function o(){null!=f?d(f):u?d(f,l):d.apply(null,[f].concat(l))}var a,s,u,l=[],c=0,h=0,p=0,f=null,d=n;return t||(t=1/0),a={defer:function(){return f||(l.push(arguments),++p,e()),a},await:function(t){return d=t,u=!1,p||o(),a},awaitAll:function(t){return d=t,u=!0,p||o(),a}}}function n(){}var i=[].slice;t.version="1.0.7","function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof e&&e.exports?e.exports=t:this.queue=t}()},{}],"react-autosuggest":[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;s=l=u=void 0,i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0}},c=t("react"),h=i(c),p=t("debounce"),f=i(p),d=t("react-themeable"),m=i(d),g=t("./sectionIterator"),v=i(g),_=function(t){function e(t){r(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.cache={},this.state={value:t.value||t.defaultValue||"",suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},this.isControlledComponent="undefined"!=typeof t.value,this.suggestionsFn=(0,f["default"])(t.suggestions,100),this.onChange=t.inputAttributes.onChange||function(){},this.onFocus=t.inputAttributes.onFocus||function(){},this.onBlur=t.inputAttributes.onBlur||function(){},this.lastSuggestionsInputValue=null,this.justUnfocused=!1,this.justClickedOnSuggestion=!1,this.justPressedUpDown=!1,this.justPressedEsc=!1,this.onInputChange=this.onInputChange.bind(this),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onInputFocus=this.onInputFocus.bind(this),this.onInputBlur=this.onInputBlur.bind(this)}return o(e,t),u(e,null,[{key:"propTypes",value:{value:c.PropTypes.string,defaultValue:c.PropTypes.string,suggestions:c.PropTypes.func.isRequired,suggestionRenderer:c.PropTypes.func,suggestionValue:c.PropTypes.func,showWhen:c.PropTypes.func,onSuggestionSelected:c.PropTypes.func,onSuggestionFocused:c.PropTypes.func,onSuggestionUnfocused:c.PropTypes.func,inputAttributes:c.PropTypes.object,cache:c.PropTypes.bool,id:c.PropTypes.string,scrollBar:c.PropTypes.bool,theme:c.PropTypes.object},enumerable:!0},{key:"defaultProps",value:{showWhen:function(t){return t.trim().length>0},onSuggestionSelected:function(){},onSuggestionFocused:function(){},onSuggestionUnfocused:function(){},inputAttributes:{},cache:!0,id:"1",scrollBar:!1,theme:{root:"react-autosuggest",suggestions:"react-autosuggest__suggestions",suggestion:"react-autosuggest__suggestion",suggestionIsFocused:"react-autosuggest__suggestion--focused",section:"react-autosuggest__suggestions-section",sectionName:"react-autosuggest__suggestions-section-name",sectionSuggestions:"react-autosuggest__suggestions-section-suggestions"}},enumerable:!0}]),u(e,[{key:"componentWillReceiveProps",value:function(t){if(this.isControlledComponent){var e=(0,c.findDOMNode)(this.refs.input).value;t.value===e||this.justClickedOnSuggestion||this.justPressedUpDown||this.justPressedEsc||this.handleValueChange(t.value)}}},{key:"resetSectionIterator",value:function(t){this.isMultipleSections(t)?v["default"].setData(t.map(function(t){return t.suggestions.length})):v["default"].setData(null===t?[]:t.length)}},{key:"isMultipleSections",value:function(t){return null!==t&&t.length>0&&"undefined"!=typeof t[0].suggestions}},{key:"setSuggestionsState",value:function(t){this.resetSectionIterator(t),this.setState({suggestions:t,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null})}},{key:"suggestionsExist",value:function(t){return this.isMultipleSections(t)?t.some(function(t){return t.suggestions.length>0}):null!==t&&t.length>0}},{key:"showSuggestions",value:function(t){var e=this,n=t.toLowerCase();this.lastSuggestionsInputValue=t,this.props.showWhen(t)?this.props.cache&&this.cache[n]?this.setSuggestionsState(this.cache[n]):this.suggestionsFn(t,function(i,r){if(e.lastSuggestionsInputValue===t){if(i)throw i;e.suggestionsExist(r)||(r=null),e.props.cache&&(e.cache[n]=r),e.setSuggestionsState(r)}}):this.setSuggestionsState(null)}},{key:"suggestionIsFocused",value:function(){return null!==this.state.focusedSuggestionIndex}},{key:"getSuggestion",value:function(t,e){return this.isMultipleSections(this.state.suggestions)?this.state.suggestions[t].suggestions[e]:this.state.suggestions[e]}},{key:"getFocusedSuggestion",value:function(){return this.suggestionIsFocused()?this.getSuggestion(this.state.focusedSectionIndex,this.state.focusedSuggestionIndex):null}},{key:"getSuggestionValue",value:function(t,e){var n=this.getSuggestion(t,e);if("object"==typeof n){if(this.props.suggestionValue)return this.props.suggestionValue(n);throw new Error("When <suggestion> is an object, you must implement the suggestionValue() function to specify how to set input's value when suggestion selected.")}return n.toString()}},{key:"onSuggestionUnfocused",value:function(){var t=this.getFocusedSuggestion();null===t||this.justUnfocused||(this.props.onSuggestionUnfocused(t),this.justUnfocused=!0)}},{key:"onSuggestionFocused",value:function(t,e){this.onSuggestionUnfocused();var n=this.getSuggestion(t,e);this.props.onSuggestionFocused(n),this.justUnfocused=!1}},{key:"scrollToElement",value:function(t,e,n){if("bottom"===n){var i=e.offsetTop+e.offsetHeight-t.scrollTop-t.offsetHeight;i>0&&(t.scrollTop+=i)}else{var i=t.scrollTop-e.offsetTop;i>0&&(t.scrollTop-=i)}}},{key:"scrollToSuggestion",value:function(t,e,n){var i="down"===t?"bottom":"top";if(null===n){if("down"!==t)return;i="top";var r=v["default"].next([null,null]),o=s(r,2);e=o[0],n=o[1]}else v["default"].isLast([e,n])&&"up"===t&&(i="bottom");var a=(0,c.findDOMNode)(this.refs.suggestions),u=this.getSuggestionRef(e,n),l=(0,c.findDOMNode)(this.refs[u]);this.scrollToElement(a,l,i)}},{key:"focusOnSuggestionUsingKeyboard",value:function(t,e){var n=this,i=s(e,2),r=i[0],o=i[1],a={focusedSectionIndex:r,focusedSuggestionIndex:o,value:null===o?this.state.valueBeforeUpDown:this.getSuggestionValue(r,o)};this.justPressedUpDown=!0,null===this.state.valueBeforeUpDown&&(a.valueBeforeUpDown=this.state.value),null===o?this.onSuggestionUnfocused():this.onSuggestionFocused(r,o),this.props.scrollBar&&this.scrollToSuggestion(t,r,o),a.value!==this.state.value&&this.onChange(a.value),this.setState(a),setTimeout(function(){return n.justPressedUpDown=!1})}},{key:"onSuggestionSelected",value:function(t){var e=this.getFocusedSuggestion();this.props.onSuggestionUnfocused(e),this.props.onSuggestionSelected(e,t)}},{key:"onInputChange",value:function(t){var e=t.target.value;this.onSuggestionUnfocused(),this.handleValueChange(e),this.showSuggestions(e)}},{key:"handleValueChange",value:function(t){t!==this.state.value&&(this.onChange(t),this.setState({value:t}))}},{key:"onInputKeyDown",value:function(t){var e=this,n=void 0;switch(t.keyCode){case 13:null!==this.state.valueBeforeUpDown&&this.suggestionIsFocused()&&this.onSuggestionSelected(t),this.setSuggestionsState(null);break;case 27:n={suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},null!==this.state.valueBeforeUpDown?n.value=this.state.valueBeforeUpDown:null===this.state.suggestions&&(n.value=""),this.onSuggestionUnfocused(),this.justPressedEsc=!0,"string"==typeof n.value&&n.value!==this.state.value&&this.onChange(n.value),this.setState(n),setTimeout(function(){return e.justPressedEsc=!1});break;case 38:null===this.state.suggestions?this.showSuggestions(this.state.value):this.focusOnSuggestionUsingKeyboard("up",v["default"].prev([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex])),t.preventDefault();break;case 40:null===this.state.suggestions?this.showSuggestions(this.state.value):this.focusOnSuggestionUsingKeyboard("down",v["default"].next([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex]))}}},{key:"onInputFocus",value:function(t){this.justClickedOnSuggestion||this.showSuggestions(this.state.value),this.onFocus(t)}},{key:"onInputBlur",value:function(t){this.onSuggestionUnfocused(),this.justClickedOnSuggestion||this.onBlur(t),this.setSuggestionsState(null)}},{key:"isSuggestionFocused",value:function(t,e){return t===this.state.focusedSectionIndex&&e===this.state.focusedSuggestionIndex}},{key:"onSuggestionMouseEnter",value:function(t,e){this.isSuggestionFocused(t,e)||this.onSuggestionFocused(t,e),this.setState({focusedSectionIndex:t,focusedSuggestionIndex:e})}},{key:"onSuggestionMouseLeave",value:function(t,e){this.isSuggestionFocused(t,e)&&this.onSuggestionUnfocused(),this.setState({focusedSectionIndex:null,focusedSuggestionIndex:null})}},{key:"onSuggestionMouseDown",value:function(t,e,n){var i=this,r=this.getSuggestionValue(t,e);this.justClickedOnSuggestion=!0,this.onSuggestionSelected(n),r!==this.state.value&&this.onChange(r),this.setState({value:r,suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},function(){setTimeout(function(){(0,c.findDOMNode)(i.refs.input).focus(),i.justClickedOnSuggestion=!1})})}},{key:"getSuggestionId",value:function(t,e){return null===e?null:"react-autosuggest-"+this.props.id+"-"+this.getSuggestionRef(t,e)}},{key:"getSuggestionRef",value:function(t,e){return"suggestion-"+(null===t?"":t)+"-"+e}},{key:"renderSuggestionContent",value:function(t){if(this.props.suggestionRenderer)return this.props.suggestionRenderer(t,this.state.valueBeforeUpDown||this.state.value);if("object"==typeof t)throw new Error("When <suggestion> is an object, you must implement the suggestionRenderer() function to specify how to render it.");return t.toString()}},{key:"renderSuggestionsList",value:function(t,e,n){var i=this;return e.map(function(e,r){var o=t(r,"suggestion",n===i.state.focusedSectionIndex&&r===i.state.focusedSuggestionIndex&&"suggestionIsFocused"),s=i.getSuggestionRef(n,r);return h["default"].createElement("li",a({id:i.getSuggestionId(n,r)},o,{role:"option",ref:s,key:s,onMouseEnter:function(){return i.onSuggestionMouseEnter(n,r)},onMouseLeave:function(){return i.onSuggestionMouseLeave(n,r)},onMouseDown:function(t){return i.onSuggestionMouseDown(n,r,t)}}),i.renderSuggestionContent(e))})}},{key:"renderSuggestions",value:function(t){var e=this;return null===this.state.suggestions?null:this.isMultipleSections(this.state.suggestions)?h["default"].createElement("div",a({id:"react-autosuggest-"+this.props.id},t("suggestions","suggestions"),{ref:"suggestions",role:"listbox"}),this.state.suggestions.map(function(n,i){var r=n.sectionName?h["default"].createElement("div",t("sectionName-"+i,"sectionName"),n.sectionName):null;return 0===n.suggestions.length?null:h["default"].createElement("div",a({},t("section-"+i,"section"),{key:"section-"+i}),r,h["default"].createElement("ul",t("sectionSuggestions-"+i,"sectionSuggestions"),e.renderSuggestionsList(t,n.suggestions,i)))})):h["default"].createElement("ul",a({id:"react-autosuggest-"+this.props.id},t("suggestions","suggestions"),{ref:"suggestions",role:"listbox"}),this.renderSuggestionsList(t,this.state.suggestions,null))}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.inputAttributes,i=this.state,r=i.value,o=i.suggestions,s=i.focusedSectionIndex,u=i.focusedSuggestionIndex,l=(0,m["default"])(this.props.theme),c=this.getSuggestionId(s,u);return h["default"].createElement("div",l("root","root"),h["default"].createElement("input",a({},n,{type:n.type||"text",value:r,autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":"react-autosuggest-"+e,"aria-expanded":null!==o,"aria-activedescendant":c,ref:"input",onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,onFocus:this.onInputFocus,onBlur:this.onInputBlur})),this.renderSuggestions(l))}}]),e}(c.Component);n["default"]=_,e.exports=n["default"]},{"./sectionIterator":199,debounce:200,react:"react","react-themeable":202}],"react-router":[function(t,e,n){"use strict";n.DefaultRoute=t("./components/DefaultRoute"),n.Link=t("./components/Link"),n.NotFoundRoute=t("./components/NotFoundRoute"),n.Redirect=t("./components/Redirect"),n.Route=t("./components/Route"),n.ActiveHandler=t("./components/RouteHandler"),n.RouteHandler=n.ActiveHandler,n.HashLocation=t("./locations/HashLocation"),n.HistoryLocation=t("./locations/HistoryLocation"),n.RefreshLocation=t("./locations/RefreshLocation"),n.StaticLocation=t("./locations/StaticLocation"),n.TestLocation=t("./locations/TestLocation"),n.ImitateBrowserBehavior=t("./behaviors/ImitateBrowserBehavior"),n.ScrollToTopBehavior=t("./behaviors/ScrollToTopBehavior"),n.History=t("./History"),n.Navigation=t("./Navigation"),n.State=t("./State"),n.createRoute=t("./Route").createRoute,n.createDefaultRoute=t("./Route").createDefaultRoute,n.createNotFoundRoute=t("./Route").createNotFoundRoute,n.createRedirect=t("./Route").createRedirect,n.createRoutesFromReactChildren=t("./createRoutesFromReactChildren"),n.create=t("./createRouter"),n.run=t("./runRouter")},{"./History":204,"./Navigation":206,"./Route":210,"./State":212,"./behaviors/ImitateBrowserBehavior":215,"./behaviors/ScrollToTopBehavior":216,"./components/DefaultRoute":218,"./components/Link":219,"./components/NotFoundRoute":220,"./components/Redirect":221,"./components/Route":222,"./components/RouteHandler":223,"./createRouter":224,"./createRoutesFromReactChildren":225,"./locations/HashLocation":228,"./locations/HistoryLocation":229,"./locations/RefreshLocation":230,"./locations/StaticLocation":231,"./locations/TestLocation":232,"./runRouter":233}],react:[function(t,e,n){e.exports=t("./lib/React")},{"./lib/React":270}],reflux:[function(t,e,n){var i=t("reflux-core");i.connect=t("./connect"),i.connectFilter=t("./connectFilter"),i.ListenerMixin=t("./ListenerMixin"),i.listenTo=t("./listenTo"),i.listenToMany=t("./listenToMany"),e.exports=i},{"./ListenerMixin":410,"./connect":411,"./connectFilter":412,"./listenTo":413,"./listenToMany":414,"reflux-core":406}],remarkable:[function(t,e,n){"use strict";e.exports=t("./lib/")},{"./lib/":428}],"simple-statistics":[function(t,e,n){"use strict";var i=e.exports={};i.linearRegression=t("./src/linear_regression"),i.linearRegressionLine=t("./src/linear_regression_line"),i.standardDeviation=t("./src/standard_deviation"),i.rSquared=t("./src/r_squared"),i.mode=t("./src/mode"),i.min=t("./src/min"),i.max=t("./src/max"),i.sum=t("./src/sum"),i.quantile=t("./src/quantile"),i.quantileSorted=t("./src/quantile_sorted"),i.iqr=i.interquartileRange=t("./src/interquartile_range"),i.medianAbsoluteDeviation=i.mad=t("./src/mad"),i.chunk=t("./src/chunk"),i.shuffle=t("./src/shuffle"),i.shuffleInPlace=t("./src/shuffle_in_place"),i.sample=t("./src/sample"),i.ckmeans=t("./src/ckmeans"),i.sortedUniqueCount=t("./src/sorted_unique_count"),i.sumNthPowerDeviations=t("./src/sum_nth_power_deviations"),i.sampleCovariance=t("./src/sample_covariance"),i.sampleCorrelation=t("./src/sample_correlation"),i.sampleVariance=t("./src/sample_variance"),i.sampleStandardDeviation=t("./src/sample_standard_deviation"),i.sampleSkewness=t("./src/sample_skewness"),i.geometricMean=t("./src/geometric_mean"),i.harmonicMean=t("./src/harmonic_mean"),i.mean=i.average=t("./src/mean"),i.median=t("./src/median"),i.rootMeanSquare=i.rms=t("./src/root_mean_square"),i.variance=t("./src/variance"),i.tTest=t("./src/t_test"),i.tTestTwoSample=t("./src/t_test_two_sample"),i.bayesian=t("./src/bayesian_classifier"),i.perceptron=t("./src/perceptron"),i.epsilon=t("./src/epsilon"),i.factorial=t("./src/factorial"),i.bernoulliDistribution=t("./src/bernoulli_distribution"),i.binomialDistribution=t("./src/binomial_distribution"),i.poissonDistribution=t("./src/poisson_distribution"),i.chiSquaredGoodnessOfFit=t("./src/chi_squared_goodness_of_fit"),i.zScore=t("./src/z_score"),i.cumulativeStdNormalProbability=t("./src/cumulative_std_normal_probability"),i.standardNormalTable=t("./src/standard_normal_table"),i.errorFunction=i.erf=t("./src/error_function"),i.inverseErrorFunction=t("./src/inverse_error_function"),i.probit=t("./src/probit"),i.mixin=t("./src/mixin")},{"./src/bayesian_classifier":475,"./src/bernoulli_distribution":476,"./src/binomial_distribution":477,"./src/chi_squared_goodness_of_fit":479,"./src/chunk":480,"./src/ckmeans":481,"./src/cumulative_std_normal_probability":482,"./src/epsilon":483,"./src/error_function":484,"./src/factorial":485,"./src/geometric_mean":486,"./src/harmonic_mean":487,"./src/interquartile_range":488,"./src/inverse_error_function":489,"./src/linear_regression":490,"./src/linear_regression_line":491,"./src/mad":492,"./src/max":493,"./src/mean":494,"./src/median":495,"./src/min":496,"./src/mixin":497,"./src/mode":498,"./src/perceptron":500,"./src/poisson_distribution":501,"./src/probit":502,"./src/quantile":503,"./src/quantile_sorted":504,"./src/r_squared":505,"./src/root_mean_square":506,"./src/sample":507,"./src/sample_correlation":508,"./src/sample_covariance":509,"./src/sample_skewness":510,"./src/sample_standard_deviation":511,"./src/sample_variance":512,"./src/shuffle":513,"./src/shuffle_in_place":514,"./src/sorted_unique_count":515,"./src/standard_deviation":516,"./src/standard_normal_table":517,"./src/sum":518,"./src/sum_nth_power_deviations":519,"./src/t_test":520,"./src/t_test_two_sample":521,"./src/variance":522,"./src/z_score":523}],titlecase:[function(t,e,n){function i(t,e){return t?t.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,n,i){return n>0&&n+t.length!==i.length&&t.search(e)>-1&&":"!==i.charAt(n-2)&&("-"!==i.charAt(n+t.length)||"-"===i.charAt(n-1))&&i.charAt(n-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)}):t}var r=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;e.exports=function(t){return i(t,r)},e.exports.toTitleCase=e.exports;var o=t("./articles").concat(t("./prepositions")).concat(t("./conjunctions")).concat(r.source.replace(/(^\^\(|\)\$$)/g,"").split("|")).concat(["is"]),a=new RegExp("^("+o.join("|")+")$","i");e.exports.toLaxTitleCase=function(t){return i(t,a)}},{"./articles":524,"./conjunctions":525,"./prepositions":526}],topojson:[function(t,e,i){!function(){function t(t,e){function n(e){var n,i=t.arcs[0>e?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],0>e?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[0>t?~t:t]=1}),s.push(i)}}var r={},o={},a={},s=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=a[l.end=i.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,i=a[s]){delete a[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),i(a,o),i(o,a),e.forEach(function(t){r[0>t?~t:t]||s.push([t])}),s}function i(e,n,i){function r(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function o(t){t.forEach(r)}function a(t){t.forEach(o)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in h&&(l=t,h[t.type](t.arcs))}var u=[];if(arguments.length>1){var l,c=[],h={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};s(n),c.forEach(arguments.length<3?function(t){u.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&u.push(t[0].i)})}else for(var p=0,f=e.arcs.length;f>p;++p)u.push(p);return{type:"MultiLineString",arcs:t(e,u)}}function r(e,i){function r(t){t.forEach(function(e){e.forEach(function(e){(a[e=0>e?~e:e]||(a[e]=[])).push(t)})}),u.push(t)}function o(t){return p(s(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var a={},u=[],l=[];return i.forEach(function(t){"Polygon"===t.type?r(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(r)}),u.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,l.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){a[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),u.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:l.map(function(i){var r=[];if(i.forEach(function(t){t.forEach(function(t){t.forEach(function(t){a[0>t?~t:t].length<2&&r.push(t)})})}),r=t(e,r),(n=r.length)>1)for(var s,u=o(i[0][0]),l=0;l<n;++l)if(u===o(r[l])){s=r[0],r[0]=r[l],r[l]=s;break}return r})}}function o(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return a(t,e)})}:a(t,e)}function a(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:s(t,e)};return null==e.id&&delete n.id,n}function s(t,e){function n(t,e){e.length&&e.pop();for(var n,i=c[0>t?~t:t],r=0,o=i.length;o>r;++r)e.push(n=i[r].slice()),l(n,r);0>t&&u(e,o)}function i(t){return t=t.slice(),l(t,0),t}function r(t){for(var e=[],i=0,r=t.length;r>i;++i)n(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0].slice());return e}function a(t){return t.map(o)}function s(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(s)}:e in h?{type:e,coordinates:h[e](t)}:null}var l=g(t.transform),c=t.arcs,h={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return r(t.arcs)},MultiLineString:function(t){return t.arcs.map(r)},Polygon:function(t){return a(t.arcs)},MultiPolygon:function(t){return t.arcs.map(a)}};return s(e)}function u(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function l(t,e){for(var n=0,i=t.length;i>n;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function c(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var r={},o=t.map(function(){return[]}),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var s in r)for(var u=r[s],c=u.length,h=0;c>h;++h)for(var p=h+1;c>p;++p){var f,d=u[h],m=u[p];(f=o[d])[s=l(f,m)]!==m&&f.splice(s,0,m),(f=o[m])[s=l(f,d)]!==d&&f.splice(s,0,d)}return o}function h(t,e){function n(t){o.remove(t),t[1][2]=e(t),o.push(t)}var i=g(t.transform),r=v(t.transform),o=m();return e||(e=f),t.arcs.forEach(function(t){for(var a,s,u=[],l=0,c=0,h=t.length;h>c;++c)s=t[c],i(t[c]=[s[0],s[1],1/0],c);for(var c=1,h=t.length-1;h>c;++c)a=t.slice(c-1,c+2),a[1][2]=e(a),u.push(a),o.push(a);for(var c=0,h=u.length;h>c;++c)a=u[c],a.previous=u[c-1],a.next=u[c+1];for(;a=o.pop();){var p=a.previous,f=a.next;a[1][2]<l?a[1][2]=l:l=a[1][2],p&&(p.next=f,p[2]=a[2],n(p)),f&&(f.previous=p,f[0]=a[0],n(f))}t.forEach(r)}),t}function p(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return.5*o}function f(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function d(t,e){return t[1][2]-e[1][2]}function m(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(d(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=i[a];if(r>o&&d(i[o],s)<0&&(s=i[a=o]),r>n&&d(i[n],s)<0&&(s=i[a=n]),a===e)break;i[s._=e]=s,i[t._=e=a]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(0>=r)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(d(o,n)<0?t:e)(i[o._=a]=o,a)),a},n}function g(t){if(!t)return _;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0),t[0]=(e+=t[0])*i+o,t[1]=(n+=t[1])*r+a}}function v(t){if(!t)return _;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=(t[0]-o)/i|0,l=(t[1]-a)/r|0;t[0]=u-e,t[1]=l-n,e=u,n=l}}function _(){}var y={version:"1.6.19",mesh:function(t){return s(t,i.apply(this,arguments))},meshArcs:i,
merge:function(t){return s(t,r.apply(this,arguments))},mergeArcs:r,feature:o,neighbors:c,presimplify:h};"function"==typeof define&&define.amd?define(y):"object"==typeof e&&e.exports?e.exports=y:this.topojson=y}()},{}],"turf-centroid":[function(t,e,n){var i=t("turf-meta").coordEach,r=t("turf-point");e.exports=function(t){var e=0,n=0,o=0;return i(t,function(t){e+=t[0],n+=t[1],o++},!0),r([e/o,n/o])}},{"turf-meta":527,"turf-point":528}],"turf-extent":[function(t,e,n){var i=t("turf-meta").coordEach;e.exports=function(t){var e=[1/0,1/0,-(1/0),-(1/0)];return i(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},{"turf-meta":529}],uniq:[function(t,e,n){"use strict";function i(t,e){for(var n=1,i=t.length,r=t[0],o=t[0],a=1;i>a;++a)if(o=r,r=t[a],e(r,o)){if(a===n){n++;continue}t[n++]=r}return t.length=n,t}function r(t){for(var e=1,n=t.length,i=t[0],r=t[0],o=1;n>o;++o,r=i)if(r=i,i=t[o],i!==r){if(o===e){e++;continue}t[e++]=i}return t.length=e,t}function o(t,e,n){return 0===t.length?t:e?(n||t.sort(e),i(t,e)):(n||t.sort(),r(t))}e.exports=o},{}]},{},[]);